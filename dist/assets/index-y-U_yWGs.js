function gN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function vN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var av={exports:{}},Al={},ov={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ja=Symbol.for("react.element"),_N=Symbol.for("react.portal"),bN=Symbol.for("react.fragment"),yN=Symbol.for("react.strict_mode"),xN=Symbol.for("react.profiler"),NN=Symbol.for("react.provider"),wN=Symbol.for("react.context"),jN=Symbol.for("react.forward_ref"),CN=Symbol.for("react.suspense"),EN=Symbol.for("react.memo"),SN=Symbol.for("react.lazy"),of=Symbol.iterator;function IN(t){return t===null||typeof t!="object"?null:(t=of&&t[of]||t["@@iterator"],typeof t=="function"?t:null)}var lv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cv=Object.assign,uv={};function Ws(t,e,n){this.props=t,this.context=e,this.refs=uv,this.updater=n||lv}Ws.prototype.isReactComponent={};Ws.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ws.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function dv(){}dv.prototype=Ws.prototype;function eh(t,e,n){this.props=t,this.context=e,this.refs=uv,this.updater=n||lv}var th=eh.prototype=new dv;th.constructor=eh;cv(th,Ws.prototype);th.isPureReactComponent=!0;var lf=Array.isArray,hv=Object.prototype.hasOwnProperty,nh={current:null},mv={key:!0,ref:!0,__self:!0,__source:!0};function fv(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)hv.call(e,r)&&!mv.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:ja,type:t,key:i,ref:o,props:s,_owner:nh.current}}function TN(t,e){return{$$typeof:ja,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function rh(t){return typeof t=="object"&&t!==null&&t.$$typeof===ja}function kN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var cf=/\/+/g;function Ec(t,e){return typeof t=="object"&&t!==null&&t.key!=null?kN(""+t.key):e.toString(36)}function bo(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ja:case _N:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Ec(o,0):r,lf(s)?(n="",t!=null&&(n=t.replace(cf,"$&/")+"/"),bo(s,e,n,"",function(h){return h})):s!=null&&(rh(s)&&(s=TN(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(cf,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",lf(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+Ec(i,l);o+=bo(i,e,n,c,s)}else if(c=IN(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+Ec(i,l++),o+=bo(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ja(t,e,n){if(t==null)return t;var r=[],s=0;return bo(t,r,"","",function(i){return e.call(n,i,s++)}),r}function RN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ot={current:null},yo={transition:null},PN={ReactCurrentDispatcher:ot,ReactCurrentBatchConfig:yo,ReactCurrentOwner:nh};function pv(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:Ja,forEach:function(t,e,n){Ja(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ja(t,function(){e++}),e},toArray:function(t){return Ja(t,function(e){return e})||[]},only:function(t){if(!rh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Q.Component=Ws;Q.Fragment=bN;Q.Profiler=xN;Q.PureComponent=eh;Q.StrictMode=yN;Q.Suspense=CN;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PN;Q.act=pv;Q.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=cv({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=nh.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)hv.call(e,c)&&!mv.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:ja,type:t.type,key:s,ref:i,props:r,_owner:o}};Q.createContext=function(t){return t={$$typeof:wN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:NN,_context:t},t.Consumer=t};Q.createElement=fv;Q.createFactory=function(t){var e=fv.bind(null,t);return e.type=t,e};Q.createRef=function(){return{current:null}};Q.forwardRef=function(t){return{$$typeof:jN,render:t}};Q.isValidElement=rh;Q.lazy=function(t){return{$$typeof:SN,_payload:{_status:-1,_result:t},_init:RN}};Q.memo=function(t,e){return{$$typeof:EN,type:t,compare:e===void 0?null:e}};Q.startTransition=function(t){var e=yo.transition;yo.transition={};try{t()}finally{yo.transition=e}};Q.unstable_act=pv;Q.useCallback=function(t,e){return ot.current.useCallback(t,e)};Q.useContext=function(t){return ot.current.useContext(t)};Q.useDebugValue=function(){};Q.useDeferredValue=function(t){return ot.current.useDeferredValue(t)};Q.useEffect=function(t,e){return ot.current.useEffect(t,e)};Q.useId=function(){return ot.current.useId()};Q.useImperativeHandle=function(t,e,n){return ot.current.useImperativeHandle(t,e,n)};Q.useInsertionEffect=function(t,e){return ot.current.useInsertionEffect(t,e)};Q.useLayoutEffect=function(t,e){return ot.current.useLayoutEffect(t,e)};Q.useMemo=function(t,e){return ot.current.useMemo(t,e)};Q.useReducer=function(t,e,n){return ot.current.useReducer(t,e,n)};Q.useRef=function(t){return ot.current.useRef(t)};Q.useState=function(t){return ot.current.useState(t)};Q.useSyncExternalStore=function(t,e,n){return ot.current.useSyncExternalStore(t,e,n)};Q.useTransition=function(){return ot.current.useTransition()};Q.version="18.3.1";ov.exports=Q;var w=ov.exports;const gv=vN(w),DN=gN({__proto__:null,default:gv},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AN=w,ON=Symbol.for("react.element"),MN=Symbol.for("react.fragment"),LN=Object.prototype.hasOwnProperty,FN=AN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UN={key:!0,ref:!0,__self:!0,__source:!0};function vv(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)LN.call(e,r)&&!UN.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:ON,type:t,key:i,ref:o,props:s,_owner:FN.current}}Al.Fragment=MN;Al.jsx=vv;Al.jsxs=vv;av.exports=Al;var a=av.exports,xu={},_v={exports:{}},St={},bv={exports:{}},yv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,z){var K=U.length;U.push(z);e:for(;0<K;){var je=K-1>>>1,Le=U[je];if(0<s(Le,z))U[je]=z,U[K]=Le,K=je;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var z=U[0],K=U.pop();if(K!==z){U[0]=K;e:for(var je=0,Le=U.length,Ga=Le>>>1;je<Ga;){var br=2*(je+1)-1,Cc=U[br],yr=br+1,Ka=U[yr];if(0>s(Cc,K))yr<Le&&0>s(Ka,Cc)?(U[je]=Ka,U[yr]=K,je=yr):(U[je]=Cc,U[br]=K,je=br);else if(yr<Le&&0>s(Ka,K))U[je]=Ka,U[yr]=K,je=yr;else break e}}return z}function s(U,z){var K=U.sortIndex-z.sortIndex;return K!==0?K:U.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],h=[],p=1,f=null,d=3,g=!1,y=!1,N=!1,E=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(U){for(var z=n(h);z!==null;){if(z.callback===null)r(h);else if(z.startTime<=U)r(h),z.sortIndex=z.expirationTime,e(c,z);else break;z=n(h)}}function C(U){if(N=!1,x(U),!y)if(n(c)!==null)y=!0,wc(v);else{var z=n(h);z!==null&&jc(C,z.startTime-U)}}function v(U,z){y=!1,N&&(N=!1,b(P),P=-1),g=!0;var K=d;try{for(x(z),f=n(c);f!==null&&(!(f.expirationTime>z)||U&&!M());){var je=f.callback;if(typeof je=="function"){f.callback=null,d=f.priorityLevel;var Le=je(f.expirationTime<=z);z=t.unstable_now(),typeof Le=="function"?f.callback=Le:f===n(c)&&r(c),x(z)}else r(c);f=n(c)}if(f!==null)var Ga=!0;else{var br=n(h);br!==null&&jc(C,br.startTime-z),Ga=!1}return Ga}finally{f=null,d=K,g=!1}}var k=!1,R=null,P=-1,L=5,D=-1;function M(){return!(t.unstable_now()-D<L)}function m(){if(R!==null){var U=t.unstable_now();D=U;var z=!0;try{z=R(!0,U)}finally{z?u():(k=!1,R=null)}}else k=!1}var u;if(typeof _=="function")u=function(){_(m)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,W=j.port2;j.port1.onmessage=m,u=function(){W.postMessage(null)}}else u=function(){E(m,0)};function wc(U){R=U,k||(k=!0,u())}function jc(U,z){P=E(function(){U(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,wc(v))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(U){switch(d){case 1:case 2:case 3:var z=3;break;default:z=d}var K=d;d=z;try{return U()}finally{d=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,z){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var K=d;d=U;try{return z()}finally{d=K}},t.unstable_scheduleCallback=function(U,z,K){var je=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?je+K:je):K=je,U){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=K+Le,U={id:p++,callback:z,priorityLevel:U,startTime:K,expirationTime:Le,sortIndex:-1},K>je?(U.sortIndex=K,e(h,U),n(c)===null&&U===n(h)&&(N?(b(P),P=-1):N=!0,jc(C,K-je))):(U.sortIndex=Le,e(c,U),y||g||(y=!0,wc(v))),U},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(U){var z=d;return function(){var K=d;d=z;try{return U.apply(this,arguments)}finally{d=K}}}})(yv);bv.exports=yv;var BN=bv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $N=w,wt=BN;function A(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xv=new Set,Vi={};function Jr(t,e){ks(t,e),ks(t+"Capture",e)}function ks(t,e){for(Vi[t]=e,t=0;t<e.length;t++)xv.add(e[t])}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nu=Object.prototype.hasOwnProperty,VN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uf={},df={};function qN(t){return Nu.call(df,t)?!0:Nu.call(uf,t)?!1:VN.test(t)?df[t]=!0:(uf[t]=!0,!1)}function zN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function WN(t,e,n,r){if(e===null||typeof e>"u"||zN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function lt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Qe[t]=new lt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Qe[e]=new lt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Qe[t]=new lt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Qe[t]=new lt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Qe[t]=new lt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Qe[t]=new lt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Qe[t]=new lt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Qe[t]=new lt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Qe[t]=new lt(t,5,!1,t.toLowerCase(),null,!1,!1)});var sh=/[\-:]([a-z])/g;function ih(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(sh,ih);Qe[e]=new lt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(sh,ih);Qe[e]=new lt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(sh,ih);Qe[e]=new lt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Qe[t]=new lt(t,1,!1,t.toLowerCase(),null,!1,!1)});Qe.xlinkHref=new lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Qe[t]=new lt(t,1,!1,t.toLowerCase(),null,!0,!0)});function ah(t,e,n,r){var s=Qe.hasOwnProperty(e)?Qe[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(WN(e,n,s,r)&&(n=null),r||s===null?qN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Tn=$N.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qa=Symbol.for("react.element"),ls=Symbol.for("react.portal"),cs=Symbol.for("react.fragment"),oh=Symbol.for("react.strict_mode"),wu=Symbol.for("react.profiler"),Nv=Symbol.for("react.provider"),wv=Symbol.for("react.context"),lh=Symbol.for("react.forward_ref"),ju=Symbol.for("react.suspense"),Cu=Symbol.for("react.suspense_list"),ch=Symbol.for("react.memo"),Dn=Symbol.for("react.lazy"),jv=Symbol.for("react.offscreen"),hf=Symbol.iterator;function si(t){return t===null||typeof t!="object"?null:(t=hf&&t[hf]||t["@@iterator"],typeof t=="function"?t:null)}var ye=Object.assign,Sc;function vi(t){if(Sc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Sc=e&&e[1]||""}return`
`+Sc+t}var Ic=!1;function Tc(t,e){if(!t||Ic)return"";Ic=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Ic=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?vi(t):""}function HN(t){switch(t.tag){case 5:return vi(t.type);case 16:return vi("Lazy");case 13:return vi("Suspense");case 19:return vi("SuspenseList");case 0:case 2:case 15:return t=Tc(t.type,!1),t;case 11:return t=Tc(t.type.render,!1),t;case 1:return t=Tc(t.type,!0),t;default:return""}}function Eu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case cs:return"Fragment";case ls:return"Portal";case wu:return"Profiler";case oh:return"StrictMode";case ju:return"Suspense";case Cu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case wv:return(t.displayName||"Context")+".Consumer";case Nv:return(t._context.displayName||"Context")+".Provider";case lh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ch:return e=t.displayName||null,e!==null?e:Eu(t.type)||"Memo";case Dn:e=t._payload,t=t._init;try{return Eu(t(e))}catch{}}return null}function GN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Eu(e);case 8:return e===oh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function nr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function KN(t){var e=Cv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ya(t){t._valueTracker||(t._valueTracker=KN(t))}function Ev(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Cv(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Oo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Su(t,e){var n=e.checked;return ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function mf(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=nr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Sv(t,e){e=e.checked,e!=null&&ah(t,"checked",e,!1)}function Iu(t,e){Sv(t,e);var n=nr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Tu(t,e.type,n):e.hasOwnProperty("defaultValue")&&Tu(t,e.type,nr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ff(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Tu(t,e,n){(e!=="number"||Oo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _i=Array.isArray;function xs(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+nr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ku(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(A(91));return ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function pf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(A(92));if(_i(n)){if(1<n.length)throw Error(A(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:nr(n)}}function Iv(t,e){var n=nr(e.value),r=nr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function gf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Tv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ru(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Tv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xa,kv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xa=Xa||document.createElement("div"),Xa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function qi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ji={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JN=["Webkit","ms","Moz","O"];Object.keys(ji).forEach(function(t){JN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ji[e]=ji[t]})});function Rv(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ji.hasOwnProperty(t)&&ji[t]?(""+e).trim():e+"px"}function Pv(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Rv(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var QN=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pu(t,e){if(e){if(QN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(A(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(A(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(A(61))}if(e.style!=null&&typeof e.style!="object")throw Error(A(62))}}function Du(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Au=null;function uh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ou=null,Ns=null,ws=null;function vf(t){if(t=Sa(t)){if(typeof Ou!="function")throw Error(A(280));var e=t.stateNode;e&&(e=Ul(e),Ou(t.stateNode,t.type,e))}}function Dv(t){Ns?ws?ws.push(t):ws=[t]:Ns=t}function Av(){if(Ns){var t=Ns,e=ws;if(ws=Ns=null,vf(t),e)for(t=0;t<e.length;t++)vf(e[t])}}function Ov(t,e){return t(e)}function Mv(){}var kc=!1;function Lv(t,e,n){if(kc)return t(e,n);kc=!0;try{return Ov(t,e,n)}finally{kc=!1,(Ns!==null||ws!==null)&&(Mv(),Av())}}function zi(t,e){var n=t.stateNode;if(n===null)return null;var r=Ul(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(A(231,e,typeof n));return n}var Mu=!1;if(jn)try{var ii={};Object.defineProperty(ii,"passive",{get:function(){Mu=!0}}),window.addEventListener("test",ii,ii),window.removeEventListener("test",ii,ii)}catch{Mu=!1}function YN(t,e,n,r,s,i,o,l,c){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(p){this.onError(p)}}var Ci=!1,Mo=null,Lo=!1,Lu=null,XN={onError:function(t){Ci=!0,Mo=t}};function ZN(t,e,n,r,s,i,o,l,c){Ci=!1,Mo=null,YN.apply(XN,arguments)}function e0(t,e,n,r,s,i,o,l,c){if(ZN.apply(this,arguments),Ci){if(Ci){var h=Mo;Ci=!1,Mo=null}else throw Error(A(198));Lo||(Lo=!0,Lu=h)}}function Qr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Fv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _f(t){if(Qr(t)!==t)throw Error(A(188))}function t0(t){var e=t.alternate;if(!e){if(e=Qr(t),e===null)throw Error(A(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return _f(s),t;if(i===r)return _f(s),e;i=i.sibling}throw Error(A(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(A(189))}}if(n.alternate!==r)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?t:e}function Uv(t){return t=t0(t),t!==null?Bv(t):null}function Bv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Bv(t);if(e!==null)return e;t=t.sibling}return null}var $v=wt.unstable_scheduleCallback,bf=wt.unstable_cancelCallback,n0=wt.unstable_shouldYield,r0=wt.unstable_requestPaint,Ee=wt.unstable_now,s0=wt.unstable_getCurrentPriorityLevel,dh=wt.unstable_ImmediatePriority,Vv=wt.unstable_UserBlockingPriority,Fo=wt.unstable_NormalPriority,i0=wt.unstable_LowPriority,qv=wt.unstable_IdlePriority,Ol=null,on=null;function a0(t){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(Ol,t,void 0,(t.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:c0,o0=Math.log,l0=Math.LN2;function c0(t){return t>>>=0,t===0?32:31-(o0(t)/l0|0)|0}var Za=64,eo=4194304;function bi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Uo(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=bi(l):(i&=o,i!==0&&(r=bi(i)))}else o=n&~s,o!==0?r=bi(o):i!==0&&(r=bi(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Kt(e),s=1<<n,r|=t[n],e&=~s;return r}function u0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function d0(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Kt(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=u0(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Fu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function zv(){var t=Za;return Za<<=1,!(Za&4194240)&&(Za=64),t}function Rc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ca(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Kt(e),t[e]=n}function h0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Kt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function hh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Kt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ne=0;function Wv(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Hv,mh,Gv,Kv,Jv,Uu=!1,to=[],qn=null,zn=null,Wn=null,Wi=new Map,Hi=new Map,On=[],m0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yf(t,e){switch(t){case"focusin":case"focusout":qn=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":Wi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hi.delete(e.pointerId)}}function ai(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Sa(e),e!==null&&mh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function f0(t,e,n,r,s){switch(e){case"focusin":return qn=ai(qn,t,e,n,r,s),!0;case"dragenter":return zn=ai(zn,t,e,n,r,s),!0;case"mouseover":return Wn=ai(Wn,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Wi.set(i,ai(Wi.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Hi.set(i,ai(Hi.get(i)||null,t,e,n,r,s)),!0}return!1}function Qv(t){var e=Cr(t.target);if(e!==null){var n=Qr(e);if(n!==null){if(e=n.tag,e===13){if(e=Fv(n),e!==null){t.blockedOn=e,Jv(t.priority,function(){Gv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Bu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Au=r,n.target.dispatchEvent(r),Au=null}else return e=Sa(n),e!==null&&mh(e),t.blockedOn=n,!1;e.shift()}return!0}function xf(t,e,n){xo(t)&&n.delete(e)}function p0(){Uu=!1,qn!==null&&xo(qn)&&(qn=null),zn!==null&&xo(zn)&&(zn=null),Wn!==null&&xo(Wn)&&(Wn=null),Wi.forEach(xf),Hi.forEach(xf)}function oi(t,e){t.blockedOn===e&&(t.blockedOn=null,Uu||(Uu=!0,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,p0)))}function Gi(t){function e(s){return oi(s,t)}if(0<to.length){oi(to[0],t);for(var n=1;n<to.length;n++){var r=to[n];r.blockedOn===t&&(r.blockedOn=null)}}for(qn!==null&&oi(qn,t),zn!==null&&oi(zn,t),Wn!==null&&oi(Wn,t),Wi.forEach(e),Hi.forEach(e),n=0;n<On.length;n++)r=On[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<On.length&&(n=On[0],n.blockedOn===null);)Qv(n),n.blockedOn===null&&On.shift()}var js=Tn.ReactCurrentBatchConfig,Bo=!0;function g0(t,e,n,r){var s=ne,i=js.transition;js.transition=null;try{ne=1,fh(t,e,n,r)}finally{ne=s,js.transition=i}}function v0(t,e,n,r){var s=ne,i=js.transition;js.transition=null;try{ne=4,fh(t,e,n,r)}finally{ne=s,js.transition=i}}function fh(t,e,n,r){if(Bo){var s=Bu(t,e,n,r);if(s===null)$c(t,e,r,$o,n),yf(t,r);else if(f0(s,t,e,n,r))r.stopPropagation();else if(yf(t,r),e&4&&-1<m0.indexOf(t)){for(;s!==null;){var i=Sa(s);if(i!==null&&Hv(i),i=Bu(t,e,n,r),i===null&&$c(t,e,r,$o,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else $c(t,e,r,null,n)}}var $o=null;function Bu(t,e,n,r){if($o=null,t=uh(r),t=Cr(t),t!==null)if(e=Qr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Fv(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $o=t,null}function Yv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(s0()){case dh:return 1;case Vv:return 4;case Fo:case i0:return 16;case qv:return 536870912;default:return 16}default:return 16}}var Fn=null,ph=null,No=null;function Xv(){if(No)return No;var t,e=ph,n=e.length,r,s="value"in Fn?Fn.value:Fn.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return No=s.slice(t,1<r?1-r:void 0)}function wo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function no(){return!0}function Nf(){return!1}function It(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?no:Nf,this.isPropagationStopped=Nf,this}return ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=no)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=no)},persist:function(){},isPersistent:no}),e}var Hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gh=It(Hs),Ea=ye({},Hs,{view:0,detail:0}),_0=It(Ea),Pc,Dc,li,Ml=ye({},Ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==li&&(li&&t.type==="mousemove"?(Pc=t.screenX-li.screenX,Dc=t.screenY-li.screenY):Dc=Pc=0,li=t),Pc)},movementY:function(t){return"movementY"in t?t.movementY:Dc}}),wf=It(Ml),b0=ye({},Ml,{dataTransfer:0}),y0=It(b0),x0=ye({},Ea,{relatedTarget:0}),Ac=It(x0),N0=ye({},Hs,{animationName:0,elapsedTime:0,pseudoElement:0}),w0=It(N0),j0=ye({},Hs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),C0=It(j0),E0=ye({},Hs,{data:0}),jf=It(E0),S0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},I0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},T0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=T0[t])?!!e[t]:!1}function vh(){return k0}var R0=ye({},Ea,{key:function(t){if(t.key){var e=S0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=wo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?I0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vh,charCode:function(t){return t.type==="keypress"?wo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),P0=It(R0),D0=ye({},Ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cf=It(D0),A0=ye({},Ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vh}),O0=It(A0),M0=ye({},Hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),L0=It(M0),F0=ye({},Ml,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),U0=It(F0),B0=[9,13,27,32],_h=jn&&"CompositionEvent"in window,Ei=null;jn&&"documentMode"in document&&(Ei=document.documentMode);var $0=jn&&"TextEvent"in window&&!Ei,Zv=jn&&(!_h||Ei&&8<Ei&&11>=Ei),Ef=" ",Sf=!1;function e_(t,e){switch(t){case"keyup":return B0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function t_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var us=!1;function V0(t,e){switch(t){case"compositionend":return t_(e);case"keypress":return e.which!==32?null:(Sf=!0,Ef);case"textInput":return t=e.data,t===Ef&&Sf?null:t;default:return null}}function q0(t,e){if(us)return t==="compositionend"||!_h&&e_(t,e)?(t=Xv(),No=ph=Fn=null,us=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Zv&&e.locale!=="ko"?null:e.data;default:return null}}var z0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function If(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!z0[t.type]:e==="textarea"}function n_(t,e,n,r){Dv(r),e=Vo(e,"onChange"),0<e.length&&(n=new gh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Si=null,Ki=null;function W0(t){m_(t,0)}function Ll(t){var e=ms(t);if(Ev(e))return t}function H0(t,e){if(t==="change")return e}var r_=!1;if(jn){var Oc;if(jn){var Mc="oninput"in document;if(!Mc){var Tf=document.createElement("div");Tf.setAttribute("oninput","return;"),Mc=typeof Tf.oninput=="function"}Oc=Mc}else Oc=!1;r_=Oc&&(!document.documentMode||9<document.documentMode)}function kf(){Si&&(Si.detachEvent("onpropertychange",s_),Ki=Si=null)}function s_(t){if(t.propertyName==="value"&&Ll(Ki)){var e=[];n_(e,Ki,t,uh(t)),Lv(W0,e)}}function G0(t,e,n){t==="focusin"?(kf(),Si=e,Ki=n,Si.attachEvent("onpropertychange",s_)):t==="focusout"&&kf()}function K0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ll(Ki)}function J0(t,e){if(t==="click")return Ll(e)}function Q0(t,e){if(t==="input"||t==="change")return Ll(e)}function Y0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yt=typeof Object.is=="function"?Object.is:Y0;function Ji(t,e){if(Yt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Nu.call(e,s)||!Yt(t[s],e[s]))return!1}return!0}function Rf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pf(t,e){var n=Rf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Rf(n)}}function i_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?i_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function a_(){for(var t=window,e=Oo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Oo(t.document)}return e}function bh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function X0(t){var e=a_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&i_(n.ownerDocument.documentElement,n)){if(r!==null&&bh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Pf(n,i);var o=Pf(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Z0=jn&&"documentMode"in document&&11>=document.documentMode,ds=null,$u=null,Ii=null,Vu=!1;function Df(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vu||ds==null||ds!==Oo(r)||(r=ds,"selectionStart"in r&&bh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ii&&Ji(Ii,r)||(Ii=r,r=Vo($u,"onSelect"),0<r.length&&(e=new gh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ds)))}function ro(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var hs={animationend:ro("Animation","AnimationEnd"),animationiteration:ro("Animation","AnimationIteration"),animationstart:ro("Animation","AnimationStart"),transitionend:ro("Transition","TransitionEnd")},Lc={},o_={};jn&&(o_=document.createElement("div").style,"AnimationEvent"in window||(delete hs.animationend.animation,delete hs.animationiteration.animation,delete hs.animationstart.animation),"TransitionEvent"in window||delete hs.transitionend.transition);function Fl(t){if(Lc[t])return Lc[t];if(!hs[t])return t;var e=hs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in o_)return Lc[t]=e[n];return t}var l_=Fl("animationend"),c_=Fl("animationiteration"),u_=Fl("animationstart"),d_=Fl("transitionend"),h_=new Map,Af="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hr(t,e){h_.set(t,e),Jr(e,[t])}for(var Fc=0;Fc<Af.length;Fc++){var Uc=Af[Fc],ew=Uc.toLowerCase(),tw=Uc[0].toUpperCase()+Uc.slice(1);hr(ew,"on"+tw)}hr(l_,"onAnimationEnd");hr(c_,"onAnimationIteration");hr(u_,"onAnimationStart");hr("dblclick","onDoubleClick");hr("focusin","onFocus");hr("focusout","onBlur");hr(d_,"onTransitionEnd");ks("onMouseEnter",["mouseout","mouseover"]);ks("onMouseLeave",["mouseout","mouseover"]);ks("onPointerEnter",["pointerout","pointerover"]);ks("onPointerLeave",["pointerout","pointerover"]);Jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nw=new Set("cancel close invalid load scroll toggle".split(" ").concat(yi));function Of(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,e0(r,e,void 0,t),t.currentTarget=null}function m_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Of(s,l,h),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,h=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Of(s,l,h),i=c}}}if(Lo)throw t=Lu,Lo=!1,Lu=null,t}function le(t,e){var n=e[Gu];n===void 0&&(n=e[Gu]=new Set);var r=t+"__bubble";n.has(r)||(f_(e,t,2,!1),n.add(r))}function Bc(t,e,n){var r=0;e&&(r|=4),f_(n,t,r,e)}var so="_reactListening"+Math.random().toString(36).slice(2);function Qi(t){if(!t[so]){t[so]=!0,xv.forEach(function(n){n!=="selectionchange"&&(nw.has(n)||Bc(n,!1,t),Bc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[so]||(e[so]=!0,Bc("selectionchange",!1,e))}}function f_(t,e,n,r){switch(Yv(e)){case 1:var s=g0;break;case 4:s=v0;break;default:s=fh}n=s.bind(null,e,n,t),s=void 0,!Mu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function $c(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Cr(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}Lv(function(){var h=i,p=uh(n),f=[];e:{var d=h_.get(t);if(d!==void 0){var g=gh,y=t;switch(t){case"keypress":if(wo(n)===0)break e;case"keydown":case"keyup":g=P0;break;case"focusin":y="focus",g=Ac;break;case"focusout":y="blur",g=Ac;break;case"beforeblur":case"afterblur":g=Ac;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=wf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=y0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=O0;break;case l_:case c_:case u_:g=w0;break;case d_:g=L0;break;case"scroll":g=_0;break;case"wheel":g=U0;break;case"copy":case"cut":case"paste":g=C0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Cf}var N=(e&4)!==0,E=!N&&t==="scroll",b=N?d!==null?d+"Capture":null:d;N=[];for(var _=h,x;_!==null;){x=_;var C=x.stateNode;if(x.tag===5&&C!==null&&(x=C,b!==null&&(C=zi(_,b),C!=null&&N.push(Yi(_,C,x)))),E)break;_=_.return}0<N.length&&(d=new g(d,y,null,n,p),f.push({event:d,listeners:N}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",d&&n!==Au&&(y=n.relatedTarget||n.fromElement)&&(Cr(y)||y[Cn]))break e;if((g||d)&&(d=p.window===p?p:(d=p.ownerDocument)?d.defaultView||d.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=h,y=y?Cr(y):null,y!==null&&(E=Qr(y),y!==E||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=h),g!==y)){if(N=wf,C="onMouseLeave",b="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(N=Cf,C="onPointerLeave",b="onPointerEnter",_="pointer"),E=g==null?d:ms(g),x=y==null?d:ms(y),d=new N(C,_+"leave",g,n,p),d.target=E,d.relatedTarget=x,C=null,Cr(p)===h&&(N=new N(b,_+"enter",y,n,p),N.target=x,N.relatedTarget=E,C=N),E=C,g&&y)t:{for(N=g,b=y,_=0,x=N;x;x=is(x))_++;for(x=0,C=b;C;C=is(C))x++;for(;0<_-x;)N=is(N),_--;for(;0<x-_;)b=is(b),x--;for(;_--;){if(N===b||b!==null&&N===b.alternate)break t;N=is(N),b=is(b)}N=null}else N=null;g!==null&&Mf(f,d,g,N,!1),y!==null&&E!==null&&Mf(f,E,y,N,!0)}}e:{if(d=h?ms(h):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var v=H0;else if(If(d))if(r_)v=Q0;else{v=K0;var k=G0}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(v=J0);if(v&&(v=v(t,h))){n_(f,v,n,p);break e}k&&k(t,d,h),t==="focusout"&&(k=d._wrapperState)&&k.controlled&&d.type==="number"&&Tu(d,"number",d.value)}switch(k=h?ms(h):window,t){case"focusin":(If(k)||k.contentEditable==="true")&&(ds=k,$u=h,Ii=null);break;case"focusout":Ii=$u=ds=null;break;case"mousedown":Vu=!0;break;case"contextmenu":case"mouseup":case"dragend":Vu=!1,Df(f,n,p);break;case"selectionchange":if(Z0)break;case"keydown":case"keyup":Df(f,n,p)}var R;if(_h)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else us?e_(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Zv&&n.locale!=="ko"&&(us||P!=="onCompositionStart"?P==="onCompositionEnd"&&us&&(R=Xv()):(Fn=p,ph="value"in Fn?Fn.value:Fn.textContent,us=!0)),k=Vo(h,P),0<k.length&&(P=new jf(P,t,null,n,p),f.push({event:P,listeners:k}),R?P.data=R:(R=t_(n),R!==null&&(P.data=R)))),(R=$0?V0(t,n):q0(t,n))&&(h=Vo(h,"onBeforeInput"),0<h.length&&(p=new jf("onBeforeInput","beforeinput",null,n,p),f.push({event:p,listeners:h}),p.data=R))}m_(f,e)})}function Yi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Vo(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=zi(t,n),i!=null&&r.unshift(Yi(t,i,s)),i=zi(t,e),i!=null&&r.push(Yi(t,i,s))),t=t.return}return r}function is(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Mf(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,h=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&h!==null&&(l=h,s?(c=zi(n,i),c!=null&&o.unshift(Yi(n,c,l))):s||(c=zi(n,i),c!=null&&o.push(Yi(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var rw=/\r\n?/g,sw=/\u0000|\uFFFD/g;function Lf(t){return(typeof t=="string"?t:""+t).replace(rw,`
`).replace(sw,"")}function io(t,e,n){if(e=Lf(e),Lf(t)!==e&&n)throw Error(A(425))}function qo(){}var qu=null,zu=null;function Wu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Hu=typeof setTimeout=="function"?setTimeout:void 0,iw=typeof clearTimeout=="function"?clearTimeout:void 0,Ff=typeof Promise=="function"?Promise:void 0,aw=typeof queueMicrotask=="function"?queueMicrotask:typeof Ff<"u"?function(t){return Ff.resolve(null).then(t).catch(ow)}:Hu;function ow(t){setTimeout(function(){throw t})}function Vc(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Gi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Gi(e)}function Hn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Uf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Gs=Math.random().toString(36).slice(2),rn="__reactFiber$"+Gs,Xi="__reactProps$"+Gs,Cn="__reactContainer$"+Gs,Gu="__reactEvents$"+Gs,lw="__reactListeners$"+Gs,cw="__reactHandles$"+Gs;function Cr(t){var e=t[rn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Cn]||n[rn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Uf(t);t!==null;){if(n=t[rn])return n;t=Uf(t)}return e}t=n,n=t.parentNode}return null}function Sa(t){return t=t[rn]||t[Cn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ms(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(A(33))}function Ul(t){return t[Xi]||null}var Ku=[],fs=-1;function mr(t){return{current:t}}function de(t){0>fs||(t.current=Ku[fs],Ku[fs]=null,fs--)}function ae(t,e){fs++,Ku[fs]=t.current,t.current=e}var rr={},tt=mr(rr),mt=mr(!1),Lr=rr;function Rs(t,e){var n=t.type.contextTypes;if(!n)return rr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ft(t){return t=t.childContextTypes,t!=null}function zo(){de(mt),de(tt)}function Bf(t,e,n){if(tt.current!==rr)throw Error(A(168));ae(tt,e),ae(mt,n)}function p_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(A(108,GN(t)||"Unknown",s));return ye({},n,r)}function Wo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||rr,Lr=tt.current,ae(tt,t),ae(mt,mt.current),!0}function $f(t,e,n){var r=t.stateNode;if(!r)throw Error(A(169));n?(t=p_(t,e,Lr),r.__reactInternalMemoizedMergedChildContext=t,de(mt),de(tt),ae(tt,t)):de(mt),ae(mt,n)}var pn=null,Bl=!1,qc=!1;function g_(t){pn===null?pn=[t]:pn.push(t)}function uw(t){Bl=!0,g_(t)}function fr(){if(!qc&&pn!==null){qc=!0;var t=0,e=ne;try{var n=pn;for(ne=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}pn=null,Bl=!1}catch(s){throw pn!==null&&(pn=pn.slice(t+1)),$v(dh,fr),s}finally{ne=e,qc=!1}}return null}var ps=[],gs=0,Ho=null,Go=0,kt=[],Rt=0,Fr=null,gn=1,vn="";function xr(t,e){ps[gs++]=Go,ps[gs++]=Ho,Ho=t,Go=e}function v_(t,e,n){kt[Rt++]=gn,kt[Rt++]=vn,kt[Rt++]=Fr,Fr=t;var r=gn;t=vn;var s=32-Kt(r)-1;r&=~(1<<s),n+=1;var i=32-Kt(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,gn=1<<32-Kt(e)+s|n<<s|r,vn=i+t}else gn=1<<i|n<<s|r,vn=t}function yh(t){t.return!==null&&(xr(t,1),v_(t,1,0))}function xh(t){for(;t===Ho;)Ho=ps[--gs],ps[gs]=null,Go=ps[--gs],ps[gs]=null;for(;t===Fr;)Fr=kt[--Rt],kt[Rt]=null,vn=kt[--Rt],kt[Rt]=null,gn=kt[--Rt],kt[Rt]=null}var Nt=null,yt=null,me=!1,Ht=null;function __(t,e){var n=Dt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Vf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Nt=t,yt=Hn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Nt=t,yt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Fr!==null?{id:gn,overflow:vn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Dt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Nt=t,yt=null,!0):!1;default:return!1}}function Ju(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Qu(t){if(me){var e=yt;if(e){var n=e;if(!Vf(t,e)){if(Ju(t))throw Error(A(418));e=Hn(n.nextSibling);var r=Nt;e&&Vf(t,e)?__(r,n):(t.flags=t.flags&-4097|2,me=!1,Nt=t)}}else{if(Ju(t))throw Error(A(418));t.flags=t.flags&-4097|2,me=!1,Nt=t}}}function qf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Nt=t}function ao(t){if(t!==Nt)return!1;if(!me)return qf(t),me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Wu(t.type,t.memoizedProps)),e&&(e=yt)){if(Ju(t))throw b_(),Error(A(418));for(;e;)__(t,e),e=Hn(e.nextSibling)}if(qf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(A(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){yt=Hn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}yt=null}}else yt=Nt?Hn(t.stateNode.nextSibling):null;return!0}function b_(){for(var t=yt;t;)t=Hn(t.nextSibling)}function Ps(){yt=Nt=null,me=!1}function Nh(t){Ht===null?Ht=[t]:Ht.push(t)}var dw=Tn.ReactCurrentBatchConfig;function ci(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var r=n.stateNode}if(!r)throw Error(A(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,t))}return t}function oo(t,e){throw t=Object.prototype.toString.call(e),Error(A(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zf(t){var e=t._init;return e(t._payload)}function y_(t){function e(b,_){if(t){var x=b.deletions;x===null?(b.deletions=[_],b.flags|=16):x.push(_)}}function n(b,_){if(!t)return null;for(;_!==null;)e(b,_),_=_.sibling;return null}function r(b,_){for(b=new Map;_!==null;)_.key!==null?b.set(_.key,_):b.set(_.index,_),_=_.sibling;return b}function s(b,_){return b=Qn(b,_),b.index=0,b.sibling=null,b}function i(b,_,x){return b.index=x,t?(x=b.alternate,x!==null?(x=x.index,x<_?(b.flags|=2,_):x):(b.flags|=2,_)):(b.flags|=1048576,_)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function l(b,_,x,C){return _===null||_.tag!==6?(_=Qc(x,b.mode,C),_.return=b,_):(_=s(_,x),_.return=b,_)}function c(b,_,x,C){var v=x.type;return v===cs?p(b,_,x.props.children,C,x.key):_!==null&&(_.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===Dn&&zf(v)===_.type)?(C=s(_,x.props),C.ref=ci(b,_,x),C.return=b,C):(C=ko(x.type,x.key,x.props,null,b.mode,C),C.ref=ci(b,_,x),C.return=b,C)}function h(b,_,x,C){return _===null||_.tag!==4||_.stateNode.containerInfo!==x.containerInfo||_.stateNode.implementation!==x.implementation?(_=Yc(x,b.mode,C),_.return=b,_):(_=s(_,x.children||[]),_.return=b,_)}function p(b,_,x,C,v){return _===null||_.tag!==7?(_=Pr(x,b.mode,C,v),_.return=b,_):(_=s(_,x),_.return=b,_)}function f(b,_,x){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Qc(""+_,b.mode,x),_.return=b,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Qa:return x=ko(_.type,_.key,_.props,null,b.mode,x),x.ref=ci(b,null,_),x.return=b,x;case ls:return _=Yc(_,b.mode,x),_.return=b,_;case Dn:var C=_._init;return f(b,C(_._payload),x)}if(_i(_)||si(_))return _=Pr(_,b.mode,x,null),_.return=b,_;oo(b,_)}return null}function d(b,_,x,C){var v=_!==null?_.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return v!==null?null:l(b,_,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Qa:return x.key===v?c(b,_,x,C):null;case ls:return x.key===v?h(b,_,x,C):null;case Dn:return v=x._init,d(b,_,v(x._payload),C)}if(_i(x)||si(x))return v!==null?null:p(b,_,x,C,null);oo(b,x)}return null}function g(b,_,x,C,v){if(typeof C=="string"&&C!==""||typeof C=="number")return b=b.get(x)||null,l(_,b,""+C,v);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Qa:return b=b.get(C.key===null?x:C.key)||null,c(_,b,C,v);case ls:return b=b.get(C.key===null?x:C.key)||null,h(_,b,C,v);case Dn:var k=C._init;return g(b,_,x,k(C._payload),v)}if(_i(C)||si(C))return b=b.get(x)||null,p(_,b,C,v,null);oo(_,C)}return null}function y(b,_,x,C){for(var v=null,k=null,R=_,P=_=0,L=null;R!==null&&P<x.length;P++){R.index>P?(L=R,R=null):L=R.sibling;var D=d(b,R,x[P],C);if(D===null){R===null&&(R=L);break}t&&R&&D.alternate===null&&e(b,R),_=i(D,_,P),k===null?v=D:k.sibling=D,k=D,R=L}if(P===x.length)return n(b,R),me&&xr(b,P),v;if(R===null){for(;P<x.length;P++)R=f(b,x[P],C),R!==null&&(_=i(R,_,P),k===null?v=R:k.sibling=R,k=R);return me&&xr(b,P),v}for(R=r(b,R);P<x.length;P++)L=g(R,b,P,x[P],C),L!==null&&(t&&L.alternate!==null&&R.delete(L.key===null?P:L.key),_=i(L,_,P),k===null?v=L:k.sibling=L,k=L);return t&&R.forEach(function(M){return e(b,M)}),me&&xr(b,P),v}function N(b,_,x,C){var v=si(x);if(typeof v!="function")throw Error(A(150));if(x=v.call(x),x==null)throw Error(A(151));for(var k=v=null,R=_,P=_=0,L=null,D=x.next();R!==null&&!D.done;P++,D=x.next()){R.index>P?(L=R,R=null):L=R.sibling;var M=d(b,R,D.value,C);if(M===null){R===null&&(R=L);break}t&&R&&M.alternate===null&&e(b,R),_=i(M,_,P),k===null?v=M:k.sibling=M,k=M,R=L}if(D.done)return n(b,R),me&&xr(b,P),v;if(R===null){for(;!D.done;P++,D=x.next())D=f(b,D.value,C),D!==null&&(_=i(D,_,P),k===null?v=D:k.sibling=D,k=D);return me&&xr(b,P),v}for(R=r(b,R);!D.done;P++,D=x.next())D=g(R,b,P,D.value,C),D!==null&&(t&&D.alternate!==null&&R.delete(D.key===null?P:D.key),_=i(D,_,P),k===null?v=D:k.sibling=D,k=D);return t&&R.forEach(function(m){return e(b,m)}),me&&xr(b,P),v}function E(b,_,x,C){if(typeof x=="object"&&x!==null&&x.type===cs&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Qa:e:{for(var v=x.key,k=_;k!==null;){if(k.key===v){if(v=x.type,v===cs){if(k.tag===7){n(b,k.sibling),_=s(k,x.props.children),_.return=b,b=_;break e}}else if(k.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===Dn&&zf(v)===k.type){n(b,k.sibling),_=s(k,x.props),_.ref=ci(b,k,x),_.return=b,b=_;break e}n(b,k);break}else e(b,k);k=k.sibling}x.type===cs?(_=Pr(x.props.children,b.mode,C,x.key),_.return=b,b=_):(C=ko(x.type,x.key,x.props,null,b.mode,C),C.ref=ci(b,_,x),C.return=b,b=C)}return o(b);case ls:e:{for(k=x.key;_!==null;){if(_.key===k)if(_.tag===4&&_.stateNode.containerInfo===x.containerInfo&&_.stateNode.implementation===x.implementation){n(b,_.sibling),_=s(_,x.children||[]),_.return=b,b=_;break e}else{n(b,_);break}else e(b,_);_=_.sibling}_=Yc(x,b.mode,C),_.return=b,b=_}return o(b);case Dn:return k=x._init,E(b,_,k(x._payload),C)}if(_i(x))return y(b,_,x,C);if(si(x))return N(b,_,x,C);oo(b,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,_!==null&&_.tag===6?(n(b,_.sibling),_=s(_,x),_.return=b,b=_):(n(b,_),_=Qc(x,b.mode,C),_.return=b,b=_),o(b)):n(b,_)}return E}var Ds=y_(!0),x_=y_(!1),Ko=mr(null),Jo=null,vs=null,wh=null;function jh(){wh=vs=Jo=null}function Ch(t){var e=Ko.current;de(Ko),t._currentValue=e}function Yu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Cs(t,e){Jo=t,wh=vs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dt=!0),t.firstContext=null)}function Ut(t){var e=t._currentValue;if(wh!==t)if(t={context:t,memoizedValue:e,next:null},vs===null){if(Jo===null)throw Error(A(308));vs=t,Jo.dependencies={lanes:0,firstContext:t}}else vs=vs.next=t;return e}var Er=null;function Eh(t){Er===null?Er=[t]:Er.push(t)}function N_(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Eh(e)):(n.next=s.next,s.next=n),e.interleaved=n,En(t,r)}function En(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var An=!1;function Sh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function w_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Gn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,X&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,En(t,n)}return s=r.interleaved,s===null?(e.next=e,Eh(r)):(e.next=s.next,s.next=e),r.interleaved=e,En(t,n)}function jo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hh(t,n)}}function Wf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Qo(t,e,n,r){var s=t.updateQueue;An=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,h=c.next;c.next=null,o===null?i=h:o.next=h,o=c;var p=t.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==o&&(l===null?p.firstBaseUpdate=h:l.next=h,p.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,p=h=c=null,l=i;do{var d=l.lane,g=l.eventTime;if((r&d)===d){p!==null&&(p=p.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,N=l;switch(d=e,g=n,N.tag){case 1:if(y=N.payload,typeof y=="function"){f=y.call(g,f,d);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=N.payload,d=typeof y=="function"?y.call(g,f,d):y,d==null)break e;f=ye({},f,d);break e;case 2:An=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,d=s.effects,d===null?s.effects=[l]:d.push(l))}else g={eventTime:g,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(h=p=g,c=f):p=p.next=g,o|=d;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;d=l,l=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(p===null&&(c=f),s.baseState=c,s.firstBaseUpdate=h,s.lastBaseUpdate=p,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Br|=o,t.lanes=o,t.memoizedState=f}}function Hf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(A(191,s));s.call(r)}}}var Ia={},ln=mr(Ia),Zi=mr(Ia),ea=mr(Ia);function Sr(t){if(t===Ia)throw Error(A(174));return t}function Ih(t,e){switch(ae(ea,e),ae(Zi,t),ae(ln,Ia),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ru(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ru(e,t)}de(ln),ae(ln,e)}function As(){de(ln),de(Zi),de(ea)}function j_(t){Sr(ea.current);var e=Sr(ln.current),n=Ru(e,t.type);e!==n&&(ae(Zi,t),ae(ln,n))}function Th(t){Zi.current===t&&(de(ln),de(Zi))}var ve=mr(0);function Yo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zc=[];function kh(){for(var t=0;t<zc.length;t++)zc[t]._workInProgressVersionPrimary=null;zc.length=0}var Co=Tn.ReactCurrentDispatcher,Wc=Tn.ReactCurrentBatchConfig,Ur=0,be=null,Te=null,Ue=null,Xo=!1,Ti=!1,ta=0,hw=0;function Ye(){throw Error(A(321))}function Rh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Yt(t[n],e[n]))return!1;return!0}function Ph(t,e,n,r,s,i){if(Ur=i,be=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Co.current=t===null||t.memoizedState===null?gw:vw,t=n(r,s),Ti){i=0;do{if(Ti=!1,ta=0,25<=i)throw Error(A(301));i+=1,Ue=Te=null,e.updateQueue=null,Co.current=_w,t=n(r,s)}while(Ti)}if(Co.current=Zo,e=Te!==null&&Te.next!==null,Ur=0,Ue=Te=be=null,Xo=!1,e)throw Error(A(300));return t}function Dh(){var t=ta!==0;return ta=0,t}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?be.memoizedState=Ue=t:Ue=Ue.next=t,Ue}function Bt(){if(Te===null){var t=be.alternate;t=t!==null?t.memoizedState:null}else t=Te.next;var e=Ue===null?be.memoizedState:Ue.next;if(e!==null)Ue=e,Te=t;else{if(t===null)throw Error(A(310));Te=t,t={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Ue===null?be.memoizedState=Ue=t:Ue=Ue.next=t}return Ue}function na(t,e){return typeof e=="function"?e(t):e}function Hc(t){var e=Bt(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var r=Te,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,h=i;do{var p=h.lane;if((Ur&p)===p)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var f={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,be.lanes|=p,Br|=p}h=h.next}while(h!==null&&h!==i);c===null?o=r:c.next=l,Yt(r,e.memoizedState)||(dt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,be.lanes|=i,Br|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Gc(t){var e=Bt(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Yt(i,e.memoizedState)||(dt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function C_(){}function E_(t,e){var n=be,r=Bt(),s=e(),i=!Yt(r.memoizedState,s);if(i&&(r.memoizedState=s,dt=!0),r=r.queue,Ah(T_.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ue!==null&&Ue.memoizedState.tag&1){if(n.flags|=2048,ra(9,I_.bind(null,n,r,s,e),void 0,null),qe===null)throw Error(A(349));Ur&30||S_(n,e,s)}return s}function S_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=be.updateQueue,e===null?(e={lastEffect:null,stores:null},be.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function I_(t,e,n,r){e.value=n,e.getSnapshot=r,k_(e)&&R_(t)}function T_(t,e,n){return n(function(){k_(e)&&R_(t)})}function k_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Yt(t,n)}catch{return!0}}function R_(t){var e=En(t,1);e!==null&&Jt(e,t,1,-1)}function Gf(t){var e=nn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:t},e.queue=t,t=t.dispatch=pw.bind(null,be,t),[e.memoizedState,t]}function ra(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=be.updateQueue,e===null?(e={lastEffect:null,stores:null},be.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function P_(){return Bt().memoizedState}function Eo(t,e,n,r){var s=nn();be.flags|=t,s.memoizedState=ra(1|e,n,void 0,r===void 0?null:r)}function $l(t,e,n,r){var s=Bt();r=r===void 0?null:r;var i=void 0;if(Te!==null){var o=Te.memoizedState;if(i=o.destroy,r!==null&&Rh(r,o.deps)){s.memoizedState=ra(e,n,i,r);return}}be.flags|=t,s.memoizedState=ra(1|e,n,i,r)}function Kf(t,e){return Eo(8390656,8,t,e)}function Ah(t,e){return $l(2048,8,t,e)}function D_(t,e){return $l(4,2,t,e)}function A_(t,e){return $l(4,4,t,e)}function O_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function M_(t,e,n){return n=n!=null?n.concat([t]):null,$l(4,4,O_.bind(null,e,t),n)}function Oh(){}function L_(t,e){var n=Bt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Rh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function F_(t,e){var n=Bt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Rh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function U_(t,e,n){return Ur&21?(Yt(n,e)||(n=zv(),be.lanes|=n,Br|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dt=!0),t.memoizedState=n)}function mw(t,e){var n=ne;ne=n!==0&&4>n?n:4,t(!0);var r=Wc.transition;Wc.transition={};try{t(!1),e()}finally{ne=n,Wc.transition=r}}function B_(){return Bt().memoizedState}function fw(t,e,n){var r=Jn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$_(t))V_(e,n);else if(n=N_(t,e,n,r),n!==null){var s=it();Jt(n,t,r,s),q_(n,e,r)}}function pw(t,e,n){var r=Jn(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($_(t))V_(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Yt(l,o)){var c=e.interleaved;c===null?(s.next=s,Eh(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=N_(t,e,s,r),n!==null&&(s=it(),Jt(n,t,r,s),q_(n,e,r))}}function $_(t){var e=t.alternate;return t===be||e!==null&&e===be}function V_(t,e){Ti=Xo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function q_(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hh(t,n)}}var Zo={readContext:Ut,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useInsertionEffect:Ye,useLayoutEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useMutableSource:Ye,useSyncExternalStore:Ye,useId:Ye,unstable_isNewReconciler:!1},gw={readContext:Ut,useCallback:function(t,e){return nn().memoizedState=[t,e===void 0?null:e],t},useContext:Ut,useEffect:Kf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Eo(4194308,4,O_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Eo(4194308,4,t,e)},useInsertionEffect:function(t,e){return Eo(4,2,t,e)},useMemo:function(t,e){var n=nn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=nn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=fw.bind(null,be,t),[r.memoizedState,t]},useRef:function(t){var e=nn();return t={current:t},e.memoizedState=t},useState:Gf,useDebugValue:Oh,useDeferredValue:function(t){return nn().memoizedState=t},useTransition:function(){var t=Gf(!1),e=t[0];return t=mw.bind(null,t[1]),nn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=be,s=nn();if(me){if(n===void 0)throw Error(A(407));n=n()}else{if(n=e(),qe===null)throw Error(A(349));Ur&30||S_(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Kf(T_.bind(null,r,i,t),[t]),r.flags|=2048,ra(9,I_.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=nn(),e=qe.identifierPrefix;if(me){var n=vn,r=gn;n=(r&~(1<<32-Kt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ta++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=hw++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},vw={readContext:Ut,useCallback:L_,useContext:Ut,useEffect:Ah,useImperativeHandle:M_,useInsertionEffect:D_,useLayoutEffect:A_,useMemo:F_,useReducer:Hc,useRef:P_,useState:function(){return Hc(na)},useDebugValue:Oh,useDeferredValue:function(t){var e=Bt();return U_(e,Te.memoizedState,t)},useTransition:function(){var t=Hc(na)[0],e=Bt().memoizedState;return[t,e]},useMutableSource:C_,useSyncExternalStore:E_,useId:B_,unstable_isNewReconciler:!1},_w={readContext:Ut,useCallback:L_,useContext:Ut,useEffect:Ah,useImperativeHandle:M_,useInsertionEffect:D_,useLayoutEffect:A_,useMemo:F_,useReducer:Gc,useRef:P_,useState:function(){return Gc(na)},useDebugValue:Oh,useDeferredValue:function(t){var e=Bt();return Te===null?e.memoizedState=t:U_(e,Te.memoizedState,t)},useTransition:function(){var t=Gc(na)[0],e=Bt().memoizedState;return[t,e]},useMutableSource:C_,useSyncExternalStore:E_,useId:B_,unstable_isNewReconciler:!1};function zt(t,e){if(t&&t.defaultProps){e=ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Xu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Vl={isMounted:function(t){return(t=t._reactInternals)?Qr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=it(),s=Jn(t),i=xn(r,s);i.payload=e,n!=null&&(i.callback=n),e=Gn(t,i,s),e!==null&&(Jt(e,t,s,r),jo(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=it(),s=Jn(t),i=xn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Gn(t,i,s),e!==null&&(Jt(e,t,s,r),jo(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=it(),r=Jn(t),s=xn(n,r);s.tag=2,e!=null&&(s.callback=e),e=Gn(t,s,r),e!==null&&(Jt(e,t,r,n),jo(e,t,r))}};function Jf(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ji(n,r)||!Ji(s,i):!0}function z_(t,e,n){var r=!1,s=rr,i=e.contextType;return typeof i=="object"&&i!==null?i=Ut(i):(s=ft(e)?Lr:tt.current,r=e.contextTypes,i=(r=r!=null)?Rs(t,s):rr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Qf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Vl.enqueueReplaceState(e,e.state,null)}function Zu(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Sh(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ut(i):(i=ft(e)?Lr:tt.current,s.context=Rs(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Xu(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Vl.enqueueReplaceState(s,s.state,null),Qo(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Os(t,e){try{var n="",r=e;do n+=HN(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Kc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ed(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var bw=typeof WeakMap=="function"?WeakMap:Map;function W_(t,e,n){n=xn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){tl||(tl=!0,ud=r),ed(t,e)},n}function H_(t,e,n){n=xn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ed(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ed(t,e),typeof r!="function"&&(Kn===null?Kn=new Set([this]):Kn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Yf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new bw;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Dw.bind(null,t,e,n),e.then(t,t))}function Xf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Zf(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=xn(-1,1),e.tag=2,Gn(n,e,1))),n.lanes|=1),t)}var yw=Tn.ReactCurrentOwner,dt=!1;function rt(t,e,n,r){e.child=t===null?x_(e,null,n,r):Ds(e,t.child,n,r)}function ep(t,e,n,r,s){n=n.render;var i=e.ref;return Cs(e,s),r=Ph(t,e,n,r,i,s),n=Dh(),t!==null&&!dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Sn(t,e,s)):(me&&n&&yh(e),e.flags|=1,rt(t,e,r,s),e.child)}function tp(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!qh(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,G_(t,e,i,r,s)):(t=ko(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ji,n(o,r)&&t.ref===e.ref)return Sn(t,e,s)}return e.flags|=1,t=Qn(i,r),t.ref=e.ref,t.return=e,e.child=t}function G_(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ji(i,r)&&t.ref===e.ref)if(dt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(dt=!0);else return e.lanes=t.lanes,Sn(t,e,s)}return td(t,e,n,r,s)}function K_(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ae(bs,bt),bt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ae(bs,bt),bt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ae(bs,bt),bt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ae(bs,bt),bt|=r;return rt(t,e,s,n),e.child}function J_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function td(t,e,n,r,s){var i=ft(n)?Lr:tt.current;return i=Rs(e,i),Cs(e,s),n=Ph(t,e,n,r,i,s),r=Dh(),t!==null&&!dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Sn(t,e,s)):(me&&r&&yh(e),e.flags|=1,rt(t,e,n,s),e.child)}function np(t,e,n,r,s){if(ft(n)){var i=!0;Wo(e)}else i=!1;if(Cs(e,s),e.stateNode===null)So(t,e),z_(e,n,r),Zu(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=Ut(h):(h=ft(n)?Lr:tt.current,h=Rs(e,h));var p=n.getDerivedStateFromProps,f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==h)&&Qf(e,o,r,h),An=!1;var d=e.memoizedState;o.state=d,Qo(e,r,o,s),c=e.memoizedState,l!==r||d!==c||mt.current||An?(typeof p=="function"&&(Xu(e,n,p,r),c=e.memoizedState),(l=An||Jf(e,n,l,r,d,c,h))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=h,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,w_(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:zt(e.type,l),o.props=h,f=e.pendingProps,d=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ut(c):(c=ft(n)?Lr:tt.current,c=Rs(e,c));var g=n.getDerivedStateFromProps;(p=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||d!==c)&&Qf(e,o,r,c),An=!1,d=e.memoizedState,o.state=d,Qo(e,r,o,s);var y=e.memoizedState;l!==f||d!==y||mt.current||An?(typeof g=="function"&&(Xu(e,n,g,r),y=e.memoizedState),(h=An||Jf(e,n,h,r,d,y,c)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=c,r=h):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return nd(t,e,n,r,i,s)}function nd(t,e,n,r,s,i){J_(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&$f(e,n,!1),Sn(t,e,i);r=e.stateNode,yw.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ds(e,t.child,null,i),e.child=Ds(e,null,l,i)):rt(t,e,l,i),e.memoizedState=r.state,s&&$f(e,n,!0),e.child}function Q_(t){var e=t.stateNode;e.pendingContext?Bf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Bf(t,e.context,!1),Ih(t,e.containerInfo)}function rp(t,e,n,r,s){return Ps(),Nh(s),e.flags|=256,rt(t,e,n,r),e.child}var rd={dehydrated:null,treeContext:null,retryLane:0};function sd(t){return{baseLanes:t,cachePool:null,transitions:null}}function Y_(t,e,n){var r=e.pendingProps,s=ve.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ae(ve,s&1),t===null)return Qu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Wl(o,r,0,null),t=Pr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=sd(n),e.memoizedState=rd,t):Mh(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return xw(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Qn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Qn(l,i):(i=Pr(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?sd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=rd,r}return i=t.child,t=i.sibling,r=Qn(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Mh(t,e){return e=Wl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function lo(t,e,n,r){return r!==null&&Nh(r),Ds(e,t.child,null,n),t=Mh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xw(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Kc(Error(A(422))),lo(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Wl({mode:"visible",children:r.children},s,0,null),i=Pr(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ds(e,t.child,null,o),e.child.memoizedState=sd(o),e.memoizedState=rd,i);if(!(e.mode&1))return lo(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(A(419)),r=Kc(i,r,void 0),lo(t,e,o,r)}if(l=(o&t.childLanes)!==0,dt||l){if(r=qe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,En(t,s),Jt(r,t,s,-1))}return Vh(),r=Kc(Error(A(421))),lo(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Aw.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,yt=Hn(s.nextSibling),Nt=e,me=!0,Ht=null,t!==null&&(kt[Rt++]=gn,kt[Rt++]=vn,kt[Rt++]=Fr,gn=t.id,vn=t.overflow,Fr=e),e=Mh(e,r.children),e.flags|=4096,e)}function sp(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Yu(t.return,e,n)}function Jc(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function X_(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(rt(t,e,r.children,n),r=ve.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sp(t,n,e);else if(t.tag===19)sp(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ae(ve,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Yo(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Jc(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Yo(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Jc(e,!0,n,null,i);break;case"together":Jc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function So(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Sn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Br|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(A(153));if(e.child!==null){for(t=e.child,n=Qn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Qn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Nw(t,e,n){switch(e.tag){case 3:Q_(e),Ps();break;case 5:j_(e);break;case 1:ft(e.type)&&Wo(e);break;case 4:Ih(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ae(Ko,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ae(ve,ve.current&1),e.flags|=128,null):n&e.child.childLanes?Y_(t,e,n):(ae(ve,ve.current&1),t=Sn(t,e,n),t!==null?t.sibling:null);ae(ve,ve.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return X_(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ae(ve,ve.current),r)break;return null;case 22:case 23:return e.lanes=0,K_(t,e,n)}return Sn(t,e,n)}var Z_,id,eb,tb;Z_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};id=function(){};eb=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Sr(ln.current);var i=null;switch(n){case"input":s=Su(t,s),r=Su(t,r),i=[];break;case"select":s=ye({},s,{value:void 0}),r=ye({},r,{value:void 0}),i=[];break;case"textarea":s=ku(t,s),r=ku(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=qo)}Pu(n,r);var o;n=null;for(h in s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var l=s[h];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Vi.hasOwnProperty(h)?i||(i=[]):(i=i||[]).push(h,null));for(h in r){var c=r[h];if(l=s!=null?s[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(c!=null||l!=null))if(h==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Vi.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&le("scroll",t),i||l===c||(i=[])):(i=i||[]).push(h,c))}n&&(i=i||[]).push("style",n);var h=i;(e.updateQueue=h)&&(e.flags|=4)}};tb=function(t,e,n,r){n!==r&&(e.flags|=4)};function ui(t,e){if(!me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Xe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ww(t,e,n){var r=e.pendingProps;switch(xh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(e),null;case 1:return ft(e.type)&&zo(),Xe(e),null;case 3:return r=e.stateNode,As(),de(mt),de(tt),kh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ao(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ht!==null&&(md(Ht),Ht=null))),id(t,e),Xe(e),null;case 5:Th(e);var s=Sr(ea.current);if(n=e.type,t!==null&&e.stateNode!=null)eb(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(A(166));return Xe(e),null}if(t=Sr(ln.current),ao(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[rn]=e,r[Xi]=i,t=(e.mode&1)!==0,n){case"dialog":le("cancel",r),le("close",r);break;case"iframe":case"object":case"embed":le("load",r);break;case"video":case"audio":for(s=0;s<yi.length;s++)le(yi[s],r);break;case"source":le("error",r);break;case"img":case"image":case"link":le("error",r),le("load",r);break;case"details":le("toggle",r);break;case"input":mf(r,i),le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},le("invalid",r);break;case"textarea":pf(r,i),le("invalid",r)}Pu(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&io(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&io(r.textContent,l,t),s=["children",""+l]):Vi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&le("scroll",r)}switch(n){case"input":Ya(r),ff(r,i,!0);break;case"textarea":Ya(r),gf(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=qo)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Tv(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[rn]=e,t[Xi]=r,Z_(t,e,!1,!1),e.stateNode=t;e:{switch(o=Du(n,r),n){case"dialog":le("cancel",t),le("close",t),s=r;break;case"iframe":case"object":case"embed":le("load",t),s=r;break;case"video":case"audio":for(s=0;s<yi.length;s++)le(yi[s],t);s=r;break;case"source":le("error",t),s=r;break;case"img":case"image":case"link":le("error",t),le("load",t),s=r;break;case"details":le("toggle",t),s=r;break;case"input":mf(t,r),s=Su(t,r),le("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ye({},r,{value:void 0}),le("invalid",t);break;case"textarea":pf(t,r),s=ku(t,r),le("invalid",t);break;default:s=r}Pu(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Pv(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&kv(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&qi(t,c):typeof c=="number"&&qi(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Vi.hasOwnProperty(i)?c!=null&&i==="onScroll"&&le("scroll",t):c!=null&&ah(t,i,c,o))}switch(n){case"input":Ya(t),ff(t,r,!1);break;case"textarea":Ya(t),gf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+nr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?xs(t,!!r.multiple,i,!1):r.defaultValue!=null&&xs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=qo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xe(e),null;case 6:if(t&&e.stateNode!=null)tb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(A(166));if(n=Sr(ea.current),Sr(ln.current),ao(e)){if(r=e.stateNode,n=e.memoizedProps,r[rn]=e,(i=r.nodeValue!==n)&&(t=Nt,t!==null))switch(t.tag){case 3:io(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&io(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[rn]=e,e.stateNode=r}return Xe(e),null;case 13:if(de(ve),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(me&&yt!==null&&e.mode&1&&!(e.flags&128))b_(),Ps(),e.flags|=98560,i=!1;else if(i=ao(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(A(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(A(317));i[rn]=e}else Ps(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xe(e),i=!1}else Ht!==null&&(md(Ht),Ht=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ve.current&1?Re===0&&(Re=3):Vh())),e.updateQueue!==null&&(e.flags|=4),Xe(e),null);case 4:return As(),id(t,e),t===null&&Qi(e.stateNode.containerInfo),Xe(e),null;case 10:return Ch(e.type._context),Xe(e),null;case 17:return ft(e.type)&&zo(),Xe(e),null;case 19:if(de(ve),i=e.memoizedState,i===null)return Xe(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ui(i,!1);else{if(Re!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Yo(t),o!==null){for(e.flags|=128,ui(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ae(ve,ve.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ee()>Ms&&(e.flags|=128,r=!0,ui(i,!1),e.lanes=4194304)}else{if(!r)if(t=Yo(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ui(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!me)return Xe(e),null}else 2*Ee()-i.renderingStartTime>Ms&&n!==1073741824&&(e.flags|=128,r=!0,ui(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ee(),e.sibling=null,n=ve.current,ae(ve,r?n&1|2:n&1),e):(Xe(e),null);case 22:case 23:return $h(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?bt&1073741824&&(Xe(e),e.subtreeFlags&6&&(e.flags|=8192)):Xe(e),null;case 24:return null;case 25:return null}throw Error(A(156,e.tag))}function jw(t,e){switch(xh(e),e.tag){case 1:return ft(e.type)&&zo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return As(),de(mt),de(tt),kh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Th(e),null;case 13:if(de(ve),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(A(340));Ps()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return de(ve),null;case 4:return As(),null;case 10:return Ch(e.type._context),null;case 22:case 23:return $h(),null;case 24:return null;default:return null}}var co=!1,Ze=!1,Cw=typeof WeakSet=="function"?WeakSet:Set,F=null;function _s(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xe(t,e,r)}else n.current=null}function ad(t,e,n){try{n()}catch(r){xe(t,e,r)}}var ip=!1;function Ew(t,e){if(qu=Bo,t=a_(),bh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,h=0,p=0,f=t,d=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)d=f,f=g;for(;;){if(f===t)break t;if(d===n&&++h===s&&(l=o),d===i&&++p===r&&(c=o),(g=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(zu={focusedElem:t,selectionRange:n},Bo=!1,F=e;F!==null;)if(e=F,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,F=t;else for(;F!==null;){e=F;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var N=y.memoizedProps,E=y.memoizedState,b=e.stateNode,_=b.getSnapshotBeforeUpdate(e.elementType===e.type?N:zt(e.type,N),E);b.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(C){xe(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,F=t;break}F=e.return}return y=ip,ip=!1,y}function ki(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ad(e,n,i)}s=s.next}while(s!==r)}}function ql(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function od(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function nb(t){var e=t.alternate;e!==null&&(t.alternate=null,nb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[rn],delete e[Xi],delete e[Gu],delete e[lw],delete e[cw])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rb(t){return t.tag===5||t.tag===3||t.tag===4}function ap(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ld(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=qo));else if(r!==4&&(t=t.child,t!==null))for(ld(t,e,n),t=t.sibling;t!==null;)ld(t,e,n),t=t.sibling}function cd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(cd(t,e,n),t=t.sibling;t!==null;)cd(t,e,n),t=t.sibling}var Ge=null,Wt=!1;function kn(t,e,n){for(n=n.child;n!==null;)sb(t,e,n),n=n.sibling}function sb(t,e,n){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(Ol,n)}catch{}switch(n.tag){case 5:Ze||_s(n,e);case 6:var r=Ge,s=Wt;Ge=null,kn(t,e,n),Ge=r,Wt=s,Ge!==null&&(Wt?(t=Ge,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ge.removeChild(n.stateNode));break;case 18:Ge!==null&&(Wt?(t=Ge,n=n.stateNode,t.nodeType===8?Vc(t.parentNode,n):t.nodeType===1&&Vc(t,n),Gi(t)):Vc(Ge,n.stateNode));break;case 4:r=Ge,s=Wt,Ge=n.stateNode.containerInfo,Wt=!0,kn(t,e,n),Ge=r,Wt=s;break;case 0:case 11:case 14:case 15:if(!Ze&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ad(n,e,o),s=s.next}while(s!==r)}kn(t,e,n);break;case 1:if(!Ze&&(_s(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){xe(n,e,l)}kn(t,e,n);break;case 21:kn(t,e,n);break;case 22:n.mode&1?(Ze=(r=Ze)||n.memoizedState!==null,kn(t,e,n),Ze=r):kn(t,e,n);break;default:kn(t,e,n)}}function op(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Cw),e.forEach(function(r){var s=Ow.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Vt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ge=l.stateNode,Wt=!1;break e;case 3:Ge=l.stateNode.containerInfo,Wt=!0;break e;case 4:Ge=l.stateNode.containerInfo,Wt=!0;break e}l=l.return}if(Ge===null)throw Error(A(160));sb(i,o,s),Ge=null,Wt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(h){xe(s,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ib(e,t),e=e.sibling}function ib(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vt(e,t),tn(t),r&4){try{ki(3,t,t.return),ql(3,t)}catch(N){xe(t,t.return,N)}try{ki(5,t,t.return)}catch(N){xe(t,t.return,N)}}break;case 1:Vt(e,t),tn(t),r&512&&n!==null&&_s(n,n.return);break;case 5:if(Vt(e,t),tn(t),r&512&&n!==null&&_s(n,n.return),t.flags&32){var s=t.stateNode;try{qi(s,"")}catch(N){xe(t,t.return,N)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Sv(s,i),Du(l,o);var h=Du(l,i);for(o=0;o<c.length;o+=2){var p=c[o],f=c[o+1];p==="style"?Pv(s,f):p==="dangerouslySetInnerHTML"?kv(s,f):p==="children"?qi(s,f):ah(s,p,f,h)}switch(l){case"input":Iu(s,i);break;case"textarea":Iv(s,i);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?xs(s,!!i.multiple,g,!1):d!==!!i.multiple&&(i.defaultValue!=null?xs(s,!!i.multiple,i.defaultValue,!0):xs(s,!!i.multiple,i.multiple?[]:"",!1))}s[Xi]=i}catch(N){xe(t,t.return,N)}}break;case 6:if(Vt(e,t),tn(t),r&4){if(t.stateNode===null)throw Error(A(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(N){xe(t,t.return,N)}}break;case 3:if(Vt(e,t),tn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gi(e.containerInfo)}catch(N){xe(t,t.return,N)}break;case 4:Vt(e,t),tn(t);break;case 13:Vt(e,t),tn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Uh=Ee())),r&4&&op(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(Ze=(h=Ze)||p,Vt(e,t),Ze=h):Vt(e,t),tn(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!p&&t.mode&1)for(F=t,p=t.child;p!==null;){for(f=F=p;F!==null;){switch(d=F,g=d.child,d.tag){case 0:case 11:case 14:case 15:ki(4,d,d.return);break;case 1:_s(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(N){xe(r,n,N)}}break;case 5:_s(d,d.return);break;case 22:if(d.memoizedState!==null){cp(f);continue}}g!==null?(g.return=d,F=g):cp(f)}p=p.sibling}e:for(p=null,f=t;;){if(f.tag===5){if(p===null){p=f;try{s=f.stateNode,h?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Rv("display",o))}catch(N){xe(t,t.return,N)}}}else if(f.tag===6){if(p===null)try{f.stateNode.nodeValue=h?"":f.memoizedProps}catch(N){xe(t,t.return,N)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Vt(e,t),tn(t),r&4&&op(t);break;case 21:break;default:Vt(e,t),tn(t)}}function tn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(rb(n)){var r=n;break e}n=n.return}throw Error(A(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(qi(s,""),r.flags&=-33);var i=ap(t);cd(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=ap(t);ld(t,l,o);break;default:throw Error(A(161))}}catch(c){xe(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Sw(t,e,n){F=t,ab(t)}function ab(t,e,n){for(var r=(t.mode&1)!==0;F!==null;){var s=F,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||co;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ze;l=co;var h=Ze;if(co=o,(Ze=c)&&!h)for(F=s;F!==null;)o=F,c=o.child,o.tag===22&&o.memoizedState!==null?up(s):c!==null?(c.return=o,F=c):up(s);for(;i!==null;)F=i,ab(i),i=i.sibling;F=s,co=l,Ze=h}lp(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,F=i):lp(t)}}function lp(t){for(;F!==null;){var e=F;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ze||ql(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ze)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:zt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Hf(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Hf(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var f=p.dehydrated;f!==null&&Gi(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}Ze||e.flags&512&&od(e)}catch(d){xe(e,e.return,d)}}if(e===t){F=null;break}if(n=e.sibling,n!==null){n.return=e.return,F=n;break}F=e.return}}function cp(t){for(;F!==null;){var e=F;if(e===t){F=null;break}var n=e.sibling;if(n!==null){n.return=e.return,F=n;break}F=e.return}}function up(t){for(;F!==null;){var e=F;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ql(4,e)}catch(c){xe(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){xe(e,s,c)}}var i=e.return;try{od(e)}catch(c){xe(e,i,c)}break;case 5:var o=e.return;try{od(e)}catch(c){xe(e,o,c)}}}catch(c){xe(e,e.return,c)}if(e===t){F=null;break}var l=e.sibling;if(l!==null){l.return=e.return,F=l;break}F=e.return}}var Iw=Math.ceil,el=Tn.ReactCurrentDispatcher,Lh=Tn.ReactCurrentOwner,Mt=Tn.ReactCurrentBatchConfig,X=0,qe=null,Ie=null,Je=0,bt=0,bs=mr(0),Re=0,sa=null,Br=0,zl=0,Fh=0,Ri=null,ct=null,Uh=0,Ms=1/0,fn=null,tl=!1,ud=null,Kn=null,uo=!1,Un=null,nl=0,Pi=0,dd=null,Io=-1,To=0;function it(){return X&6?Ee():Io!==-1?Io:Io=Ee()}function Jn(t){return t.mode&1?X&2&&Je!==0?Je&-Je:dw.transition!==null?(To===0&&(To=zv()),To):(t=ne,t!==0||(t=window.event,t=t===void 0?16:Yv(t.type)),t):1}function Jt(t,e,n,r){if(50<Pi)throw Pi=0,dd=null,Error(A(185));Ca(t,n,r),(!(X&2)||t!==qe)&&(t===qe&&(!(X&2)&&(zl|=n),Re===4&&Mn(t,Je)),pt(t,r),n===1&&X===0&&!(e.mode&1)&&(Ms=Ee()+500,Bl&&fr()))}function pt(t,e){var n=t.callbackNode;d0(t,e);var r=Uo(t,t===qe?Je:0);if(r===0)n!==null&&bf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&bf(n),e===1)t.tag===0?uw(dp.bind(null,t)):g_(dp.bind(null,t)),aw(function(){!(X&6)&&fr()}),n=null;else{switch(Wv(r)){case 1:n=dh;break;case 4:n=Vv;break;case 16:n=Fo;break;case 536870912:n=qv;break;default:n=Fo}n=fb(n,ob.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ob(t,e){if(Io=-1,To=0,X&6)throw Error(A(327));var n=t.callbackNode;if(Es()&&t.callbackNode!==n)return null;var r=Uo(t,t===qe?Je:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=rl(t,r);else{e=r;var s=X;X|=2;var i=cb();(qe!==t||Je!==e)&&(fn=null,Ms=Ee()+500,Rr(t,e));do try{Rw();break}catch(l){lb(t,l)}while(!0);jh(),el.current=i,X=s,Ie!==null?e=0:(qe=null,Je=0,e=Re)}if(e!==0){if(e===2&&(s=Fu(t),s!==0&&(r=s,e=hd(t,s))),e===1)throw n=sa,Rr(t,0),Mn(t,r),pt(t,Ee()),n;if(e===6)Mn(t,r);else{if(s=t.current.alternate,!(r&30)&&!Tw(s)&&(e=rl(t,r),e===2&&(i=Fu(t),i!==0&&(r=i,e=hd(t,i))),e===1))throw n=sa,Rr(t,0),Mn(t,r),pt(t,Ee()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(A(345));case 2:Nr(t,ct,fn);break;case 3:if(Mn(t,r),(r&130023424)===r&&(e=Uh+500-Ee(),10<e)){if(Uo(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){it(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Hu(Nr.bind(null,t,ct,fn),e);break}Nr(t,ct,fn);break;case 4:if(Mn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Kt(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ee()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Iw(r/1960))-r,10<r){t.timeoutHandle=Hu(Nr.bind(null,t,ct,fn),r);break}Nr(t,ct,fn);break;case 5:Nr(t,ct,fn);break;default:throw Error(A(329))}}}return pt(t,Ee()),t.callbackNode===n?ob.bind(null,t):null}function hd(t,e){var n=Ri;return t.current.memoizedState.isDehydrated&&(Rr(t,e).flags|=256),t=rl(t,e),t!==2&&(e=ct,ct=n,e!==null&&md(e)),t}function md(t){ct===null?ct=t:ct.push.apply(ct,t)}function Tw(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Yt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mn(t,e){for(e&=~Fh,e&=~zl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Kt(e),r=1<<n;t[n]=-1,e&=~r}}function dp(t){if(X&6)throw Error(A(327));Es();var e=Uo(t,0);if(!(e&1))return pt(t,Ee()),null;var n=rl(t,e);if(t.tag!==0&&n===2){var r=Fu(t);r!==0&&(e=r,n=hd(t,r))}if(n===1)throw n=sa,Rr(t,0),Mn(t,e),pt(t,Ee()),n;if(n===6)throw Error(A(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Nr(t,ct,fn),pt(t,Ee()),null}function Bh(t,e){var n=X;X|=1;try{return t(e)}finally{X=n,X===0&&(Ms=Ee()+500,Bl&&fr())}}function $r(t){Un!==null&&Un.tag===0&&!(X&6)&&Es();var e=X;X|=1;var n=Mt.transition,r=ne;try{if(Mt.transition=null,ne=1,t)return t()}finally{ne=r,Mt.transition=n,X=e,!(X&6)&&fr()}}function $h(){bt=bs.current,de(bs)}function Rr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,iw(n)),Ie!==null)for(n=Ie.return;n!==null;){var r=n;switch(xh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zo();break;case 3:As(),de(mt),de(tt),kh();break;case 5:Th(r);break;case 4:As();break;case 13:de(ve);break;case 19:de(ve);break;case 10:Ch(r.type._context);break;case 22:case 23:$h()}n=n.return}if(qe=t,Ie=t=Qn(t.current,null),Je=bt=e,Re=0,sa=null,Fh=zl=Br=0,ct=Ri=null,Er!==null){for(e=0;e<Er.length;e++)if(n=Er[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Er=null}return t}function lb(t,e){do{var n=Ie;try{if(jh(),Co.current=Zo,Xo){for(var r=be.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Xo=!1}if(Ur=0,Ue=Te=be=null,Ti=!1,ta=0,Lh.current=null,n===null||n.return===null){Re=1,sa=e,Ie=null;break}e:{var i=t,o=n.return,l=n,c=e;if(e=Je,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,p=l,f=p.tag;if(!(p.mode&1)&&(f===0||f===11||f===15)){var d=p.alternate;d?(p.updateQueue=d.updateQueue,p.memoizedState=d.memoizedState,p.lanes=d.lanes):(p.updateQueue=null,p.memoizedState=null)}var g=Xf(o);if(g!==null){g.flags&=-257,Zf(g,o,l,i,e),g.mode&1&&Yf(i,h,e),e=g,c=h;var y=e.updateQueue;if(y===null){var N=new Set;N.add(c),e.updateQueue=N}else y.add(c);break e}else{if(!(e&1)){Yf(i,h,e),Vh();break e}c=Error(A(426))}}else if(me&&l.mode&1){var E=Xf(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Zf(E,o,l,i,e),Nh(Os(c,l));break e}}i=c=Os(c,l),Re!==4&&(Re=2),Ri===null?Ri=[i]:Ri.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var b=W_(i,c,e);Wf(i,b);break e;case 1:l=c;var _=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Kn===null||!Kn.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=H_(i,l,e);Wf(i,C);break e}}i=i.return}while(i!==null)}db(n)}catch(v){e=v,Ie===n&&n!==null&&(Ie=n=n.return);continue}break}while(!0)}function cb(){var t=el.current;return el.current=Zo,t===null?Zo:t}function Vh(){(Re===0||Re===3||Re===2)&&(Re=4),qe===null||!(Br&268435455)&&!(zl&268435455)||Mn(qe,Je)}function rl(t,e){var n=X;X|=2;var r=cb();(qe!==t||Je!==e)&&(fn=null,Rr(t,e));do try{kw();break}catch(s){lb(t,s)}while(!0);if(jh(),X=n,el.current=r,Ie!==null)throw Error(A(261));return qe=null,Je=0,Re}function kw(){for(;Ie!==null;)ub(Ie)}function Rw(){for(;Ie!==null&&!n0();)ub(Ie)}function ub(t){var e=mb(t.alternate,t,bt);t.memoizedProps=t.pendingProps,e===null?db(t):Ie=e,Lh.current=null}function db(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=jw(n,e),n!==null){n.flags&=32767,Ie=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Re=6,Ie=null;return}}else if(n=ww(n,e,bt),n!==null){Ie=n;return}if(e=e.sibling,e!==null){Ie=e;return}Ie=e=t}while(e!==null);Re===0&&(Re=5)}function Nr(t,e,n){var r=ne,s=Mt.transition;try{Mt.transition=null,ne=1,Pw(t,e,n,r)}finally{Mt.transition=s,ne=r}return null}function Pw(t,e,n,r){do Es();while(Un!==null);if(X&6)throw Error(A(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(A(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(h0(t,i),t===qe&&(Ie=qe=null,Je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||uo||(uo=!0,fb(Fo,function(){return Es(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Mt.transition,Mt.transition=null;var o=ne;ne=1;var l=X;X|=4,Lh.current=null,Ew(t,n),ib(n,t),X0(zu),Bo=!!qu,zu=qu=null,t.current=n,Sw(n),r0(),X=l,ne=o,Mt.transition=i}else t.current=n;if(uo&&(uo=!1,Un=t,nl=s),i=t.pendingLanes,i===0&&(Kn=null),a0(n.stateNode),pt(t,Ee()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(tl)throw tl=!1,t=ud,ud=null,t;return nl&1&&t.tag!==0&&Es(),i=t.pendingLanes,i&1?t===dd?Pi++:(Pi=0,dd=t):Pi=0,fr(),null}function Es(){if(Un!==null){var t=Wv(nl),e=Mt.transition,n=ne;try{if(Mt.transition=null,ne=16>t?16:t,Un===null)var r=!1;else{if(t=Un,Un=null,nl=0,X&6)throw Error(A(331));var s=X;for(X|=4,F=t.current;F!==null;){var i=F,o=i.child;if(F.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var h=l[c];for(F=h;F!==null;){var p=F;switch(p.tag){case 0:case 11:case 15:ki(8,p,i)}var f=p.child;if(f!==null)f.return=p,F=f;else for(;F!==null;){p=F;var d=p.sibling,g=p.return;if(nb(p),p===h){F=null;break}if(d!==null){d.return=g,F=d;break}F=g}}}var y=i.alternate;if(y!==null){var N=y.child;if(N!==null){y.child=null;do{var E=N.sibling;N.sibling=null,N=E}while(N!==null)}}F=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,F=o;else e:for(;F!==null;){if(i=F,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ki(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,F=b;break e}F=i.return}}var _=t.current;for(F=_;F!==null;){o=F;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,F=x;else e:for(o=_;F!==null;){if(l=F,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ql(9,l)}}catch(v){xe(l,l.return,v)}if(l===o){F=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,F=C;break e}F=l.return}}if(X=s,fr(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(Ol,t)}catch{}r=!0}return r}finally{ne=n,Mt.transition=e}}return!1}function hp(t,e,n){e=Os(n,e),e=W_(t,e,1),t=Gn(t,e,1),e=it(),t!==null&&(Ca(t,1,e),pt(t,e))}function xe(t,e,n){if(t.tag===3)hp(t,t,n);else for(;e!==null;){if(e.tag===3){hp(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Kn===null||!Kn.has(r))){t=Os(n,t),t=H_(e,t,1),e=Gn(e,t,1),t=it(),e!==null&&(Ca(e,1,t),pt(e,t));break}}e=e.return}}function Dw(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=it(),t.pingedLanes|=t.suspendedLanes&n,qe===t&&(Je&n)===n&&(Re===4||Re===3&&(Je&130023424)===Je&&500>Ee()-Uh?Rr(t,0):Fh|=n),pt(t,e)}function hb(t,e){e===0&&(t.mode&1?(e=eo,eo<<=1,!(eo&130023424)&&(eo=4194304)):e=1);var n=it();t=En(t,e),t!==null&&(Ca(t,e,n),pt(t,n))}function Aw(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),hb(t,n)}function Ow(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(A(314))}r!==null&&r.delete(e),hb(t,n)}var mb;mb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||mt.current)dt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return dt=!1,Nw(t,e,n);dt=!!(t.flags&131072)}else dt=!1,me&&e.flags&1048576&&v_(e,Go,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;So(t,e),t=e.pendingProps;var s=Rs(e,tt.current);Cs(e,n),s=Ph(null,e,r,t,s,n);var i=Dh();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ft(r)?(i=!0,Wo(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Sh(e),s.updater=Vl,e.stateNode=s,s._reactInternals=e,Zu(e,r,t,n),e=nd(null,e,r,!0,i,n)):(e.tag=0,me&&i&&yh(e),rt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(So(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Lw(r),t=zt(r,t),s){case 0:e=td(null,e,r,t,n);break e;case 1:e=np(null,e,r,t,n);break e;case 11:e=ep(null,e,r,t,n);break e;case 14:e=tp(null,e,r,zt(r.type,t),n);break e}throw Error(A(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zt(r,s),td(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zt(r,s),np(t,e,r,s,n);case 3:e:{if(Q_(e),t===null)throw Error(A(387));r=e.pendingProps,i=e.memoizedState,s=i.element,w_(t,e),Qo(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Os(Error(A(423)),e),e=rp(t,e,r,n,s);break e}else if(r!==s){s=Os(Error(A(424)),e),e=rp(t,e,r,n,s);break e}else for(yt=Hn(e.stateNode.containerInfo.firstChild),Nt=e,me=!0,Ht=null,n=x_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ps(),r===s){e=Sn(t,e,n);break e}rt(t,e,r,n)}e=e.child}return e;case 5:return j_(e),t===null&&Qu(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Wu(r,s)?o=null:i!==null&&Wu(r,i)&&(e.flags|=32),J_(t,e),rt(t,e,o,n),e.child;case 6:return t===null&&Qu(e),null;case 13:return Y_(t,e,n);case 4:return Ih(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ds(e,null,r,n):rt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zt(r,s),ep(t,e,r,s,n);case 7:return rt(t,e,e.pendingProps,n),e.child;case 8:return rt(t,e,e.pendingProps.children,n),e.child;case 12:return rt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ae(Ko,r._currentValue),r._currentValue=o,i!==null)if(Yt(i.value,o)){if(i.children===s.children&&!mt.current){e=Sn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=xn(-1,n&-n),c.tag=2;var h=i.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?c.next=c:(c.next=p.next,p.next=c),h.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Yu(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(A(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Yu(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}rt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Cs(e,n),s=Ut(s),r=r(s),e.flags|=1,rt(t,e,r,n),e.child;case 14:return r=e.type,s=zt(r,e.pendingProps),s=zt(r.type,s),tp(t,e,r,s,n);case 15:return G_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zt(r,s),So(t,e),e.tag=1,ft(r)?(t=!0,Wo(e)):t=!1,Cs(e,n),z_(e,r,s),Zu(e,r,s,n),nd(null,e,r,!0,t,n);case 19:return X_(t,e,n);case 22:return K_(t,e,n)}throw Error(A(156,e.tag))};function fb(t,e){return $v(t,e)}function Mw(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(t,e,n,r){return new Mw(t,e,n,r)}function qh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Lw(t){if(typeof t=="function")return qh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===lh)return 11;if(t===ch)return 14}return 2}function Qn(t,e){var n=t.alternate;return n===null?(n=Dt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ko(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")qh(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case cs:return Pr(n.children,s,i,e);case oh:o=8,s|=8;break;case wu:return t=Dt(12,n,e,s|2),t.elementType=wu,t.lanes=i,t;case ju:return t=Dt(13,n,e,s),t.elementType=ju,t.lanes=i,t;case Cu:return t=Dt(19,n,e,s),t.elementType=Cu,t.lanes=i,t;case jv:return Wl(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Nv:o=10;break e;case wv:o=9;break e;case lh:o=11;break e;case ch:o=14;break e;case Dn:o=16,r=null;break e}throw Error(A(130,t==null?t:typeof t,""))}return e=Dt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Pr(t,e,n,r){return t=Dt(7,t,r,e),t.lanes=n,t}function Wl(t,e,n,r){return t=Dt(22,t,r,e),t.elementType=jv,t.lanes=n,t.stateNode={isHidden:!1},t}function Qc(t,e,n){return t=Dt(6,t,null,e),t.lanes=n,t}function Yc(t,e,n){return e=Dt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Fw(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rc(0),this.expirationTimes=Rc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function zh(t,e,n,r,s,i,o,l,c){return t=new Fw(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Dt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sh(i),t}function Uw(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ls,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function pb(t){if(!t)return rr;t=t._reactInternals;e:{if(Qr(t)!==t||t.tag!==1)throw Error(A(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ft(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(A(171))}if(t.tag===1){var n=t.type;if(ft(n))return p_(t,n,e)}return e}function gb(t,e,n,r,s,i,o,l,c){return t=zh(n,r,!0,t,s,i,o,l,c),t.context=pb(null),n=t.current,r=it(),s=Jn(n),i=xn(r,s),i.callback=e??null,Gn(n,i,s),t.current.lanes=s,Ca(t,s,r),pt(t,r),t}function Hl(t,e,n,r){var s=e.current,i=it(),o=Jn(s);return n=pb(n),e.context===null?e.context=n:e.pendingContext=n,e=xn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Gn(s,e,o),t!==null&&(Jt(t,s,o,i),jo(t,s,o)),o}function sl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function mp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Wh(t,e){mp(t,e),(t=t.alternate)&&mp(t,e)}function Bw(){return null}var vb=typeof reportError=="function"?reportError:function(t){console.error(t)};function Hh(t){this._internalRoot=t}Gl.prototype.render=Hh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(A(409));Hl(t,e,null,null)};Gl.prototype.unmount=Hh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$r(function(){Hl(null,t,null,null)}),e[Cn]=null}};function Gl(t){this._internalRoot=t}Gl.prototype.unstable_scheduleHydration=function(t){if(t){var e=Kv();t={blockedOn:null,target:t,priority:e};for(var n=0;n<On.length&&e!==0&&e<On[n].priority;n++);On.splice(n,0,t),n===0&&Qv(t)}};function Gh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Kl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function fp(){}function $w(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var h=sl(o);i.call(h)}}var o=gb(e,r,t,0,null,!1,!1,"",fp);return t._reactRootContainer=o,t[Cn]=o.current,Qi(t.nodeType===8?t.parentNode:t),$r(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var h=sl(c);l.call(h)}}var c=zh(t,0,!1,null,null,!1,!1,"",fp);return t._reactRootContainer=c,t[Cn]=c.current,Qi(t.nodeType===8?t.parentNode:t),$r(function(){Hl(e,c,n,r)}),c}function Jl(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=sl(o);l.call(c)}}Hl(e,o,t,s)}else o=$w(n,e,t,s,r);return sl(o)}Hv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=bi(e.pendingLanes);n!==0&&(hh(e,n|1),pt(e,Ee()),!(X&6)&&(Ms=Ee()+500,fr()))}break;case 13:$r(function(){var r=En(t,1);if(r!==null){var s=it();Jt(r,t,1,s)}}),Wh(t,1)}};mh=function(t){if(t.tag===13){var e=En(t,134217728);if(e!==null){var n=it();Jt(e,t,134217728,n)}Wh(t,134217728)}};Gv=function(t){if(t.tag===13){var e=Jn(t),n=En(t,e);if(n!==null){var r=it();Jt(n,t,e,r)}Wh(t,e)}};Kv=function(){return ne};Jv=function(t,e){var n=ne;try{return ne=t,e()}finally{ne=n}};Ou=function(t,e,n){switch(e){case"input":if(Iu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ul(r);if(!s)throw Error(A(90));Ev(r),Iu(r,s)}}}break;case"textarea":Iv(t,n);break;case"select":e=n.value,e!=null&&xs(t,!!n.multiple,e,!1)}};Ov=Bh;Mv=$r;var Vw={usingClientEntryPoint:!1,Events:[Sa,ms,Ul,Dv,Av,Bh]},di={findFiberByHostInstance:Cr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qw={bundleType:di.bundleType,version:di.version,rendererPackageName:di.rendererPackageName,rendererConfig:di.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Uv(t),t===null?null:t.stateNode},findFiberByHostInstance:di.findFiberByHostInstance||Bw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ho=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ho.isDisabled&&ho.supportsFiber)try{Ol=ho.inject(qw),on=ho}catch{}}St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vw;St.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gh(e))throw Error(A(200));return Uw(t,e,null,n)};St.createRoot=function(t,e){if(!Gh(t))throw Error(A(299));var n=!1,r="",s=vb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=zh(t,1,!1,null,null,n,!1,r,s),t[Cn]=e.current,Qi(t.nodeType===8?t.parentNode:t),new Hh(e)};St.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(A(188)):(t=Object.keys(t).join(","),Error(A(268,t)));return t=Uv(e),t=t===null?null:t.stateNode,t};St.flushSync=function(t){return $r(t)};St.hydrate=function(t,e,n){if(!Kl(e))throw Error(A(200));return Jl(null,t,e,!0,n)};St.hydrateRoot=function(t,e,n){if(!Gh(t))throw Error(A(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=vb;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=gb(e,null,t,1,n??null,s,!1,i,o),t[Cn]=e.current,Qi(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Gl(e)};St.render=function(t,e,n){if(!Kl(e))throw Error(A(200));return Jl(null,t,e,!1,n)};St.unmountComponentAtNode=function(t){if(!Kl(t))throw Error(A(40));return t._reactRootContainer?($r(function(){Jl(null,null,t,!1,function(){t._reactRootContainer=null,t[Cn]=null})}),!0):!1};St.unstable_batchedUpdates=Bh;St.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Kl(n))throw Error(A(200));if(t==null||t._reactInternals===void 0)throw Error(A(38));return Jl(t,e,n,!1,r)};St.version="18.3.1-next-f1338f8080-20240426";function _b(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_b)}catch(t){console.error(t)}}_b(),_v.exports=St;var zw=_v.exports,pp=zw;xu.createRoot=pp.createRoot,xu.hydrateRoot=pp.hydrateRoot;/**
 * @remix-run/router v1.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ia(){return ia=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ia.apply(this,arguments)}var Bn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Bn||(Bn={}));const gp="popstate";function Ww(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return fd("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:il(s)}return Gw(e,n,null,t)}function Se(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bb(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Hw(){return Math.random().toString(36).substr(2,8)}function vp(t,e){return{usr:t.state,key:t.key,idx:e}}function fd(t,e,n,r){return n===void 0&&(n=null),ia({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ks(e):e,{state:n,key:e&&e.key||r||Hw()})}function il(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ks(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Gw(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=Bn.Pop,c=null,h=p();h==null&&(h=0,o.replaceState(ia({},o.state,{idx:h}),""));function p(){return(o.state||{idx:null}).idx}function f(){l=Bn.Pop;let E=p(),b=E==null?null:E-h;h=E,c&&c({action:l,location:N.location,delta:b})}function d(E,b){l=Bn.Push;let _=fd(N.location,E,b);h=p()+1;let x=vp(_,h),C=N.createHref(_);try{o.pushState(x,"",C)}catch(v){if(v instanceof DOMException&&v.name==="DataCloneError")throw v;s.location.assign(C)}i&&c&&c({action:l,location:N.location,delta:1})}function g(E,b){l=Bn.Replace;let _=fd(N.location,E,b);h=p();let x=vp(_,h),C=N.createHref(_);o.replaceState(x,"",C),i&&c&&c({action:l,location:N.location,delta:0})}function y(E){let b=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof E=="string"?E:il(E);return _=_.replace(/ $/,"%20"),Se(b,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,b)}let N={get action(){return l},get location(){return t(s,o)},listen(E){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(gp,f),c=E,()=>{s.removeEventListener(gp,f),c=null}},createHref(E){return e(s,E)},createURL:y,encodeLocation(E){let b=y(E);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:d,replace:g,go(E){return o.go(E)}};return N}var _p;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(_p||(_p={}));function Kw(t,e,n){return n===void 0&&(n="/"),Jw(t,e,n,!1)}function Jw(t,e,n,r){let s=typeof e=="string"?Ks(e):e,i=Kh(s.pathname||"/",n);if(i==null)return null;let o=yb(t);Qw(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let h=oj(i);l=ij(o[c],h,r)}return l}function yb(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Se(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let h=Yn([r,c.relativePath]),p=n.concat(c);i.children&&i.children.length>0&&(Se(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),yb(i.children,e,p,h)),!(i.path==null&&!i.index)&&e.push({path:h,score:rj(h,i.index),routesMeta:p})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of xb(i.path))s(i,o,c)}),e}function xb(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=xb(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Qw(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:sj(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Yw=/^:[\w-]+$/,Xw=3,Zw=2,ej=1,tj=10,nj=-2,bp=t=>t==="*";function rj(t,e){let n=t.split("/"),r=n.length;return n.some(bp)&&(r+=nj),e&&(r+=Zw),n.filter(s=>!bp(s)).reduce((s,i)=>s+(Yw.test(i)?Xw:i===""?ej:tj),r)}function sj(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function ij(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],h=l===r.length-1,p=i==="/"?e:e.slice(i.length)||"/",f=yp({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},p),d=c.route;if(!f&&h&&n&&!r[r.length-1].route.index&&(f=yp({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Yn([i,f.pathname]),pathnameBase:dj(Yn([i,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(i=Yn([i,f.pathnameBase]))}return o}function yp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=aj(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((h,p,f)=>{let{paramName:d,isOptional:g}=p;if(d==="*"){let N=l[f]||"";o=i.slice(0,i.length-N.length).replace(/(.)\/+$/,"$1")}const y=l[f];return g&&!y?h[d]=void 0:h[d]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:o,pattern:t}}function aj(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),bb(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function oj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bb(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Kh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function lj(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ks(t):t;return{pathname:n?n.startsWith("/")?n:cj(n,e):e,search:hj(r),hash:mj(s)}}function cj(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Xc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Jh(t,e){let n=uj(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Qh(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Ks(t):(s=ia({},t),Se(!s.pathname||!s.pathname.includes("?"),Xc("?","pathname","search",s)),Se(!s.pathname||!s.pathname.includes("#"),Xc("#","pathname","hash",s)),Se(!s.search||!s.search.includes("#"),Xc("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f-=1;s.pathname=d.join("/")}l=f>=0?e[f]:"/"}let c=lj(s,l),h=o&&o!=="/"&&o.endsWith("/"),p=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||p)&&(c.pathname+="/"),c}const Yn=t=>t.join("/").replace(/\/\/+/g,"/"),dj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),hj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,mj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function fj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Nb=["post","put","patch","delete"];new Set(Nb);const pj=["get",...Nb];new Set(pj);/**
 * React Router v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function aa(){return aa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aa.apply(this,arguments)}const Yh=w.createContext(null),gj=w.createContext(null),pr=w.createContext(null),Ql=w.createContext(null),gr=w.createContext({outlet:null,matches:[],isDataRoute:!1}),wb=w.createContext(null);function vj(t,e){let{relative:n}=e===void 0?{}:e;Js()||Se(!1);let{basename:r,navigator:s}=w.useContext(pr),{hash:i,pathname:o,search:l}=Cb(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Yn([r,o])),s.createHref({pathname:c,search:l,hash:i})}function Js(){return w.useContext(Ql)!=null}function Ta(){return Js()||Se(!1),w.useContext(Ql).location}function jb(t){w.useContext(pr).static||w.useLayoutEffect(t)}function he(){let{isDataRoute:t}=w.useContext(gr);return t?kj():_j()}function _j(){Js()||Se(!1);let t=w.useContext(Yh),{basename:e,future:n,navigator:r}=w.useContext(pr),{matches:s}=w.useContext(gr),{pathname:i}=Ta(),o=JSON.stringify(Jh(s,n.v7_relativeSplatPath)),l=w.useRef(!1);return jb(()=>{l.current=!0}),w.useCallback(function(h,p){if(p===void 0&&(p={}),!l.current)return;if(typeof h=="number"){r.go(h);return}let f=Qh(h,JSON.parse(o),i,p.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Yn([e,f.pathname])),(p.replace?r.replace:r.push)(f,p.state,p)},[e,r,o,i,t])}function Cb(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=w.useContext(pr),{matches:s}=w.useContext(gr),{pathname:i}=Ta(),o=JSON.stringify(Jh(s,r.v7_relativeSplatPath));return w.useMemo(()=>Qh(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function bj(t,e){return yj(t,e)}function yj(t,e,n,r){Js()||Se(!1);let{navigator:s}=w.useContext(pr),{matches:i}=w.useContext(gr),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let h=Ta(),p;if(e){var f;let E=typeof e=="string"?Ks(e):e;c==="/"||(f=E.pathname)!=null&&f.startsWith(c)||Se(!1),p=E}else p=h;let d=p.pathname||"/",g=d;if(c!=="/"){let E=c.replace(/^\//,"").split("/");g="/"+d.replace(/^\//,"").split("/").slice(E.length).join("/")}let y=Kw(t,{pathname:g}),N=Cj(y&&y.map(E=>Object.assign({},E,{params:Object.assign({},l,E.params),pathname:Yn([c,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?c:Yn([c,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n,r);return e&&N?w.createElement(Ql.Provider,{value:{location:aa({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Bn.Pop}},N):N}function xj(){let t=Tj(),e=fj(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:s},n):null,null)}const Nj=w.createElement(xj,null);class wj extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement(gr.Provider,{value:this.props.routeContext},w.createElement(wb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jj(t){let{routeContext:e,match:n,children:r}=t,s=w.useContext(Yh);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(gr.Provider,{value:e},r)}function Cj(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let p=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);p>=0||Se(!1),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<o.length;p++){let f=o[p];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(h=p),f.route.id){let{loaderData:d,errors:g}=n,y=f.route.loader&&d[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||y){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((p,f,d)=>{let g,y=!1,N=null,E=null;n&&(g=l&&f.route.id?l[f.route.id]:void 0,N=f.route.errorElement||Nj,c&&(h<0&&d===0?(y=!0,E=null):h===d&&(y=!0,E=f.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,d+1)),_=()=>{let x;return g?x=N:y?x=E:f.route.Component?x=w.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=p,w.createElement(jj,{match:f,routeContext:{outlet:p,matches:b,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?w.createElement(wj,{location:n.location,revalidation:n.revalidation,component:N,error:g,children:_(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):_()},null)}var Eb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Eb||{}),al=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(al||{});function Ej(t){let e=w.useContext(Yh);return e||Se(!1),e}function Sj(t){let e=w.useContext(gj);return e||Se(!1),e}function Ij(t){let e=w.useContext(gr);return e||Se(!1),e}function Sb(t){let e=Ij(),n=e.matches[e.matches.length-1];return n.route.id||Se(!1),n.route.id}function Tj(){var t;let e=w.useContext(wb),n=Sj(al.UseRouteError),r=Sb(al.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function kj(){let{router:t}=Ej(Eb.UseNavigateStable),e=Sb(al.UseNavigateStable),n=w.useRef(!1);return jb(()=>{n.current=!0}),w.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,aa({fromRouteId:e},i)))},[t,e])}function Ib(t){let{to:e,replace:n,state:r,relative:s}=t;Js()||Se(!1);let{future:i,static:o}=w.useContext(pr),{matches:l}=w.useContext(gr),{pathname:c}=Ta(),h=he(),p=Qh(e,Jh(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(p);return w.useEffect(()=>h(JSON.parse(f),{replace:n,state:r,relative:s}),[h,f,s,n,r]),null}function ce(t){Se(!1)}function Rj(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Bn.Pop,navigator:i,static:o=!1,future:l}=t;Js()&&Se(!1);let c=e.replace(/^\/*/,"/"),h=w.useMemo(()=>({basename:c,navigator:i,static:o,future:aa({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=Ks(r));let{pathname:p="/",search:f="",hash:d="",state:g=null,key:y="default"}=r,N=w.useMemo(()=>{let E=Kh(p,c);return E==null?null:{location:{pathname:E,search:f,hash:d,state:g,key:y},navigationType:s}},[c,p,f,d,g,y,s]);return N==null?null:w.createElement(pr.Provider,{value:h},w.createElement(Ql.Provider,{children:n,value:N}))}function Pj(t){let{children:e,location:n}=t;return bj(pd(e),n)}new Promise(()=>{});function pd(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(r,s)=>{if(!w.isValidElement(r))return;let i=[...e,s];if(r.type===w.Fragment){n.push.apply(n,pd(r.props.children,i));return}r.type!==ce&&Se(!1),!r.props.index||!r.props.children||Se(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=pd(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gd(){return gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gd.apply(this,arguments)}function Dj(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Aj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Oj(t,e){return t.button===0&&(!e||e==="_self")&&!Aj(t)}const Mj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Lj="6";try{window.__reactRouterVersion=Lj}catch{}const Fj="startTransition",xp=DN[Fj];function Uj(t){let{basename:e,children:n,future:r,window:s}=t,i=w.useRef();i.current==null&&(i.current=Ww({window:s,v5Compat:!0}));let o=i.current,[l,c]=w.useState({action:o.action,location:o.location}),{v7_startTransition:h}=r||{},p=w.useCallback(f=>{h&&xp?xp(()=>c(f)):c(f)},[c,h]);return w.useLayoutEffect(()=>o.listen(p),[o,p]),w.createElement(Rj,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const Bj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$j=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tb=w.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:h,preventScrollReset:p,unstable_viewTransition:f}=e,d=Dj(e,Mj),{basename:g}=w.useContext(pr),y,N=!1;if(typeof h=="string"&&$j.test(h)&&(y=h,Bj))try{let x=new URL(window.location.href),C=h.startsWith("//")?new URL(x.protocol+h):new URL(h),v=Kh(C.pathname,g);C.origin===x.origin&&v!=null?h=v+C.search+C.hash:N=!0}catch{}let E=vj(h,{relative:s}),b=Vj(h,{replace:o,state:l,target:c,preventScrollReset:p,relative:s,unstable_viewTransition:f});function _(x){r&&r(x),x.defaultPrevented||b(x)}return w.createElement("a",gd({},d,{href:y||E,onClick:N||i?r:_,ref:n,target:c}))});var Np;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Np||(Np={}));var wp;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(wp||(wp={}));function Vj(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,c=he(),h=Ta(),p=Cb(t,{relative:o});return w.useCallback(f=>{if(Oj(f,n)){f.preventDefault();let d=r!==void 0?r:il(h)===il(p);c(t,{replace:d,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:l})}},[h,c,p,r,s,n,t,i,o,l])}var jp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O=function(t,e){if(!t)throw Qs(e)},Qs=function(t){return new Error("Firebase Database ("+kb.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},qj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Xh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,h=c?t[s+2]:0,p=i>>2,f=(i&3)<<4|l>>4;let d=(l&15)<<2|h>>6,g=h&63;c||(g=64,o||(d=64)),r.push(n[p],n[f],n[d],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Rb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||h==null||f==null)throw new zj;const d=i<<2|l>>4;if(r.push(d),h!==64){const g=l<<4&240|h>>2;if(r.push(g),f!==64){const y=h<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Pb=function(t){const e=Rb(t);return Xh.encodeByteArray(e,!0)},ol=function(t){return Pb(t).replace(/\./g,"")},oa=function(t){try{return Xh.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(t){return la(void 0,t)}function la(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Hj(n)||(t[n]=la(t[n],e[n]));return t}function Hj(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj=()=>Gj().__FIREBASE_DEFAULTS__,Jj=()=>{if(typeof process>"u"||typeof jp>"u")return;const t=jp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Qj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&oa(t[1]);return e&&JSON.parse(e)},Zh=()=>{try{return Kj()||Jj()||Qj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Yj=t=>{var e,n;return(n=(e=Zh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Xj=t=>{const e=Yj(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Db=()=>{var t;return(t=Zh())===null||t===void 0?void 0:t.config},Zj=t=>{var e;return(e=Zh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ol(JSON.stringify(n)),ol(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Yl(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pe())}function Ob(){return typeof self=="object"&&self.self===self}function Mb(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function em(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eC(){const t=pe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Lb(){return kb.NODE_ADMIN===!0}function tC(){try{return typeof indexedDB=="object"}catch{return!1}}function nC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="FirebaseError";class Tt extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=rC,Object.setPrototypeOf(this,Tt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hn.prototype.create)}}class hn{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?sC(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Tt(s,l,r)}}function sC(t,e){return t.replace(iC,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const iC=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(t){return JSON.parse(t)}function ke(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=ca(oa(i[0])||""),n=ca(oa(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},aC=function(t){const e=Fb(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},oC=function(t){const e=Fb(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Vr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function ll(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function cl(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function ul(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Cp(i)&&Cp(o)){if(!ul(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Cp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ys(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function xi(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const d=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(d<<1|d>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],l=this.chain_[3],c=this.chain_[4],h,p;for(let f=0;f<80;f++){f<40?f<20?(h=l^i&(o^l),p=1518500249):(h=i^o^l,p=1859775393):f<60?(h=i&o|l&(i|o),p=2400959708):(h=i^o^l,p=3395469782);const d=(s<<5|s>>>27)+h+c+p+r[f]&4294967295;c=l,l=o,o=(i<<30|i>>>2)&4294967295,i=s,s=d}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function tm(t,e){const n=new cC(t,e);return n.subscribe.bind(n)}class cC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");uC(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Zc),s.error===void 0&&(s.error=Zc),s.complete===void 0&&(s.complete=Zc);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uC(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Zc(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V=function(t,e,n,r){let s;if(r<e?s="at least "+e:r>n&&(s=n===0?"none":"no more than "+n),s){const i=t+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+s+".";throw new Error(i)}};function gt(t,e){return`${t} failed: ${e} argument `}function Be(t,e,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(gt(t,e)+"must be a valid function.")}function Ep(t,e,n,r){if(n&&(typeof n!="object"||n===null))throw new Error(gt(t,e)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,O(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Xl=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t){return t&&t._delegate?t._delegate:t}class vt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ut;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mC(e))try{this.getOrInitializeService({instanceIdentifier:wr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=wr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wr){return this.instances.has(e)}getOptions(e=wr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wr){return this.component?this.component.multipleInstances?e:wr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hC(t){return t===wr?void 0:t}function mC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new vd(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm=[];var ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ee||(ee={}));const Ub={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},fC=ee.INFO,pC={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},gC=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=pC[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ys{constructor(e){this.name=e,this._logLevel=fC,this._logHandler=gC,this._userLogHandler=null,rm.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ub[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...e),this._logHandler(this,ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...e),this._logHandler(this,ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...e),this._logHandler(this,ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...e),this._logHandler(this,ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...e),this._logHandler(this,ee.ERROR,...e)}}function vC(t){rm.forEach(e=>{e.setLogLevel(t)})}function _C(t,e){for(const n of rm){let r=null;e&&e.level&&(r=Ub[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(s,i,...o)=>{const l=o.map(c=>{if(c==null)return null;if(typeof c=="string")return c;if(typeof c=="number"||typeof c=="boolean")return c.toString();if(c instanceof Error)return c.message;try{return JSON.stringify(c)}catch{return null}}).filter(c=>c).join(" ");i>=(r??s.logLevel)&&t({level:ee[i].toLowerCase(),message:l,args:o,type:s.name})}}}const bC=(t,e)=>e.some(n=>t instanceof n);let Sp,Ip;function yC(){return Sp||(Sp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xC(){return Ip||(Ip=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Bb=new WeakMap,_d=new WeakMap,$b=new WeakMap,eu=new WeakMap,sm=new WeakMap;function NC(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Xn(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Bb.set(n,t)}).catch(()=>{}),sm.set(e,t),e}function wC(t){if(_d.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});_d.set(t,e)}let bd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _d.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$b.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jC(t){bd=t(bd)}function CC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(tu(this),e,...n);return $b.set(r,e.sort?e.sort():[e]),Xn(r)}:xC().includes(t)?function(...e){return t.apply(tu(this),e),Xn(Bb.get(this))}:function(...e){return Xn(t.apply(tu(this),e))}}function EC(t){return typeof t=="function"?CC(t):(t instanceof IDBTransaction&&wC(t),bC(t,yC())?new Proxy(t,bd):t)}function Xn(t){if(t instanceof IDBRequest)return NC(t);if(eu.has(t))return eu.get(t);const e=EC(t);return e!==t&&(eu.set(t,e),sm.set(e,t)),e}const tu=t=>sm.get(t);function SC(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=Xn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Xn(o.result),c.oldVersion,c.newVersion,Xn(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const IC=["get","getKey","getAll","getAllKeys","count"],TC=["put","add","delete","clear"],nu=new Map;function Tp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(nu.get(e))return nu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=TC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||IC.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),s&&c.done]))[0]};return nu.set(e,i),i}jC(t=>({...t,get:(e,n,r)=>Tp(e,n)||t.get(e,n,r),has:(e,n)=>!!Tp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function RC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dl="@firebase/app",yd="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr=new Ys("@firebase/app"),PC="@firebase/app-compat",DC="@firebase/analytics-compat",AC="@firebase/analytics",OC="@firebase/app-check-compat",MC="@firebase/app-check",LC="@firebase/auth",FC="@firebase/auth-compat",UC="@firebase/database",BC="@firebase/database-compat",$C="@firebase/functions",VC="@firebase/functions-compat",qC="@firebase/installations",zC="@firebase/installations-compat",WC="@firebase/messaging",HC="@firebase/messaging-compat",GC="@firebase/performance",KC="@firebase/performance-compat",JC="@firebase/remote-config",QC="@firebase/remote-config-compat",YC="@firebase/storage",XC="@firebase/storage-compat",ZC="@firebase/firestore",eE="@firebase/vertexai-preview",tE="@firebase/firestore-compat",nE="firebase",rE="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr="[DEFAULT]",sE={[dl]:"fire-core",[PC]:"fire-core-compat",[AC]:"fire-analytics",[DC]:"fire-analytics-compat",[MC]:"fire-app-check",[OC]:"fire-app-check-compat",[LC]:"fire-auth",[FC]:"fire-auth-compat",[UC]:"fire-rtdb",[BC]:"fire-rtdb-compat",[$C]:"fire-fn",[VC]:"fire-fn-compat",[qC]:"fire-iid",[zC]:"fire-iid-compat",[WC]:"fire-fcm",[HC]:"fire-fcm-compat",[GC]:"fire-perf",[KC]:"fire-perf-compat",[JC]:"fire-rc",[QC]:"fire-rc-compat",[YC]:"fire-gcs",[XC]:"fire-gcs-compat",[ZC]:"fire-fst",[tE]:"fire-fst-compat",[eE]:"fire-vertex","fire-js":"fire-js",[nE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir=new Map,Ls=new Map,Fs=new Map;function ua(t,e){try{t.container.addComponent(e)}catch(n){qr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vb(t,e){t.container.addOrOverwriteComponent(e)}function Xt(t){const e=t.name;if(Fs.has(e))return qr.debug(`There were multiple attempts to register component ${e}.`),!1;Fs.set(e,t);for(const n of ir.values())ua(n,t);for(const n of Ls.values())ua(n,t);return!0}function ka(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function iE(t,e,n=sr){ka(t,e).clearInstance(n)}function qb(t){return t.options!==void 0}function Ke(t){return t.settings!==void 0}function aE(){Fs.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Lt=new hn("app","Firebase",oE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zb=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Lt.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE extends zb{constructor(e,n,r,s){const i=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,o={name:r,automaticDataCollectionEnabled:i};if(e.apiKey!==void 0)super(e,o,s);else{const l=e;super(l.options,o,s)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:i},n),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,at(dl,yd,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){om(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Lt.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt=rE;function im(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:sr,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Lt.create("bad-app-name",{appName:String(s)});if(n||(n=Db()),!n)throw Lt.create("no-options");const i=ir.get(s);if(i){if(ul(n,i.options)&&ul(r,i.config))return i;throw Lt.create("duplicate-app",{appName:s})}const o=new nm(s);for(const c of Fs.values())o.addComponent(c);const l=new zb(n,r,o);return ir.set(s,l),l}function cE(t,e){if(Ob())throw Lt.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let n;qb(t)?n=t.options:n=t;const r=Object.assign(Object.assign({},e),n);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const s=h=>[...h].reduce((p,f)=>Math.imul(31,p)+f.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Lt.create("finalization-registry-not-supported",{});const i=""+s(JSON.stringify(r)),o=Ls.get(i);if(o)return o.incRefCount(e.releaseOnDeref),o;const l=new nm(i);for(const h of Fs.values())l.addComponent(h);const c=new lE(n,e,i,l);return Ls.set(i,c),c}function am(t=sr){const e=ir.get(t);if(!e&&t===sr&&Db())return im();if(!e)throw Lt.create("no-app",{appName:t});return e}function uE(){return Array.from(ir.values())}async function om(t){let e=!1;const n=t.name;ir.has(n)?(e=!0,ir.delete(n)):Ls.has(n)&&t.decRefCount()<=0&&(Ls.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function at(t,e,n){var r;let s=(r=sE[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qr.warn(l.join(" "));return}Xt(new vt(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}function Wb(t,e){if(t!==null&&typeof t!="function")throw Lt.create("invalid-log-argument");_C(t,e)}function Hb(t){vC(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="firebase-heartbeat-database",hE=1,da="firebase-heartbeat-store";let ru=null;function Gb(){return ru||(ru=SC(dE,hE,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(da)}catch(n){console.warn(n)}}}}).catch(t=>{throw Lt.create("idb-open",{originalErrorMessage:t.message})})),ru}async function mE(t){try{const n=(await Gb()).transaction(da),r=await n.objectStore(da).get(Kb(t));return await n.done,r}catch(e){if(e instanceof Tt)qr.warn(e.message);else{const n=Lt.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qr.warn(n.message)}}}async function kp(t,e){try{const r=(await Gb()).transaction(da,"readwrite");await r.objectStore(da).put(e,Kb(t)),await r.done}catch(n){if(n instanceof Tt)qr.warn(n.message);else{const r=Lt.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qr.warn(r.message)}}}function Kb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=1024,pE=30*24*60*60*1e3;class gE{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _E(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Rp();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=pE}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Rp(),{heartbeatsToSend:r,unsentEntries:s}=vE(this._heartbeatsCache.heartbeats),i=ol(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Rp(){return new Date().toISOString().substring(0,10)}function vE(t,e=fE){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Pp(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Pp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _E{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tC()?nC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mE(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return kp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return kp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Pp(t){return ol(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(t){Xt(new vt("platform-logger",e=>new kC(e),"PRIVATE")),Xt(new vt("heartbeat",e=>new gE(e),"PRIVATE")),at(dl,yd,t),at(dl,yd,"esm2017"),at("fire-js","")}bE("");const yE=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Tt,SDK_VERSION:Zt,_DEFAULT_ENTRY_NAME:sr,_addComponent:ua,_addOrOverwriteComponent:Vb,_apps:ir,_clearComponents:aE,_components:Fs,_getProvider:ka,_isFirebaseApp:qb,_isFirebaseServerApp:Ke,_registerComponent:Xt,_removeServiceInstance:iE,_serverApps:Ls,deleteApp:om,getApp:am,getApps:uE,initializeApp:im,initializeServerApp:cE,onLog:Wb,registerVersion:at,setLogLevel:Hb},Symbol.toStringTag,{value:"Module"}));var xd=function(t,e){return xd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},xd(t,e)};function ge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");xd(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ue=function(){return ue=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ue.apply(this,arguments)};function Ra(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function S(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(p){try{h(r.next(p))}catch(f){o(f)}}function c(p){try{h(r.throw(p))}catch(f){o(f)}}function h(p){p.done?i(p.value):s(p.value).then(l,c)}h((r=r.apply(t,e||[])).next())})}function I(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(h){return function(p){return c([h,p])}}function c(h){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,h[0]&&(n=0)),n;)try{if(r=1,s&&(i=h[0]&2?s.return:h[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,h[1])).done)return i;switch(s=0,i&&(h=[h[0]&2,i.value]),h[0]){case 0:case 1:i=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,s=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){n.label=h[1];break}if(h[0]===6&&n.label<i[1]){n.label=i[1],i=h;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(h);break}i[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(p){h=[6,p],s=0}finally{r=i=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function Ft(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function Jb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xE=Jb,Qb=new hn("auth","Firebase",Jb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl=new Ys("@firebase/auth");function NE(t,...e){hl.logLevel<=ee.WARN&&hl.warn(`Auth (${Zt}): ${t}`,...e)}function Ro(t,...e){hl.logLevel<=ee.ERROR&&hl.error(`Auth (${Zt}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(t,...e){throw cm(t,...e)}function lm(t,...e){return cm(t,...e)}function Yb(t,e,n){const r=Object.assign(Object.assign({},xE()),{[e]:n});return new hn("auth","Firebase",r).create(e,{appName:t.name})}function Dr(t){return Yb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Qb.create(t,...e)}function Y(t,e,...n){if(!t)throw cm(e,...n)}function _n(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ro(e),new Error(e)}function ml(t,e){t||_n(e)}function wE(){return Dp()==="http:"||Dp()==="https:"}function Dp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wE()||Mb()||"connection"in navigator)?navigator.onLine:!0}function CE(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pa=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,ml(n>e,"Short delay should be less than long delay!"),this.isMobile=Yl()||em()}get(){return jE()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(t,e){ml(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xb=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_n("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_n("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_n("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE=new Pa(3e4,6e4);function Xr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Zr(t,e,n,r,s={}){return Zb(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=Yr(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),Xb.fetch()(ey(t,t.config.apiHost,n,l),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},i))})}async function Zb(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},SE),e);try{const s=new kE(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw mo(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,h]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw mo(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw mo(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw mo(t,"user-disabled",o);const p=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Yb(t,p,h);ha(t,p)}}catch(s){if(s instanceof Tt)throw s;ha(t,"network-request-failed",{message:String(s)})}}async function Zl(t,e,n,r,s={}){const i=await Zr(t,e,n,r,s);return"mfaPendingCredential"in i&&ha(t,"multi-factor-auth-required",{_serverResponse:i}),i}function ey(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?EE(t.config,s):`${t.config.apiScheme}://${s}`}function TE(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}let kE=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(lm(this.auth,"network-request-failed")),IE.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function mo(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=lm(t,e,r);return s.customData._tokenResponse=n,s}function Ap(t){return t!==void 0&&t.enterprise!==void 0}let RE=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return TE(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};async function PE(t,e){return Zr(t,"GET","/v2/recaptchaConfig",Xr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DE(t,e){return Zr(t,"POST","/v1/accounts:delete",e)}async function ty(t,e){return Zr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function AE(t,e=!1){const n=se(t),r=await n.getIdToken(e),s=ny(r);Y(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Di(su(s.auth_time)),issuedAtTime:Di(su(s.iat)),expirationTime:Di(su(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function su(t){return Number(t)*1e3}function ny(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ro("JWT malformed, contained fewer than 3 sections"),null;try{const s=oa(n);return s?JSON.parse(s):(Ro("Failed to decode base64 JWT payload"),null)}catch(s){return Ro("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Op(t){const e=ny(t);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Tt&&OE(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function OE({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ME=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wd=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Di(this.lastLoginAt),this.creationTime=Di(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fl(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Nd(t,ty(n,{idToken:r}));Y(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?ry(i.providerUserInfo):[],l=FE(t.providerData,o),c=t.isAnonymous,h=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),p=c?h:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new wd(i.createdAt,i.lastLoginAt),isAnonymous:p};Object.assign(t,f)}async function LE(t){const e=se(t);await fl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function FE(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function ry(t){return t.map(e=>{var{providerId:n}=e,r=Ra(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UE(t,e){const n=await Zb(t,{},async()=>{const r=Yr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=ey(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",Xb.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function BE(t,e){return Zr(t,"POST","/v2/accounts:revokeToken",Xr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iu=class jd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Op(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Y(e.length!==0,"internal-error");const n=Op(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await UE(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new jd;return r&&(Y(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Y(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Y(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jd,this.toJSON())}_performRefresh(){return _n("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(t,e){Y(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}let pl=class Ni{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Ra(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ME(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new wd(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Nd(this,this.stsTokenManager.getToken(this.auth,e));return Y(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return AE(this,e)}reload(){return LE(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ni(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await fl(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ke(this.auth.app))return Promise.reject(Dr(this.auth));const e=await this.getIdToken();return await Nd(this,DE(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,l,c,h,p;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,N=(l=n.tenantId)!==null&&l!==void 0?l:void 0,E=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,b=(h=n.createdAt)!==null&&h!==void 0?h:void 0,_=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:x,emailVerified:C,isAnonymous:v,providerData:k,stsTokenManager:R}=n;Y(x&&R,e,"internal-error");const P=iu.fromJSON(this.name,R);Y(typeof x=="string",e,"internal-error"),Rn(f,e.name),Rn(d,e.name),Y(typeof C=="boolean",e,"internal-error"),Y(typeof v=="boolean",e,"internal-error"),Rn(g,e.name),Rn(y,e.name),Rn(N,e.name),Rn(E,e.name),Rn(b,e.name),Rn(_,e.name);const L=new Ni({uid:x,auth:e,email:d,emailVerified:C,displayName:f,isAnonymous:v,photoURL:y,phoneNumber:g,tenantId:N,stsTokenManager:P,createdAt:b,lastLoginAt:_});return k&&Array.isArray(k)&&(L.providerData=k.map(D=>Object.assign({},D))),E&&(L._redirectEventId=E),L}static async _fromIdTokenResponse(e,n,r=!1){const s=new iu;s.updateFromServerResponse(n);const i=new Ni({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await fl(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Y(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?ry(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new iu;l.updateFromIdToken(r);const c=new Ni({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new wd(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,h),c}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp=new Map;function Ir(t){ml(t instanceof Function,"Expected a class definition");let e=Mp.get(t);return e?(ml(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Mp.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sy=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}};sy.type="NONE";const Lp=sy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(t,e,n){return`firebase:${t}:${e}:${n}`}let Fp=class Po{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=au(this.userKey,s.apiKey,i),this.fullPersistenceKey=au("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?pl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Po(Ir(Lp),e,r);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=s[0]||Ir(Lp);const o=au(r,e.config.apiKey,e.name);let l=null;for(const h of n)try{const p=await h._get(o);if(p){const f=pl._fromJSON(e,p);h!==i&&(l=f),i=h;break}}catch{}const c=s.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Po(i,e,r):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==i)try{await h._remove(o)}catch{}})),new Po(i,e,r))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($E(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(HE(e))return"Blackberry";if(GE(e))return"Webos";if(VE(e))return"Safari";if((e.includes("chrome/")||qE(e))&&!e.includes("edge/"))return"Chrome";if(WE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function $E(t=pe()){return/firefox\//i.test(t)}function VE(t=pe()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qE(t=pe()){return/crios\//i.test(t)}function zE(t=pe()){return/iemobile/i.test(t)}function WE(t=pe()){return/android/i.test(t)}function HE(t=pe()){return/blackberry/i.test(t)}function GE(t=pe()){return/webos/i.test(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(t,e=[]){let n;switch(t){case"Browser":n=Up(pe());break;case"Worker":n=`${Up(pe())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zt}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let KE=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const c=e(i);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JE(t,e={}){return Zr(t,"GET","/v2/passwordPolicy",Xr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=6;let YE=class{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:QE,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XE=class{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bp(this),this.idTokenSubscription=new Bp(this),this.beforeStateQueue=new KE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ir(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Fp.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ty(this,{idToken:e}),r=await pl._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ke(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await fl(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CE()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ke(this.app))return Promise.reject(Dr(this));const n=e?se(e):null;return n&&Y(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ke(this.app)?Promise.reject(Dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ke(this.app)?Promise.reject(Dr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JE(this),n=new YE(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new hn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await BE(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ir(e)||this._popupRedirectResolver;Y(n,this,"argument-error"),this.redirectPersistenceManager=await Fp.create(this,[Ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iy(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&NE(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}};function Da(t){return se(t)}let Bp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=tm(n=>this.observer=n)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let um={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZE(t){um=t}function eS(t){return um.loadJS(t)}function tS(){return um.recaptchaEnterpriseScript}const nS="recaptcha-enterprise",rS="NO_RECAPTCHA";let sS=class{constructor(e){this.type=nS,this.auth=Da(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,l)=>{PE(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const h=new RE(c);return i.tenantId==null?i._agentRecaptchaConfig=h:i._tenantRecaptchaConfigs[i.tenantId]=h,o(h.siteKey)}}).catch(c=>{l(c)})})}function s(i,o,l){const c=window.grecaptcha;Ap(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(h=>{o(h)}).catch(()=>{o(rS)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(l=>{if(!n&&Ap(window.grecaptcha))s(l,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=tS();c.length!==0&&(c+=l),eS(c).then(()=>{s(l,i,o)}).catch(h=>{o(h)})}}).catch(l=>{o(l)})})}};async function $p(t,e,n,r=!1){const s=new sS(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Cd(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await $p(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await $p(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}function iS(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ir);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aS=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _n("not implemented")}_getIdTokenResponse(e){return _n("not implemented")}_linkToIdToken(e,n){return _n("not implemented")}_getReauthenticationResolver(e){return _n("not implemented")}};async function oS(t,e){return Zr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lS(t,e){return Zl(t,"POST","/v1/accounts:signInWithPassword",Xr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cS(t,e){return Zl(t,"POST","/v1/accounts:signInWithEmailLink",Xr(t,e))}async function uS(t,e){return Zl(t,"POST","/v1/accounts:signInWithEmailLink",Xr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma extends aS{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new ma(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ma(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cd(e,n,"signInWithPassword",lS);case"emailLink":return cS(e,{email:this._email,oobCode:this._password});default:ha(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cd(e,r,"signUpPassword",oS);case"emailLink":return uS(e,{idToken:n,email:this._email,oobCode:this._password});default:ha(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hS(t){const e=ys(xi(t)).link,n=e?ys(xi(e)).deep_link_id:null,r=ys(xi(t)).deep_link_id;return(r?ys(xi(r)).link:null)||r||n||e||t}class dm{constructor(e){var n,r,s,i,o,l;const c=ys(xi(e)),h=(n=c.apiKey)!==null&&n!==void 0?n:null,p=(r=c.oobCode)!==null&&r!==void 0?r:null,f=dS((s=c.mode)!==null&&s!==void 0?s:null);Y(h&&p&&f,"argument-error"),this.apiKey=h,this.operation=f,this.code=p,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=hS(e);try{return new dm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(){this.providerId=Xs.PROVIDER_ID}static credential(e,n){return ma._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=dm.parseLink(n);return Y(r,"argument-error"),ma._fromEmailAndCode(e,r.code,r.tenantId)}}Xs.PROVIDER_ID="password";Xs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mS(t,e){return Zl(t,"POST","/v1/accounts:signUp",Xr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ay=class Ed{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await pl._fromIdTokenResponse(e,r,s),o=Vp(r);return new Ed({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Vp(r);return new Ed({user:e,providerId:s,_tokenResponse:r,operationType:n})}};function Vp(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fS=class Sd extends Tt{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Sd.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Sd(e,n,r,s)}};function pS(t,e,n,r){return n._getIdTokenResponse(t).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?fS._fromErrorAndOperation(t,i,e,r):i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gS(t,e,n=!1){if(Ke(t.app))return Promise.reject(Dr(t));const r="signIn",s=await pS(t,r,e),i=await ay._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function vS(t,e){return gS(Da(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oy(t){const e=Da(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _S(t,e,n){if(Ke(t.app))return Promise.reject(Dr(t));const r=Da(t),o=await Cd(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mS).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&oy(t),c}),l=await ay._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function bS(t,e,n){return Ke(t.app)?Promise.reject(Dr(t)):vS(se(t),Xs.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&oy(t),r})}function yS(t){return se(t).signOut()}new Pa(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Pa(2e3,1e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Pa(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Pa(5e3,15e3);var qp="@firebase/auth",zp="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xS=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wS(t){Xt(new vt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;Y(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iy(t)},h=new XE(r,s,i,c);return iS(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xt(new vt("auth-internal",e=>{const n=Da(e.getProvider("auth").getImmediate());return(r=>new xS(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),at(qp,zp,NS(t)),at(qp,zp,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS=5*60;Zj("authIdTokenMaxAge");function CS(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}ZE({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=lm("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",CS().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wS("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,n){this._delegate=e,this.firebase=n,ua(e,new vt("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),om(this._delegate)))}_getService(e,n=sr){var r;this._delegate.checkDestroyed();const s=this._delegate.container.getProvider(e);return!s.isInitialized()&&((r=s.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&s.initialize(),s.getImmediate({identifier:n})}_removeServiceInstance(e,n=sr){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){ua(this._delegate,e)}_addOrOverwriteComponent(e){Vb(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},Wp=new hn("app-compat","Firebase",SS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(t){const e={},n={__esModule:!0,initializeApp:i,app:s,registerVersion:at,setLogLevel:Hb,onLog:Wb,apps:null,SDK_VERSION:Zt,INTERNAL:{registerComponent:l,removeApp:r,useAsService:c,modularAPIs:yE}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(h){delete e[h]}function s(h){if(h=h||sr,!jt(e,h))throw Wp.create("no-app",{appName:h});return e[h]}s.App=t;function i(h,p={}){const f=im(h,p);if(jt(e,f.name))return e[f.name];const d=new t(f,n);return e[f.name]=d,d}function o(){return Object.keys(e).map(h=>e[h])}function l(h){const p=h.name,f=p.replace("-compat","");if(Xt(h)&&h.type==="PUBLIC"){const d=(g=s())=>{if(typeof g[f]!="function")throw Wp.create("invalid-app-argument",{appName:p});return g[f]()};h.serviceProps!==void 0&&la(d,h.serviceProps),n[f]=d,t.prototype[f]=function(...g){return this._getService.bind(this,p).apply(this,h.multipleInstances?g:[])}}return h.type==="PUBLIC"?n[f]:null}function c(h,p){return p==="serverAuth"?null:p}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(){const t=IS(ES);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:ly,extendNamespace:e,createSubscribe:tm,ErrorFactory:hn,deepExtend:la});function e(n){la(t,n)}return t}const TS=ly();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=new Ys("@firebase/app-compat"),kS="@firebase/app-compat",RS="0.2.35";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(t){at(kS,RS,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(Ob()&&self.firebase!==void 0){Hp.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&Hp.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const ec=TS;PS();var DS="firebase",AS="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ec.registerVersion(DS,AS,"app-compat");var Gp={};const Kp="@firebase/database",Jp="1.0.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cy="";function uy(t){cy=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ke(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ca(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return jt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new OS(e)}}catch{}return new MS},Tr=dy("localStorage"),Id=dy("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=new Ys("@firebase/database"),hy=function(){let t=1;return function(){return t++}}(),my=function(t){const e=dC(t),n=new lC;n.update(e);const r=n.digest();return Xh.encodeByteArray(r)},Aa=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Aa.apply(null,r):typeof r=="object"?e+=ke(r):e+=r,e+=" "}return e};let Ar=null,Qp=!0;const fy=function(t,e){O(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Ss.logLevel=ee.VERBOSE,Ar=Ss.log.bind(Ss),e&&Id.set("logging_enabled",!0)):typeof t=="function"?Ar=t:(Ar=null,Id.remove("logging_enabled"))},Ve=function(...t){if(Qp===!0&&(Qp=!1,Ar===null&&Id.get("logging_enabled")===!0&&fy(!0)),Ar){const e=Aa.apply(null,t);Ar(e)}},Oa=function(t){return function(...e){Ve(t,...e)}},Td=function(...t){const e="FIREBASE INTERNAL ERROR: "+Aa(...t);Ss.error(e)},un=function(...t){const e=`FIREBASE FATAL ERROR: ${Aa(...t)}`;throw Ss.error(e),new Error(e)},et=function(...t){const e="FIREBASE WARNING: "+Aa(...t);Ss.warn(e)},LS=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&et("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},tc=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},FS=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ar="[MIN_NAME]",In="[MAX_NAME]",es=function(t,e){if(t===e)return 0;if(t===ar||e===In)return-1;if(e===ar||t===In)return 1;{const n=Yp(t),r=Yp(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},US=function(t,e){return t===e?0:t<e?-1:1},hi=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ke(e))},hm=function(t){if(typeof t!="object"||t===null)return ke(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=ke(e[r]),n+=":",n+=hm(t[e[r]]);return n+="}",n},py=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function ze(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const gy=function(t){O(!tc(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,l,c;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const h=[];for(c=n;c;c-=1)h.push(o%2?1:0),o=Math.floor(o/2);for(c=e;c;c-=1)h.push(i%2?1:0),i=Math.floor(i/2);h.push(s?1:0),h.reverse();const p=h.join("");let f="";for(c=0;c<64;c+=8){let d=parseInt(p.substr(c,8),2).toString(16);d.length===1&&(d="0"+d),f=f+d}return f.toLowerCase()},BS=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},$S=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function VS(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const qS=new RegExp("^-?(0*)\\d{1,10}$"),zS=-2147483648,WS=2147483647,Yp=function(t){if(qS.test(t)){const e=Number(t);if(e>=zS&&e<=WS)return e}return null},Zs=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw et("Exception was thrown by user callback.",n),e},Math.floor(0))}},HS=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ai=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){et(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ve("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',et(e)}}class Is{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Is.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="5",vy="v",_y="s",by="r",yy="f",xy=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ny="ls",wy="p",kd="ac",jy="websocket",Cy="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n,r,s,i=!1,o="",l=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Tr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Tr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function JS(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Sy(t,e,n){O(typeof e=="string","typeof type must == string"),O(typeof n=="object","typeof params must == object");let r;if(e===jy)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Cy)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);JS(t)&&(n.ns=t.namespace);const s=[];return ze(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(){this.counters_={}}incrementCounter(e,n=1){jt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Wj(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou={},lu={};function fm(t){const e=t.toString();return ou[e]||(ou[e]=new QS),ou[e]}function YS(t,e){const n=t.toString();return lu[n]||(lu[n]=e()),lu[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&Zs(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="start",ZS="close",eI="pLPCommand",tI="pRTLPCB",Iy="id",Ty="pw",ky="ser",nI="cb",rI="seg",sI="ts",iI="d",aI="dframe",Ry=1870,Py=30,oI=Ry-Py,lI=25e3,cI=3e4;class $n{constructor(e,n,r,s,i,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Oa(e),this.stats_=fm(n),this.urlFn=c=>(this.appCheckToken&&(c[kd]=this.appCheckToken),Sy(n,Cy,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new XS(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(cI)),FS(()=>{if(this.isClosed_)return;this.scriptTagHolder=new pm((...i)=>{const[o,l,c,h,p]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Xp)this.id=l,this.password=c;else if(o===ZS)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,l]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[Xp]="t",r[ky]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[nI]=this.scriptTagHolder.uniqueCallbackIdentifier),r[vy]=mm,this.transportSessionId&&(r[_y]=this.transportSessionId),this.lastSessionId&&(r[Ny]=this.lastSessionId),this.applicationId&&(r[wy]=this.applicationId),this.appCheckToken&&(r[kd]=this.appCheckToken),typeof location<"u"&&location.hostname&&xy.test(location.hostname)&&(r[by]=yy);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){$n.forceAllow_=!0}static forceDisallow(){$n.forceDisallow_=!0}static isAvailable(){return $n.forceAllow_?!0:!$n.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!BS()&&!$S()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=ke(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Pb(n),s=py(r,oI);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[aI]="t",r[Iy]=e,r[Ty]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=ke(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class pm{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=hy(),window[eI+this.uniqueCallbackIdentifier]=e,window[tI+this.uniqueCallbackIdentifier]=n,this.myIFrame=pm.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Ve("frame writing exception"),l.stack&&Ve(l.stack),Ve(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ve("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Iy]=this.myID,e[Ty]=this.myPW,e[ky]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Py+r.length<=Ry;){const o=this.pendingSegs.shift();r=r+"&"+rI+s+"="+o.seg+"&"+sI+s+"="+o.ts+"&"+iI+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(lI)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ve("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=16384,dI=45e3;let gl=null;typeof MozWebSocket<"u"?gl=MozWebSocket:typeof WebSocket<"u"&&(gl=WebSocket);class Pt{constructor(e,n,r,s,i,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Oa(this.connId),this.stats_=fm(n),this.connURL=Pt.connectionURL_(n,o,l,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[vy]=mm,typeof location<"u"&&location.hostname&&xy.test(location.hostname)&&(o[by]=yy),n&&(o[_y]=n),r&&(o[Ny]=r),s&&(o[kd]=s),i&&(o[wy]=i),Sy(e,jy,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Tr.set("previous_websocket_failure",!0);try{let r;Lb(),this.mySock=new gl(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Pt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&gl!==null&&!Pt.forceDisallow_}static previouslyFailed(){return Tr.isInMemoryStorage||Tr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Tr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=ca(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(O(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=ke(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=py(n,uI);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(dI))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Pt.responsesRequiredToBeHealthy=2;Pt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[$n,Pt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Pt&&Pt.isAvailable();let r=n&&!Pt.previouslyFailed();if(e.webSocketOnly&&(n||et("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Pt];else{const s=this.transports_=[];for(const i of Us.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);Us.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Us.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=6e4,mI=5e3,fI=10*1024,pI=100*1024,cu="t",Zp="d",gI="s",eg="r",vI="e",tg="o",ng="a",rg="n",sg="p",_I="h";class bI{constructor(e,n,r,s,i,o,l,c,h,p){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=c,this.onKill_=h,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Oa("c:"+this.id+":"),this.transportManager_=new Us(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Ai(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>pI?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>fI?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(cu in e){const n=e[cu];n===ng?this.upgradeIfSecondaryHealthy_():n===eg?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===tg&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=hi("t",e),r=hi("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:sg,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ng,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:rg,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=hi("t",e),r=hi("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=hi(cu,e);if(Zp in e){const r=e[Zp];if(n===_I){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===rg){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===gI?this.onConnectionShutdown_(r):n===eg?this.onReset_(r):n===vI?Td("Server Error: "+r):n===tg?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Td("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),mm!==r&&et("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ai(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(hI))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ai(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(mI))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:sg,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Tr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e){this.allowedEvents_=e,this.listeners_={},O(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){O(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl extends Ay{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Yl()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new vl}getInitialEvent(e){return O(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig=32,ag=768;class te{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Z(){return new te("")}function H(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function or(t){return t.pieces_.length-t.pieceNum_}function re(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new te(t.pieces_,e)}function gm(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function yI(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function fa(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Oy(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new te(e,0)}function fe(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof te)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new te(n,0)}function G(t){return t.pieceNum_>=t.pieces_.length}function st(t,e){const n=H(t),r=H(e);if(n===null)return e;if(n===r)return st(re(t),re(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function xI(t,e){const n=fa(t,0),r=fa(e,0);for(let s=0;s<n.length&&s<r.length;s++){const i=es(n[s],r[s]);if(i!==0)return i}return n.length===r.length?0:n.length<r.length?-1:1}function vm(t,e){if(or(t)!==or(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function At(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(or(t)>or(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class NI{constructor(e,n){this.errorPrefix_=n,this.parts_=fa(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Xl(this.parts_[r]);My(this)}}function wI(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Xl(e),My(t)}function jI(t){const e=t.parts_.pop();t.byteLength_-=Xl(e),t.parts_.length>0&&(t.byteLength_-=1)}function My(t){if(t.byteLength_>ag)throw new Error(t.errorPrefix_+"has a key path longer than "+ag+" bytes ("+t.byteLength_+").");if(t.parts_.length>ig)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ig+") or object contains a cycle "+jr(t))}function jr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m extends Ay{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new _m}getInitialEvent(e){return O(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi=1e3,CI=60*5*1e3,og=30*1e3,EI=1.3,SI=3e4,II="server_kill",lg=3;class Nn extends Dy{constructor(e,n,r,s,i,o,l,c){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=Nn.nextPersistentConnectionId_++,this.log_=Oa("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=mi,this.maxReconnectDelay_=CI,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!Lb())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");_m.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&vl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(ke(i)),O(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new ut,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),O(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),O(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,l=>{const c=l.d,h=l.s;Nn.warnOnListenWarnings_(c,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",l),h!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(h,c))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&jt(e,"w")){const r=Vr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();et(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||oC(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=og)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=aC(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),O(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ke(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Td("Unrecognized action received from server: "+ke(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){O(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=mi,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=mi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>SI&&(this.reconnectDelay_=mi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*EI)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Nn.nextConnectionId_++,i=this.lastSessionId;let o=!1,l=null;const c=function(){l?l.close():(o=!0,r())},h=function(f){O(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:c,sendRequest:h};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,d]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);o?Ve("getToken() completed but was canceled"):(Ve("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=d&&d.token,l=new bI(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,g=>{et(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(II)},i))}catch(f){this.log_("Failed to get token: "+f),o||(this.repoInfo_.nodeAdmin&&et(f),c())}}}interrupt(e){Ve("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ve("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ll(this.interruptReasons_)&&(this.reconnectDelay_=mi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>hm(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new te(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){Ve("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=lg&&(this.reconnectDelay_=og,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ve("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=lg&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+cy.replace(/\./g,"-")]=1,Yl()?e["framework.cordova"]=1:em()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=vl.getInstance().currentlyOnline();return ll(this.interruptReasons_)&&e}}Nn.nextPersistentConnectionId_=0;Nn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new J(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new J(ar,e),s=new J(ar,n);return this.compare(r,s)!==0}minPost(){return J.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fo;class Ly extends nc{static get __EMPTY_NODE(){return fo}static set __EMPTY_NODE(e){fo=e}compare(e,n){return es(e.name,n.name)}isDefinedOn(e){throw Qs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return J.MIN}maxPost(){return new J(In,fo)}makePost(e,n){return O(typeof e=="string","KeyIndex indexValue must always be a string."),new J(e,fo)}toString(){return".key"}}const cn=new Ly;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class $e{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??$e.RED,this.left=s??ht.EMPTY_NODE,this.right=i??ht.EMPTY_NODE}copy(e,n,r,s,i){return new $e(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return ht.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return ht.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}$e.RED=!0;$e.BLACK=!1;class TI{copy(e,n,r,s,i){return this}insert(e,n,r){return new $e(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ht{constructor(e,n=ht.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ht(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,$e.BLACK,null,null))}remove(e){return new ht(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,$e.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new po(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new po(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new po(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new po(this.root_,null,this.comparator_,!0,e)}}ht.EMPTY_NODE=new TI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(t,e){return es(t.name,e.name)}function bm(t,e){return es(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rd;function RI(t){Rd=t}const Fy=function(t){return typeof t=="number"?"number:"+gy(t):"string:"+t},Uy=function(t){if(t.isLeafNode()){const e=t.val();O(typeof e=="string"||typeof e=="number"||typeof e=="object"&&jt(e,".sv"),"Priority must be a string or number.")}else O(t===Rd||t.isEmpty(),"priority of unexpected type.");O(t===Rd||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cg;class Fe{constructor(e,n=Fe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,O(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Uy(this.priorityNode_)}static set __childrenNodeConstructor(e){cg=e}static get __childrenNodeConstructor(){return cg}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Fe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Fe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return G(e)?this:H(e)===".priority"?this.priorityNode_:Fe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Fe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=H(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(O(r!==".priority"||or(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Fe.__childrenNodeConstructor.EMPTY_NODE.updateChild(re(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Fy(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=gy(this.value_):e+=this.value_,this.lazyHash_=my(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Fe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Fe.__childrenNodeConstructor?-1:(O(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=Fe.VALUE_TYPE_ORDER.indexOf(n),i=Fe.VALUE_TYPE_ORDER.indexOf(r);return O(s>=0,"Unknown leaf type: "+n),O(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Fe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let By,$y;function PI(t){By=t}function DI(t){$y=t}class AI extends nc{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?es(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return J.MIN}maxPost(){return new J(In,new Fe("[PRIORITY-POST]",$y))}makePost(e,n){const r=By(e);return new J(n,new Fe("[PRIORITY-POST]",r))}toString(){return".priority"}}const oe=new AI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=Math.log(2);class MI{constructor(e){const n=i=>parseInt(Math.log(i)/OI,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const _l=function(t,e,n,r){t.sort(e);const s=function(c,h){const p=h-c;let f,d;if(p===0)return null;if(p===1)return f=t[c],d=n?n(f):f,new $e(d,f.node,$e.BLACK,null,null);{const g=parseInt(p/2,10)+c,y=s(c,g),N=s(g+1,h);return f=t[g],d=n?n(f):f,new $e(d,f.node,$e.BLACK,y,N)}},i=function(c){let h=null,p=null,f=t.length;const d=function(y,N){const E=f-y,b=f;f-=y;const _=s(E+1,b),x=t[E],C=n?n(x):x;g(new $e(C,x.node,N,null,_))},g=function(y){h?(h.left=y,h=y):(p=y,h=y)};for(let y=0;y<c.count;++y){const N=c.nextBitIsOne(),E=Math.pow(2,c.count-(y+1));N?d(E,$e.BLACK):(d(E,$e.BLACK),d(E,$e.RED))}return p},o=new MI(t.length),l=i(o);return new ht(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uu;const as={};class bn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return O(as&&oe,"ChildrenNode.ts has not been loaded"),uu=uu||new bn({".priority":as},{".priority":oe}),uu}get(e){const n=Vr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ht?n:null}hasIndex(e){return jt(this.indexSet_,e.toString())}addIndex(e,n){O(e!==cn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(J.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let l;s?l=_l(r,e.getCompare()):l=as;const c=e.toString(),h=Object.assign({},this.indexSet_);h[c]=e;const p=Object.assign({},this.indexes_);return p[c]=l,new bn(p,h)}addToIndexes(e,n){const r=cl(this.indexes_,(s,i)=>{const o=Vr(this.indexSet_,i);if(O(o,"Missing index implementation for "+i),s===as)if(o.isDefinedOn(e.node)){const l=[],c=n.getIterator(J.Wrap);let h=c.getNext();for(;h;)h.name!==e.name&&l.push(h),h=c.getNext();return l.push(e),_l(l,o.getCompare())}else return as;else{const l=n.get(e.name);let c=s;return l&&(c=c.remove(new J(e.name,l))),c.insert(e,e.node)}});return new bn(r,this.indexSet_)}removeFromIndexes(e,n){const r=cl(this.indexes_,s=>{if(s===as)return s;{const i=n.get(e.name);return i?s.remove(new J(e.name,i)):s}});return new bn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fi;class ${constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Uy(this.priorityNode_),this.children_.isEmpty()&&O(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return fi||(fi=new $(new ht(bm),null,bn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||fi}updatePriority(e){return this.children_.isEmpty()?this:new $(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?fi:n}}getChild(e){const n=H(e);return n===null?this:this.getImmediateChild(n).getChild(re(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(O(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new J(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?fi:this.priorityNode_;return new $(s,o,i)}}updateChild(e,n){const r=H(e);if(r===null)return n;{O(H(e)!==".priority"||or(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(re(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(oe,(o,l)=>{n[o]=l.val(e),r++,i&&$.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Fy(this.getPriority().val())+":"),this.forEachChild(oe,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":my(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new J(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new J(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new J(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,J.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,J.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ma?-1:0}withIndex(e){if(e===cn||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new $(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===cn||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(oe),s=n.getIterator(oe);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===cn?null:this.indexMap_.get(e.toString())}}$.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class LI extends ${constructor(){super(new ht(bm),$.EMPTY_NODE,bn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return $.EMPTY_NODE}isEmpty(){return!1}}const Ma=new LI;Object.defineProperties(J,{MIN:{value:new J(ar,$.EMPTY_NODE)},MAX:{value:new J(In,Ma)}});Ly.__EMPTY_NODE=$.EMPTY_NODE;Fe.__childrenNodeConstructor=$;RI(Ma);DI(Ma);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=!0;function _e(t,e=null){if(t===null)return $.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),O(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Fe(n,_e(e))}if(!(t instanceof Array)&&FI){const n=[];let r=!1;if(ze(t,(o,l)=>{if(o.substring(0,1)!=="."){const c=_e(l);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new J(o,c)))}}),n.length===0)return $.EMPTY_NODE;const i=_l(n,kI,o=>o.name,bm);if(r){const o=_l(n,oe.getCompare());return new $(i,_e(e),new bn({".priority":o},{".priority":oe}))}else return new $(i,_e(e),bn.Default)}else{let n=$.EMPTY_NODE;return ze(t,(r,s)=>{if(jt(t,r)&&r.substring(0,1)!=="."){const i=_e(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(_e(e))}}PI(_e);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym extends nc{constructor(e){super(),this.indexPath_=e,O(!G(e)&&H(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?es(e.name,n.name):i}makePost(e,n){const r=_e(e),s=$.EMPTY_NODE.updateChild(this.indexPath_,r);return new J(n,s)}maxPost(){const e=$.EMPTY_NODE.updateChild(this.indexPath_,Ma);return new J(In,e)}toString(){return fa(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI extends nc{compare(e,n){const r=e.node.compareTo(n.node);return r===0?es(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return J.MIN}maxPost(){return J.MAX}makePost(e,n){const r=_e(e);return new J(n,r)}toString(){return".value"}}const xm=new UI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(t){return{type:"value",snapshotNode:t}}function Bs(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function pa(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ga(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function BI(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e){this.index_=e}updateChild(e,n,r,s,i,o){O(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(s).equals(r.getChild(s))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(pa(n,l)):O(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(Bs(n,r)):o.trackChildChange(ga(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(oe,(s,i)=>{n.hasChild(s)||r.trackChildChange(pa(s,i))}),n.isLeafNode()||n.forEachChild(oe,(s,i)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(i)||r.trackChildChange(ga(s,i,o))}else r.trackChildChange(Bs(s,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?$.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.indexedFilter_=new Nm(e.getIndex()),this.index_=e.getIndex(),this.startPost_=va.getStartPost_(e),this.endPost_=va.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,i,o){return this.matches(new J(n,r))||(r=$.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,i,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=$.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority($.EMPTY_NODE);const i=this;return n.forEachChild(oe,(o,l)=>{i.matches(new J(o,l))||(s=s.updateImmediateChild(o,$.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new va(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,i,o){return this.rangedFilter_.matches(new J(n,r))||(r=$.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,i,o):this.fullLimitUpdateChild_(e,n,r,i,o)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=$.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=$.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;i.hasNext()&&o<this.limit_;){const l=i.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))s=s.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority($.EMPTY_NODE);let i;this.reverse_?i=s.getReverseIterator(this.index_):i=s.getIterator(this.index_);let o=0;for(;i.hasNext();){const l=i.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:s=s.updateImmediateChild(l.name,$.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,i){let o;if(this.reverse_){const f=this.index_.getCompare();o=(d,g)=>f(g,d)}else o=this.index_.getCompare();const l=e;O(l.numChildren()===this.limit_,"");const c=new J(n,r),h=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),p=this.rangedFilter_.matches(c);if(l.hasChild(n)){const f=l.getImmediateChild(n);let d=s.getChildAfterChild(this.index_,h,this.reverse_);for(;d!=null&&(d.name===n||l.hasChild(d.name));)d=s.getChildAfterChild(this.index_,d,this.reverse_);const g=d==null?1:o(d,c);if(p&&!r.isEmpty()&&g>=0)return i!=null&&i.trackChildChange(ga(n,r,f)),l.updateImmediateChild(n,r);{i!=null&&i.trackChildChange(pa(n,f));const N=l.updateImmediateChild(n,$.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(i!=null&&i.trackChildChange(Bs(d.name,d.node)),N.updateImmediateChild(d.name,d.node)):N}}else return r.isEmpty()?e:p&&o(h,c)>=0?(i!=null&&(i.trackChildChange(pa(h.name,h.node)),i.trackChildChange(Bs(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(h.name,$.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=oe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return O(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return O(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ar}hasEnd(){return this.endSet_}getIndexEndValue(){return O(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return O(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:In}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return O(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===oe}copy(){const e=new rc;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function VI(t){return t.loadsAllData()?new Nm(t.getIndex()):t.hasLimit()?new $I(t):new va(t)}function qI(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function zI(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function Pd(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function WI(t,e,n){let r;return t.index_===cn||n?r=Pd(t,e,n):r=Pd(t,e,In),r.startAfterSet_=!0,r}function Dd(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function HI(t,e,n){let r;return t.index_===cn||n?r=Dd(t,e,n):r=Dd(t,e,ar),r.endBeforeSet_=!0,r}function sc(t,e){const n=t.copy();return n.index_=e,n}function ug(t){const e={};if(t.isDefault())return e;let n;if(t.index_===oe?n="$priority":t.index_===xm?n="$value":t.index_===cn?n="$key":(O(t.index_ instanceof ym,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ke(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=ke(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+ke(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=ke(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+ke(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function dg(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==oe&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl extends Dy{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=Oa("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(O(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=bl.getListenId_(e,r),l={};this.listens_[o]=l;const c=ug(e._queryParams);this.restRequest_(i+".json",c,(h,p)=>{let f=p;if(h===404&&(f=null,h=null),h===null&&this.onDataUpdate_(i,f,!1,r),Vr(this.listens_,o)===l){let d;h?h===401?d="permission_denied":d="rest_error:"+h:d="ok",s(d,null)}})}unlisten(e,n){const r=bl.getListenId_(e,n);delete this.listens_[r]}get(e){const n=ug(e._queryParams),r=e._path.toString(),s=new ut;return this.restRequest_(r+".json",n,(i,o)=>{let l=o;i===404&&(l=null,i=null),i===null?(this.onDataUpdate_(r,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Yr(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let c=null;if(l.status>=200&&l.status<300){try{c=ca(l.responseText)}catch{et("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,c)}else l.status!==401&&l.status!==404&&et("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(){this.rootNode_=$.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(){return{value:null,children:new Map}}function ei(t,e,n){if(G(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=H(e);t.children.has(r)||t.children.set(r,yl());const s=t.children.get(r);e=re(e),ei(s,e,n)}}function Ad(t,e){if(G(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(oe,(r,s)=>{ei(t,new te(r),s)}),Ad(t,e)}}else if(t.children.size>0){const n=H(e);return e=re(e),t.children.has(n)&&Ad(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function Od(t,e,n){t.value!==null?n(e,t.value):KI(t,(r,s)=>{const i=new te(e.toString()+"/"+r);Od(s,i,n)})}function KI(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ze(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg=10*1e3,QI=30*1e3,YI=5*60*1e3;class XI{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new JI(e);const r=hg+(QI-hg)*Math.random();Ai(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;ze(e,(s,i)=>{i>0&&jt(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),Ai(this.reportStats_.bind(this),Math.floor(Math.random()*2*YI))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Gt||(Gt={}));function wm(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function jm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Cm(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Gt.ACK_USER_WRITE,this.source=wm()}operationForChild(e){if(G(this.path)){if(this.affectedTree.value!=null)return O(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new te(e));return new xl(Z(),n,this.revert)}}else return O(H(this.path)===e,"operationForChild called for unrelated child."),new xl(re(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n){this.source=e,this.path=n,this.type=Gt.LISTEN_COMPLETE}operationForChild(e){return G(this.path)?new _a(this.source,Z()):new _a(this.source,re(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Gt.OVERWRITE}operationForChild(e){return G(this.path)?new zr(this.source,Z(),this.snap.getImmediateChild(e)):new zr(this.source,re(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Gt.MERGE}operationForChild(e){if(G(this.path)){const n=this.children.subtree(new te(e));return n.isEmpty()?null:n.value?new zr(this.source,Z(),n.value):new $s(this.source,Z(),n)}else return O(H(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new $s(this.source,re(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(G(e))return this.isFullyInitialized()&&!this.filtered_;const n=H(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function eT(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(BI(o.childName,o.snapshotNode))}),pi(t,s,"child_removed",e,r,n),pi(t,s,"child_added",e,r,n),pi(t,s,"child_moved",i,r,n),pi(t,s,"child_changed",e,r,n),pi(t,s,"value",e,r,n),s}function pi(t,e,n,r,s,i){const o=r.filter(l=>l.type===n);o.sort((l,c)=>nT(t,l,c)),o.forEach(l=>{const c=tT(t,l,i);s.forEach(h=>{h.respondsTo(l.type)&&e.push(h.createEvent(c,t.query_))})})}function tT(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function nT(t,e,n){if(e.childName==null||n.childName==null)throw Qs("Should only compare child_ events.");const r=new J(e.childName,e.snapshotNode),s=new J(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(t,e){return{eventCache:t,serverCache:e}}function Oi(t,e,n,r){return ic(new lr(e,n,r),t.serverCache)}function qy(t,e,n,r){return ic(t.eventCache,new lr(e,n,r))}function Nl(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Wr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let du;const rT=()=>(du||(du=new ht(US)),du);class ie{constructor(e,n=rT()){this.value=e,this.children=n}static fromObject(e){let n=new ie(null);return ze(e,(r,s)=>{n=n.set(new te(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Z(),value:this.value};if(G(e))return null;{const r=H(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(re(e),n);return i!=null?{path:fe(new te(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(G(e))return this;{const n=H(e),r=this.children.get(n);return r!==null?r.subtree(re(e)):new ie(null)}}set(e,n){if(G(e))return new ie(n,this.children);{const r=H(e),i=(this.children.get(r)||new ie(null)).set(re(e),n),o=this.children.insert(r,i);return new ie(this.value,o)}}remove(e){if(G(e))return this.children.isEmpty()?new ie(null):new ie(null,this.children);{const n=H(e),r=this.children.get(n);if(r){const s=r.remove(re(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new ie(null):new ie(this.value,i)}else return this}}get(e){if(G(e))return this.value;{const n=H(e),r=this.children.get(n);return r?r.get(re(e)):null}}setTree(e,n){if(G(e))return n;{const r=H(e),i=(this.children.get(r)||new ie(null)).setTree(re(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new ie(this.value,o)}}fold(e){return this.fold_(Z(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(fe(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Z(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(G(e))return null;{const i=H(e),o=this.children.get(i);return o?o.findOnPath_(re(e),fe(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Z(),n)}foreachOnPath_(e,n,r){if(G(e))return this;{this.value&&r(n,this.value);const s=H(e),i=this.children.get(s);return i?i.foreachOnPath_(re(e),fe(n,s),r):new ie(null)}}foreach(e){this.foreach_(Z(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(fe(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.writeTree_=e}static empty(){return new Qt(new ie(null))}}function Mi(t,e,n){if(G(e))return new Qt(new ie(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=st(s,e);return i=i.updateChild(o,n),new Qt(t.writeTree_.set(s,i))}else{const s=new ie(n),i=t.writeTree_.setTree(e,s);return new Qt(i)}}}function Md(t,e,n){let r=t;return ze(n,(s,i)=>{r=Mi(r,fe(e,s),i)}),r}function mg(t,e){if(G(e))return Qt.empty();{const n=t.writeTree_.setTree(e,new ie(null));return new Qt(n)}}function Ld(t,e){return ts(t,e)!=null}function ts(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(st(n.path,e)):null}function fg(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(oe,(r,s)=>{e.push(new J(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new J(r,s.value))}),e}function Zn(t,e){if(G(e))return t;{const n=ts(t,e);return n!=null?new Qt(new ie(n)):new Qt(t.writeTree_.subtree(e))}}function Fd(t){return t.writeTree_.isEmpty()}function Vs(t,e){return zy(Z(),t.writeTree_,e)}function zy(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(O(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=zy(fe(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(fe(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(t,e){return Ky(e,t)}function sT(t,e,n,r,s){O(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=Mi(t.visibleWrites,e,n)),t.lastWriteId=r}function iT(t,e,n,r){O(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Md(t.visibleWrites,e,n),t.lastWriteId=r}function aT(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function oT(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);O(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&lT(l,r.path)?s=!1:At(r.path,l.path)&&(i=!0)),o--}if(s){if(i)return cT(t),!0;if(r.snap)t.visibleWrites=mg(t.visibleWrites,r.path);else{const l=r.children;ze(l,c=>{t.visibleWrites=mg(t.visibleWrites,fe(r.path,c))})}return!0}else return!1}function lT(t,e){if(t.snap)return At(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&At(fe(t.path,n),e))return!0;return!1}function cT(t){t.visibleWrites=Wy(t.allWrites,uT,Z()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function uT(t){return t.visible}function Wy(t,e,n){let r=Qt.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let l;if(i.snap)At(n,o)?(l=st(n,o),r=Mi(r,l,i.snap)):At(o,n)&&(l=st(o,n),r=Mi(r,Z(),i.snap.getChild(l)));else if(i.children){if(At(n,o))l=st(n,o),r=Md(r,l,i.children);else if(At(o,n))if(l=st(o,n),G(l))r=Md(r,Z(),i.children);else{const c=Vr(i.children,H(l));if(c){const h=c.getChild(re(l));r=Mi(r,Z(),h)}}}else throw Qs("WriteRecord should have .snap or .children")}}return r}function Hy(t,e,n,r,s){if(!r&&!s){const i=ts(t.visibleWrites,e);if(i!=null)return i;{const o=Zn(t.visibleWrites,e);if(Fd(o))return n;if(n==null&&!Ld(o,Z()))return null;{const l=n||$.EMPTY_NODE;return Vs(o,l)}}}else{const i=Zn(t.visibleWrites,e);if(!s&&Fd(i))return n;if(!s&&n==null&&!Ld(i,Z()))return null;{const o=function(h){return(h.visible||s)&&(!r||!~r.indexOf(h.writeId))&&(At(h.path,e)||At(e,h.path))},l=Wy(t.allWrites,o,e),c=n||$.EMPTY_NODE;return Vs(l,c)}}}function dT(t,e,n){let r=$.EMPTY_NODE;const s=ts(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(oe,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=Zn(t.visibleWrites,e);return n.forEachChild(oe,(o,l)=>{const c=Vs(Zn(i,new te(o)),l);r=r.updateImmediateChild(o,c)}),fg(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=Zn(t.visibleWrites,e);return fg(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function hT(t,e,n,r,s){O(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=fe(e,n);if(Ld(t.visibleWrites,i))return null;{const o=Zn(t.visibleWrites,i);return Fd(o)?s.getChild(n):Vs(o,s.getChild(n))}}function mT(t,e,n,r){const s=fe(e,n),i=ts(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=Zn(t.visibleWrites,s);return Vs(o,r.getNode().getImmediateChild(n))}else return null}function fT(t,e){return ts(t.visibleWrites,e)}function pT(t,e,n,r,s,i,o){let l;const c=Zn(t.visibleWrites,e),h=ts(c,Z());if(h!=null)l=h;else if(n!=null)l=Vs(c,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const p=[],f=o.getCompare(),d=i?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let g=d.getNext();for(;g&&p.length<s;)f(g,r)!==0&&p.push(g),g=d.getNext();return p}else return[]}function gT(){return{visibleWrites:Qt.empty(),allWrites:[],lastWriteId:-1}}function wl(t,e,n,r){return Hy(t.writeTree,t.treePath,e,n,r)}function Em(t,e){return dT(t.writeTree,t.treePath,e)}function pg(t,e,n,r){return hT(t.writeTree,t.treePath,e,n,r)}function jl(t,e){return fT(t.writeTree,fe(t.treePath,e))}function vT(t,e,n,r,s,i){return pT(t.writeTree,t.treePath,e,n,r,s,i)}function Sm(t,e,n){return mT(t.writeTree,t.treePath,e,n)}function Gy(t,e){return Ky(fe(t.treePath,e),t.writeTree)}function Ky(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;O(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),O(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,ga(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,pa(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,Bs(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,ga(r,e.snapshotNode,s.oldSnap));else throw Qs("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Jy=new bT;class Im{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new lr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Sm(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Wr(this.viewCache_),i=vT(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(t){return{filter:t}}function xT(t,e){O(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),O(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function NT(t,e,n,r,s){const i=new _T;let o,l;if(n.type===Gt.OVERWRITE){const h=n;h.source.fromUser?o=Ud(t,e,h.path,h.snap,r,s,i):(O(h.source.fromServer,"Unknown source."),l=h.source.tagged||e.serverCache.isFiltered()&&!G(h.path),o=Cl(t,e,h.path,h.snap,r,s,l,i))}else if(n.type===Gt.MERGE){const h=n;h.source.fromUser?o=jT(t,e,h.path,h.children,r,s,i):(O(h.source.fromServer,"Unknown source."),l=h.source.tagged||e.serverCache.isFiltered(),o=Bd(t,e,h.path,h.children,r,s,l,i))}else if(n.type===Gt.ACK_USER_WRITE){const h=n;h.revert?o=ST(t,e,h.path,r,s,i):o=CT(t,e,h.path,h.affectedTree,r,s,i)}else if(n.type===Gt.LISTEN_COMPLETE)o=ET(t,e,n.path,r,i);else throw Qs("Unknown operation type: "+n.type);const c=i.getChanges();return wT(e,o,c),{viewCache:o,changes:c}}function wT(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=Nl(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(Vy(Nl(e)))}}function Qy(t,e,n,r,s,i){const o=e.eventCache;if(jl(r,n)!=null)return e;{let l,c;if(G(n))if(O(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const h=Wr(e),p=h instanceof $?h:$.EMPTY_NODE,f=Em(r,p);l=t.filter.updateFullNode(e.eventCache.getNode(),f,i)}else{const h=wl(r,Wr(e));l=t.filter.updateFullNode(e.eventCache.getNode(),h,i)}else{const h=H(n);if(h===".priority"){O(or(n)===1,"Can't have a priority with additional path components");const p=o.getNode();c=e.serverCache.getNode();const f=pg(r,n,p,c);f!=null?l=t.filter.updatePriority(p,f):l=o.getNode()}else{const p=re(n);let f;if(o.isCompleteForChild(h)){c=e.serverCache.getNode();const d=pg(r,n,o.getNode(),c);d!=null?f=o.getNode().getImmediateChild(h).updateChild(p,d):f=o.getNode().getImmediateChild(h)}else f=Sm(r,h,e.serverCache);f!=null?l=t.filter.updateChild(o.getNode(),h,f,p,s,i):l=o.getNode()}}return Oi(e,l,o.isFullyInitialized()||G(n),t.filter.filtersNodes())}}function Cl(t,e,n,r,s,i,o,l){const c=e.serverCache;let h;const p=o?t.filter:t.filter.getIndexedFilter();if(G(n))h=p.updateFullNode(c.getNode(),r,null);else if(p.filtersNodes()&&!c.isFiltered()){const g=c.getNode().updateChild(n,r);h=p.updateFullNode(c.getNode(),g,null)}else{const g=H(n);if(!c.isCompleteForPath(n)&&or(n)>1)return e;const y=re(n),E=c.getNode().getImmediateChild(g).updateChild(y,r);g===".priority"?h=p.updatePriority(c.getNode(),E):h=p.updateChild(c.getNode(),g,E,y,Jy,null)}const f=qy(e,h,c.isFullyInitialized()||G(n),p.filtersNodes()),d=new Im(s,f,i);return Qy(t,f,n,s,d,l)}function Ud(t,e,n,r,s,i,o){const l=e.eventCache;let c,h;const p=new Im(s,e,i);if(G(n))h=t.filter.updateFullNode(e.eventCache.getNode(),r,o),c=Oi(e,h,!0,t.filter.filtersNodes());else{const f=H(n);if(f===".priority")h=t.filter.updatePriority(e.eventCache.getNode(),r),c=Oi(e,h,l.isFullyInitialized(),l.isFiltered());else{const d=re(n),g=l.getNode().getImmediateChild(f);let y;if(G(d))y=r;else{const N=p.getCompleteChild(f);N!=null?gm(d)===".priority"&&N.getChild(Oy(d)).isEmpty()?y=N:y=N.updateChild(d,r):y=$.EMPTY_NODE}if(g.equals(y))c=e;else{const N=t.filter.updateChild(l.getNode(),f,y,d,p,o);c=Oi(e,N,l.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function gg(t,e){return t.eventCache.isCompleteForChild(e)}function jT(t,e,n,r,s,i,o){let l=e;return r.foreach((c,h)=>{const p=fe(n,c);gg(e,H(p))&&(l=Ud(t,l,p,h,s,i,o))}),r.foreach((c,h)=>{const p=fe(n,c);gg(e,H(p))||(l=Ud(t,l,p,h,s,i,o))}),l}function vg(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function Bd(t,e,n,r,s,i,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,h;G(n)?h=r:h=new ie(null).setTree(n,r);const p=e.serverCache.getNode();return h.children.inorderTraversal((f,d)=>{if(p.hasChild(f)){const g=e.serverCache.getNode().getImmediateChild(f),y=vg(t,g,d);c=Cl(t,c,new te(f),y,s,i,o,l)}}),h.children.inorderTraversal((f,d)=>{const g=!e.serverCache.isCompleteForChild(f)&&d.value===null;if(!p.hasChild(f)&&!g){const y=e.serverCache.getNode().getImmediateChild(f),N=vg(t,y,d);c=Cl(t,c,new te(f),N,s,i,o,l)}}),c}function CT(t,e,n,r,s,i,o){if(jl(s,n)!=null)return e;const l=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(G(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Cl(t,e,n,c.getNode().getChild(n),s,i,l,o);if(G(n)){let h=new ie(null);return c.getNode().forEachChild(cn,(p,f)=>{h=h.set(new te(p),f)}),Bd(t,e,n,h,s,i,l,o)}else return e}else{let h=new ie(null);return r.foreach((p,f)=>{const d=fe(n,p);c.isCompleteForPath(d)&&(h=h.set(p,c.getNode().getChild(d)))}),Bd(t,e,n,h,s,i,l,o)}}function ET(t,e,n,r,s){const i=e.serverCache,o=qy(e,i.getNode(),i.isFullyInitialized()||G(n),i.isFiltered());return Qy(t,o,n,r,Jy,s)}function ST(t,e,n,r,s,i){let o;if(jl(r,n)!=null)return e;{const l=new Im(r,e,s),c=e.eventCache.getNode();let h;if(G(n)||H(n)===".priority"){let p;if(e.serverCache.isFullyInitialized())p=wl(r,Wr(e));else{const f=e.serverCache.getNode();O(f instanceof $,"serverChildren would be complete if leaf node"),p=Em(r,f)}p=p,h=t.filter.updateFullNode(c,p,i)}else{const p=H(n);let f=Sm(r,p,e.serverCache);f==null&&e.serverCache.isCompleteForChild(p)&&(f=c.getImmediateChild(p)),f!=null?h=t.filter.updateChild(c,p,f,re(n),l,i):e.eventCache.getNode().hasChild(p)?h=t.filter.updateChild(c,p,$.EMPTY_NODE,re(n),l,i):h=c,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=wl(r,Wr(e)),o.isLeafNode()&&(h=t.filter.updateFullNode(h,o,i)))}return o=e.serverCache.isFullyInitialized()||jl(r,Z())!=null,Oi(e,h,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new Nm(r.getIndex()),i=VI(r);this.processor_=yT(i);const o=n.serverCache,l=n.eventCache,c=s.updateFullNode($.EMPTY_NODE,o.getNode(),null),h=i.updateFullNode($.EMPTY_NODE,l.getNode(),null),p=new lr(c,o.isFullyInitialized(),s.filtersNodes()),f=new lr(h,l.isFullyInitialized(),i.filtersNodes());this.viewCache_=ic(f,p),this.eventGenerator_=new ZI(this.query_)}get query(){return this.query_}}function TT(t){return t.viewCache_.serverCache.getNode()}function kT(t){return Nl(t.viewCache_)}function RT(t,e){const n=Wr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!G(e)&&!n.getImmediateChild(H(e)).isEmpty())?n.getChild(e):null}function _g(t){return t.eventRegistrations_.length===0}function PT(t,e){t.eventRegistrations_.push(e)}function bg(t,e,n){const r=[];if(n){O(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(i=>{const o=i.createCancelEvent(n,s);o&&r.push(o)})}if(e){let s=[];for(let i=0;i<t.eventRegistrations_.length;++i){const o=t.eventRegistrations_[i];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function yg(t,e,n,r){e.type===Gt.MERGE&&e.source.queryId!==null&&(O(Wr(t.viewCache_),"We should always have a full cache before handling merges"),O(Nl(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=NT(t.processor_,s,e,n,r);return xT(t.processor_,i.viewCache),O(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,Yy(t,i.changes,i.viewCache.eventCache.getNode(),null)}function DT(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(oe,(i,o)=>{r.push(Bs(i,o))}),n.isFullyInitialized()&&r.push(Vy(n.getNode())),Yy(t,r,n.getNode(),e)}function Yy(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return eT(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let El;class Xy{constructor(){this.views=new Map}}function AT(t){O(!El,"__referenceConstructor has already been defined"),El=t}function OT(){return O(El,"Reference.ts has not been loaded"),El}function MT(t){return t.views.size===0}function Tm(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return O(i!=null,"SyncTree gave us an op for an invalid query."),yg(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(yg(o,e,n,r));return i}}function Zy(t,e,n,r,s){const i=e._queryIdentifier,o=t.views.get(i);if(!o){let l=wl(n,s?r:null),c=!1;l?c=!0:r instanceof $?(l=Em(n,r),c=!1):(l=$.EMPTY_NODE,c=!1);const h=ic(new lr(l,c,!1),new lr(r,s,!1));return new IT(e,h)}return o}function LT(t,e,n,r,s,i){const o=Zy(t,e,r,s,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),PT(o,n),DT(o,n)}function FT(t,e,n,r){const s=e._queryIdentifier,i=[];let o=[];const l=cr(t);if(s==="default")for(const[c,h]of t.views.entries())o=o.concat(bg(h,n,r)),_g(h)&&(t.views.delete(c),h.query._queryParams.loadsAllData()||i.push(h.query));else{const c=t.views.get(s);c&&(o=o.concat(bg(c,n,r)),_g(c)&&(t.views.delete(s),c.query._queryParams.loadsAllData()||i.push(c.query)))}return l&&!cr(t)&&i.push(new(OT())(e._repo,e._path)),{removed:i,events:o}}function ex(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function er(t,e){let n=null;for(const r of t.views.values())n=n||RT(r,e);return n}function tx(t,e){if(e._queryParams.loadsAllData())return oc(t);{const r=e._queryIdentifier;return t.views.get(r)}}function nx(t,e){return tx(t,e)!=null}function cr(t){return oc(t)!=null}function oc(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sl;function UT(t){O(!Sl,"__referenceConstructor has already been defined"),Sl=t}function BT(){return O(Sl,"Reference.ts has not been loaded"),Sl}let $T=1;class xg{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ie(null),this.pendingWriteTree_=gT(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function km(t,e,n,r,s){return sT(t.pendingWriteTree_,e,n,r,s),s?ti(t,new zr(wm(),e,n)):[]}function VT(t,e,n,r){iT(t.pendingWriteTree_,e,n,r);const s=ie.fromObject(n);return ti(t,new $s(wm(),e,s))}function Vn(t,e,n=!1){const r=aT(t.pendingWriteTree_,e);if(oT(t.pendingWriteTree_,e)){let i=new ie(null);return r.snap!=null?i=i.set(Z(),!0):ze(r.children,o=>{i=i.set(new te(o),!0)}),ti(t,new xl(r.path,i,n))}else return[]}function La(t,e,n){return ti(t,new zr(jm(),e,n))}function qT(t,e,n){const r=ie.fromObject(n);return ti(t,new $s(jm(),e,r))}function zT(t,e){return ti(t,new _a(jm(),e))}function WT(t,e,n){const r=Rm(t,n);if(r){const s=Pm(r),i=s.path,o=s.queryId,l=st(i,e),c=new _a(Cm(o),l);return Dm(t,i,c)}else return[]}function Il(t,e,n,r,s=!1){const i=e._path,o=t.syncPointTree_.get(i);let l=[];if(o&&(e._queryIdentifier==="default"||nx(o,e))){const c=FT(o,e,n,r);MT(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const h=c.removed;if(l=c.events,!s){const p=h.findIndex(d=>d._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(i,(d,g)=>cr(g));if(p&&!f){const d=t.syncPointTree_.subtree(i);if(!d.isEmpty()){const g=KT(d);for(let y=0;y<g.length;++y){const N=g[y],E=N.query,b=ax(t,N);t.listenProvider_.startListening(Li(E),ba(t,E),b.hashFn,b.onComplete)}}}!f&&h.length>0&&!r&&(p?t.listenProvider_.stopListening(Li(e),null):h.forEach(d=>{const g=t.queryToTagMap.get(cc(d));t.listenProvider_.stopListening(Li(d),g)}))}JT(t,h)}return l}function rx(t,e,n,r){const s=Rm(t,r);if(s!=null){const i=Pm(s),o=i.path,l=i.queryId,c=st(o,e),h=new zr(Cm(l),c,n);return Dm(t,o,h)}else return[]}function HT(t,e,n,r){const s=Rm(t,r);if(s){const i=Pm(s),o=i.path,l=i.queryId,c=st(o,e),h=ie.fromObject(n),p=new $s(Cm(l),c,h);return Dm(t,o,p)}else return[]}function $d(t,e,n,r=!1){const s=e._path;let i=null,o=!1;t.syncPointTree_.foreachOnPath(s,(d,g)=>{const y=st(d,s);i=i||er(g,y),o=o||cr(g)});let l=t.syncPointTree_.get(s);l?(o=o||cr(l),i=i||er(l,Z())):(l=new Xy,t.syncPointTree_=t.syncPointTree_.set(s,l));let c;i!=null?c=!0:(c=!1,i=$.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((g,y)=>{const N=er(y,Z());N&&(i=i.updateImmediateChild(g,N))}));const h=nx(l,e);if(!h&&!e._queryParams.loadsAllData()){const d=cc(e);O(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");const g=QT();t.queryToTagMap.set(d,g),t.tagToQueryMap.set(g,d)}const p=ac(t.pendingWriteTree_,s);let f=LT(l,e,n,p,i,c);if(!h&&!o&&!r){const d=tx(l,e);f=f.concat(YT(t,e,d))}return f}function lc(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,l)=>{const c=st(o,e),h=er(l,c);if(h)return h});return Hy(s,e,i,n,!0)}function GT(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(h,p)=>{const f=st(h,n);r=r||er(p,f)});let s=t.syncPointTree_.get(n);s?r=r||er(s,Z()):(s=new Xy,t.syncPointTree_=t.syncPointTree_.set(n,s));const i=r!=null,o=i?new lr(r,!0,!1):null,l=ac(t.pendingWriteTree_,e._path),c=Zy(s,e,l,i?o.getNode():$.EMPTY_NODE,i);return kT(c)}function ti(t,e){return sx(e,t.syncPointTree_,null,ac(t.pendingWriteTree_,Z()))}function sx(t,e,n,r){if(G(t.path))return ix(t,e,n,r);{const s=e.get(Z());n==null&&s!=null&&(n=er(s,Z()));let i=[];const o=H(t.path),l=t.operationForChild(o),c=e.children.get(o);if(c&&l){const h=n?n.getImmediateChild(o):null,p=Gy(r,o);i=i.concat(sx(l,c,h,p))}return s&&(i=i.concat(Tm(s,t,r,n))),i}}function ix(t,e,n,r){const s=e.get(Z());n==null&&s!=null&&(n=er(s,Z()));let i=[];return e.children.inorderTraversal((o,l)=>{const c=n?n.getImmediateChild(o):null,h=Gy(r,o),p=t.operationForChild(o);p&&(i=i.concat(ix(p,l,c,h)))}),s&&(i=i.concat(Tm(s,t,r,n))),i}function ax(t,e){const n=e.query,r=ba(t,n);return{hashFn:()=>(TT(e)||$.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?WT(t,n._path,r):zT(t,n._path);{const i=VS(s,n);return Il(t,n,null,i)}}}}function ba(t,e){const n=cc(e);return t.queryToTagMap.get(n)}function cc(t){return t._path.toString()+"$"+t._queryIdentifier}function Rm(t,e){return t.tagToQueryMap.get(e)}function Pm(t){const e=t.indexOf("$");return O(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new te(t.substr(0,e))}}function Dm(t,e,n){const r=t.syncPointTree_.get(e);O(r,"Missing sync point for query tag that we're tracking");const s=ac(t.pendingWriteTree_,e);return Tm(r,n,s,null)}function KT(t){return t.fold((e,n,r)=>{if(n&&cr(n))return[oc(n)];{let s=[];return n&&(s=ex(n)),ze(r,(i,o)=>{s=s.concat(o)}),s}})}function Li(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(BT())(t._repo,t._path):t}function JT(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=cc(r),i=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(i)}}}function QT(){return $T++}function YT(t,e,n){const r=e._path,s=ba(t,e),i=ax(t,n),o=t.listenProvider_.startListening(Li(e),s,i.hashFn,i.onComplete),l=t.syncPointTree_.subtree(r);if(s)O(!cr(l.value),"If we're adding a query, it shouldn't be shadowed");else{const c=l.fold((h,p,f)=>{if(!G(h)&&p&&cr(p))return[oc(p).query];{let d=[];return p&&(d=d.concat(ex(p).map(g=>g.query))),ze(f,(g,y)=>{d=d.concat(y)}),d}});for(let h=0;h<c.length;++h){const p=c[h];t.listenProvider_.stopListening(Li(p),ba(t,p))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Am(n)}node(){return this.node_}}class Om{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=fe(this.path_,e);return new Om(this.syncTree_,n)}node(){return lc(this.syncTree_,this.path_)}}const XT=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Ng=function(t,e,n){if(!t||typeof t!="object")return t;if(O(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return ZT(t[".sv"],e,n);if(typeof t[".sv"]=="object")return ek(t[".sv"],e);O(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},ZT=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:O(!1,"Unexpected server value: "+t)}},ek=function(t,e,n){t.hasOwnProperty("increment")||O(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&O(!1,"Unexpected increment value: "+r);const s=e.node();if(O(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},ox=function(t,e,n,r){return Lm(e,new Om(n,t),r)},Mm=function(t,e,n){return Lm(t,new Am(e),n)};function Lm(t,e,n){const r=t.getPriority().val(),s=Ng(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,l=Ng(o.getValue(),e,n);return l!==o.getValue()||s!==o.getPriority().val()?new Fe(l,_e(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new Fe(s))),o.forEachChild(oe,(l,c)=>{const h=Lm(c,e.getImmediateChild(l),n);h!==c&&(i=i.updateImmediateChild(l,h))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function uc(t,e){let n=e instanceof te?e:new te(e),r=t,s=H(n);for(;s!==null;){const i=Vr(r.node.children,s)||{children:{},childCount:0};r=new Fm(s,r,i),n=re(n),s=H(n)}return r}function ns(t){return t.node.value}function Um(t,e){t.node.value=e,Vd(t)}function lx(t){return t.node.childCount>0}function tk(t){return ns(t)===void 0&&!lx(t)}function dc(t,e){ze(t.node.children,(n,r)=>{e(new Fm(n,t,r))})}function cx(t,e,n,r){n&&!r&&e(t),dc(t,s=>{cx(s,e,!0,r)}),n&&r&&e(t)}function nk(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Fa(t){return new te(t.parent===null?t.name:Fa(t.parent)+"/"+t.name)}function Vd(t){t.parent!==null&&rk(t.parent,t.name,t)}function rk(t,e,n){const r=tk(n),s=jt(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,Vd(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Vd(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk=/[\[\].#$\/\u0000-\u001F\u007F]/,ik=/[\[\].#$\u0000-\u001F\u007F]/,hu=10*1024*1024,hc=function(t){return typeof t=="string"&&t.length!==0&&!sk.test(t)},ux=function(t){return typeof t=="string"&&t.length!==0&&!ik.test(t)},ak=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ux(t)},ya=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!tc(t)||t&&typeof t=="object"&&jt(t,".sv")},dn=function(t,e,n,r){r&&e===void 0||Ua(gt(t,"value"),e,n)},Ua=function(t,e,n){const r=n instanceof te?new NI(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+jr(r));if(typeof e=="function")throw new Error(t+"contains a function "+jr(r)+" with contents = "+e.toString());if(tc(e))throw new Error(t+"contains "+e.toString()+" "+jr(r));if(typeof e=="string"&&e.length>hu/3&&Xl(e)>hu)throw new Error(t+"contains a string greater than "+hu+" utf8 bytes "+jr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(ze(e,(o,l)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!hc(o)))throw new Error(t+" contains an invalid key ("+o+") "+jr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);wI(r,o),Ua(t,l,r),jI(r)}),s&&i)throw new Error(t+' contains ".value" child '+jr(r)+" in addition to actual children.")}},ok=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const i=fa(r);for(let o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!hc(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(xI);let s=null;for(n=0;n<e.length;n++){if(r=e[n],s!==null&&At(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},dx=function(t,e,n,r){const s=gt(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const i=[];ze(e,(o,l)=>{const c=new te(o);if(Ua(s,l,fe(n,c)),gm(c)===".priority"&&!ya(l))throw new Error(s+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(c)}),ok(s,i)},Bm=function(t,e,n){if(tc(e))throw new Error(gt(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ya(e))throw new Error(gt(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},Ba=function(t,e,n,r){if(n!==void 0&&!hc(n))throw new Error(gt(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},xa=function(t,e,n,r){if(!ux(n))throw new Error(gt(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},lk=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),xa(t,e,n)},Ot=function(t,e){if(H(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},hx=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!hc(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!ak(n))throw new Error(gt(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function mc(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!vm(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function mx(t,e,n){mc(t,n),fx(t,r=>vm(r,e))}function Ct(t,e,n){mc(t,n),fx(t,r=>At(r,e)||At(e,r))}function fx(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(uk(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function uk(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Ar&&Ve("event: "+n.toString()),Zs(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="repo_interrupt",dk=25;class hk{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ck,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=yl(),this.transactionQueueTree_=new Fm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function mk(t,e,n){if(t.stats_=fm(t.repoInfo_),t.forceRestClient_||HS())t.server_=new bl(t.repoInfo_,(r,s,i,o)=>{wg(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>jg(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ke(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Nn(t.repoInfo_,e,(r,s,i,o)=>{wg(t,r,s,i,o)},r=>{jg(t,r)},r=>{fk(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=YS(t.repoInfo_,()=>new XI(t.stats_,t.server_)),t.infoData_=new GI,t.infoSyncTree_=new xg({startListening:(r,s,i,o)=>{let l=[];const c=t.infoData_.getNode(r._path);return c.isEmpty()||(l=La(t.infoSyncTree_,r._path,c),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),$m(t,"connected",!1),t.serverSyncTree_=new xg({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(l,c)=>{const h=o(l,c);Ct(t.eventQueue_,r._path,h)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function gx(t){const n=t.infoData_.getNode(new te(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function $a(t){return XT({timestamp:gx(t)})}function wg(t,e,n,r,s){t.dataUpdateCount++;const i=new te(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const c=cl(n,h=>_e(h));o=HT(t.serverSyncTree_,i,c,s)}else{const c=_e(n);o=rx(t.serverSyncTree_,i,c,s)}else if(r){const c=cl(n,h=>_e(h));o=qT(t.serverSyncTree_,i,c)}else{const c=_e(n);o=La(t.serverSyncTree_,i,c)}let l=i;o.length>0&&(l=qs(t,i)),Ct(t.eventQueue_,l,o)}function jg(t,e){$m(t,"connected",e),e===!1&&vk(t)}function fk(t,e){ze(e,(n,r)=>{$m(t,n,r)})}function $m(t,e,n){const r=new te("/.info/"+e),s=_e(n);t.infoData_.updateSnapshot(r,s);const i=La(t.infoSyncTree_,r,s);Ct(t.eventQueue_,r,i)}function fc(t){return t.nextWriteId_++}function pk(t,e,n){const r=GT(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(s=>{const i=_e(s).withIndex(e._queryParams.getIndex());$d(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=La(t.serverSyncTree_,e._path,i);else{const l=ba(t.serverSyncTree_,e);o=rx(t.serverSyncTree_,e._path,i,l)}return Ct(t.eventQueue_,e._path,o),Il(t.serverSyncTree_,e,n,null,!0),i},s=>(ni(t,"get for query "+ke(e)+" failed: "+s),Promise.reject(new Error(s))))}function Vm(t,e,n,r,s){ni(t,"set",{path:e.toString(),value:n,priority:r});const i=$a(t),o=_e(n,r),l=lc(t.serverSyncTree_,e),c=Mm(o,l,i),h=fc(t),p=km(t.serverSyncTree_,e,c,h,!0);mc(t.eventQueue_,p),t.server_.put(e.toString(),o.val(!0),(d,g)=>{const y=d==="ok";y||et("set at "+e+" failed: "+d);const N=Vn(t.serverSyncTree_,h,!y);Ct(t.eventQueue_,e,N),ur(t,s,d,g)});const f=zm(t,e);qs(t,f),Ct(t.eventQueue_,f,[])}function gk(t,e,n,r){ni(t,"update",{path:e.toString(),value:n});let s=!0;const i=$a(t),o={};if(ze(n,(l,c)=>{s=!1,o[l]=ox(fe(e,l),_e(c),t.serverSyncTree_,i)}),s)Ve("update() called with empty data.  Don't do anything."),ur(t,r,"ok",void 0);else{const l=fc(t),c=VT(t.serverSyncTree_,e,o,l);mc(t.eventQueue_,c),t.server_.merge(e.toString(),n,(h,p)=>{const f=h==="ok";f||et("update at "+e+" failed: "+h);const d=Vn(t.serverSyncTree_,l,!f),g=d.length>0?qs(t,e):e;Ct(t.eventQueue_,g,d),ur(t,r,h,p)}),ze(n,h=>{const p=zm(t,fe(e,h));qs(t,p)}),Ct(t.eventQueue_,e,[])}}function vk(t){ni(t,"onDisconnectEvents");const e=$a(t),n=yl();Od(t.onDisconnect_,Z(),(s,i)=>{const o=ox(s,i,t.serverSyncTree_,e);ei(n,s,o)});let r=[];Od(n,Z(),(s,i)=>{r=r.concat(La(t.serverSyncTree_,s,i));const o=zm(t,s);qs(t,o)}),t.onDisconnect_=yl(),Ct(t.eventQueue_,Z(),r)}function _k(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,s)=>{r==="ok"&&Ad(t.onDisconnect_,e),ur(t,n,r,s)})}function Cg(t,e,n,r){const s=_e(n);t.server_.onDisconnectPut(e.toString(),s.val(!0),(i,o)=>{i==="ok"&&ei(t.onDisconnect_,e,s),ur(t,r,i,o)})}function bk(t,e,n,r,s){const i=_e(n,r);t.server_.onDisconnectPut(e.toString(),i.val(!0),(o,l)=>{o==="ok"&&ei(t.onDisconnect_,e,i),ur(t,s,o,l)})}function yk(t,e,n,r){if(ll(n)){Ve("onDisconnect().update() called with empty data.  Don't do anything."),ur(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(s,i)=>{s==="ok"&&ze(n,(o,l)=>{const c=_e(l);ei(t.onDisconnect_,fe(e,o),c)}),ur(t,r,s,i)})}function xk(t,e,n){let r;H(e._path)===".info"?r=$d(t.infoSyncTree_,e,n):r=$d(t.serverSyncTree_,e,n),mx(t.eventQueue_,e._path,r)}function qd(t,e,n){let r;H(e._path)===".info"?r=Il(t.infoSyncTree_,e,n):r=Il(t.serverSyncTree_,e,n),mx(t.eventQueue_,e._path,r)}function vx(t){t.persistentConnection_&&t.persistentConnection_.interrupt(px)}function Nk(t){t.persistentConnection_&&t.persistentConnection_.resume(px)}function ni(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ve(n,...e)}function ur(t,e,n,r){e&&Zs(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let i=s;r&&(i+=": "+r);const o=new Error(i);o.code=s,e(o)}})}function wk(t,e,n,r,s,i){ni(t,"transaction on "+e);const o={path:e,update:n,onComplete:r,status:null,order:hy(),applyLocally:i,retryCount:0,unwatcher:s,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=qm(t,e,void 0);o.currentInputSnapshot=l;const c=o.update(l.val());if(c===void 0)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{Ua("transaction failed: Data returned ",c,o.path),o.status=0;const h=uc(t.transactionQueueTree_,e),p=ns(h)||[];p.push(o),Um(h,p);let f;typeof c=="object"&&c!==null&&jt(c,".priority")?(f=Vr(c,".priority"),O(ya(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(lc(t.serverSyncTree_,e)||$.EMPTY_NODE).getPriority().val();const d=$a(t),g=_e(c,f),y=Mm(g,l,d);o.currentOutputSnapshotRaw=g,o.currentOutputSnapshotResolved=y,o.currentWriteId=fc(t);const N=km(t.serverSyncTree_,e,y,o.currentWriteId,o.applyLocally);Ct(t.eventQueue_,e,N),pc(t,t.transactionQueueTree_)}}function qm(t,e,n){return lc(t.serverSyncTree_,e,n)||$.EMPTY_NODE}function pc(t,e=t.transactionQueueTree_){if(e||gc(t,e),ns(e)){const n=bx(t,e);O(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&jk(t,Fa(e),n)}else lx(e)&&dc(e,n=>{pc(t,n)})}function jk(t,e,n){const r=n.map(h=>h.currentWriteId),s=qm(t,e,r);let i=s;const o=s.hash();for(let h=0;h<n.length;h++){const p=n[h];O(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const f=st(e,p.path);i=i.updateChild(f,p.currentOutputSnapshotRaw)}const l=i.val(!0),c=e;t.server_.put(c.toString(),l,h=>{ni(t,"transaction put response",{path:c.toString(),status:h});let p=[];if(h==="ok"){const f=[];for(let d=0;d<n.length;d++)n[d].status=2,p=p.concat(Vn(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&f.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();gc(t,uc(t.transactionQueueTree_,e)),pc(t,t.transactionQueueTree_),Ct(t.eventQueue_,e,p);for(let d=0;d<f.length;d++)Zs(f[d])}else{if(h==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{et("transaction at "+c.toString()+" failed: "+h);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=h}qs(t,e)}},o)}function qs(t,e){const n=_x(t,e),r=Fa(n),s=bx(t,n);return Ck(t,s,r),r}function Ck(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const c=e[l],h=st(n,c.path);let p=!1,f;if(O(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)p=!0,f=c.abortReason,s=s.concat(Vn(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=dk)p=!0,f="maxretry",s=s.concat(Vn(t.serverSyncTree_,c.currentWriteId,!0));else{const d=qm(t,c.path,o);c.currentInputSnapshot=d;const g=e[l].update(d.val());if(g!==void 0){Ua("transaction failed: Data returned ",g,c.path);let y=_e(g);typeof g=="object"&&g!=null&&jt(g,".priority")||(y=y.updatePriority(d.getPriority()));const E=c.currentWriteId,b=$a(t),_=Mm(y,d,b);c.currentOutputSnapshotRaw=y,c.currentOutputSnapshotResolved=_,c.currentWriteId=fc(t),o.splice(o.indexOf(E),1),s=s.concat(km(t.serverSyncTree_,c.path,_,c.currentWriteId,c.applyLocally)),s=s.concat(Vn(t.serverSyncTree_,E,!0))}else p=!0,f="nodata",s=s.concat(Vn(t.serverSyncTree_,c.currentWriteId,!0))}Ct(t.eventQueue_,n,s),s=[],p&&(e[l].status=2,function(d){setTimeout(d,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(f==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(f),!1,null))))}gc(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)Zs(r[l]);pc(t,t.transactionQueueTree_)}function _x(t,e){let n,r=t.transactionQueueTree_;for(n=H(e);n!==null&&ns(r)===void 0;)r=uc(r,n),e=re(e),n=H(e);return r}function bx(t,e){const n=[];return yx(t,e,n),n.sort((r,s)=>r.order-s.order),n}function yx(t,e,n){const r=ns(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);dc(e,s=>{yx(t,s,n)})}function gc(t,e){const n=ns(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,Um(e,n.length>0?n:void 0)}dc(e,r=>{gc(t,r)})}function zm(t,e){const n=Fa(_x(t,e)),r=uc(t.transactionQueueTree_,e);return nk(r,s=>{mu(t,s)}),mu(t,r),cx(r,s=>{mu(t,s)}),n}function mu(t,e){const n=ns(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(O(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(O(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(Vn(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?Um(e,void 0):n.length=i+1,Ct(t.eventQueue_,Fa(e),s);for(let o=0;o<r.length;o++)Zs(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function Sk(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):et(`Invalid query segment '${n}' in query '${t}'`)}return e}const zd=function(t,e){const n=Ik(t),r=n.namespace;n.domain==="firebase.com"&&un(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&un("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||LS();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Ey(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new te(n.pathString)}},Ik=function(t){let e="",n="",r="",s="",i="",o=!0,l="https",c=443;if(typeof t=="string"){let h=t.indexOf("//");h>=0&&(l=t.substring(0,h-1),t=t.substring(h+2));let p=t.indexOf("/");p===-1&&(p=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(p,f)),p<f&&(s=Ek(t.substring(p,f)));const d=Sk(t.substring(Math.min(t.length,f)));h=e.indexOf(":"),h>=0?(o=l==="https"||l==="wss",c=parseInt(e.substring(h+1),10)):h=e.length;const g=e.slice(0,h);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const y=e.indexOf(".");r=e.substring(0,y).toLowerCase(),n=e.substring(y+1),i=r}"ns"in d&&(i=d.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:o,scheme:l,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Tk=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let s;const i=new Array(8);for(s=7;s>=0;s--)i[s]=Eg.charAt(n%64),n=Math.floor(n/64);O(n===0,"Cannot push at time == 0");let o=i.join("");if(r){for(s=11;s>=0&&e[s]===63;s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)o+=Eg.charAt(e[s]);return O(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ke(this.snapshot.exportVal())}}class Nx{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return O(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kk=class{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new ut;return _k(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Ot("OnDisconnect.remove",this._path);const e=new ut;return Cg(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Ot("OnDisconnect.set",this._path),dn("OnDisconnect.set",e,this._path,!1);const n=new ut;return Cg(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){Ot("OnDisconnect.setWithPriority",this._path),dn("OnDisconnect.setWithPriority",e,this._path,!1),Bm("OnDisconnect.setWithPriority",n);const r=new ut;return bk(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){Ot("OnDisconnect.update",this._path),dx("OnDisconnect.update",e,this._path);const n=new ut;return yk(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return G(this._path)?null:gm(this._path)}get ref(){return new $t(this._repo,this._path)}get _queryIdentifier(){const e=dg(this._queryParams),n=hm(e);return n==="{}"?"default":n}get _queryObject(){return dg(this._queryParams)}isEqual(e){if(e=se(e),!(e instanceof _t))return!1;const n=this._repo===e._repo,r=vm(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+yI(this._path)}}function vc(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function vr(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===cn){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",s="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==ar)throw new Error(r);if(typeof e!="string")throw new Error(s)}if(t.hasEnd()){if(t.getIndexEndName()!==In)throw new Error(r);if(typeof n!="string")throw new Error(s)}}else if(t.getIndex()===oe){if(e!=null&&!ya(e)||n!=null&&!ya(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(O(t.getIndex()instanceof ym||t.getIndex()===xm,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function _c(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class $t extends _t{constructor(e,n){super(e,n,new rc,!1)}get parent(){const e=Oy(this._path);return e===null?null:new $t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}let bc=class Wd{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new te(e),r=Hr(this.ref,e);return new Wd(this._node.getChild(n),r,oe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new Wd(s,Hr(this.ref,r),oe)))}hasChild(e){const n=new te(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function wx(t,e){return t=se(t),t._checkNotDeleted("ref"),e!==void 0?Hr(t._root,e):t._root}function Sg(t,e){t=se(t),t._checkNotDeleted("refFromURL");const n=zd(e,t._repo.repoInfo_.nodeAdmin);hx("refFromURL",n);const r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&un("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),wx(t,n.path.toString())}function Hr(t,e){return t=se(t),H(t._path)===null?lk("child","path",e):xa("child","path",e),new $t(t._repo,fe(t._path,e))}function Rk(t,e){t=se(t),Ot("push",t._path),dn("push",e,t._path,!0);const n=gx(t._repo),r=Tk(n),s=Hr(t,r),i=Hr(t,r);let o;return e!=null?o=Hm(i,e).then(()=>i):o=Promise.resolve(i),s.then=o.then.bind(o),s.catch=o.then.bind(o,void 0),s}function Pk(t){return Ot("remove",t._path),Hm(t,null)}function Hm(t,e){t=se(t),Ot("set",t._path),dn("set",e,t._path,!1);const n=new ut;return Vm(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Dk(t,e){t=se(t),Ot("setPriority",t._path),Bm("setPriority",e);const n=new ut;return Vm(t._repo,fe(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}function Ak(t,e,n){if(Ot("setWithPriority",t._path),dn("setWithPriority",e,t._path,!1),Bm("setWithPriority",n),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";const r=new ut;return Vm(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}function Ok(t,e){dx("update",e,t._path);const n=new ut;return gk(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Mk(t){t=se(t);const e=new Wm(()=>{}),n=new Va(e);return pk(t._repo,t,n).then(r=>new bc(r,new $t(t._repo,t._path),t._queryParams.getIndex()))}class Va{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new xx("value",this,new bc(e.snapshotNode,new $t(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Nx(this,e,n):null}matches(e){return e instanceof Va?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class yc{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Nx(this,e,n):null}createEvent(e,n){O(e.childName!=null,"Child events should have a childName.");const r=Hr(new $t(n._repo,n._path),e.childName),s=n._queryParams.getIndex();return new xx(e.type,this,new bc(e.snapshotNode,r,s),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof yc?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function qa(t,e,n,r,s){let i;if(typeof r=="object"&&(i=void 0,s=r),typeof r=="function"&&(i=r),s&&s.onlyOnce){const c=n,h=(p,f)=>{qd(t._repo,t,l),c(p,f)};h.userCallback=n.userCallback,h.context=n.context,n=h}const o=new Wm(n,i||void 0),l=e==="value"?new Va(o):new yc(e,o);return xk(t._repo,t,l),()=>qd(t._repo,t,l)}function Hd(t,e,n,r){return qa(t,"value",e,n,r)}function Ig(t,e,n,r){return qa(t,"child_added",e,n,r)}function Tg(t,e,n,r){return qa(t,"child_changed",e,n,r)}function kg(t,e,n,r){return qa(t,"child_moved",e,n,r)}function Rg(t,e,n,r){return qa(t,"child_removed",e,n,r)}function Pg(t,e,n){let r=null;const s=n?new Wm(n):null;e==="value"?r=new Va(s):e&&(r=new yc(e,s)),qd(t._repo,t,r)}class en{}class jx extends en{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){dn("endAt",this._value,e._path,!0);const n=Dd(e._queryParams,this._value,this._key);if(_c(n),vr(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new _t(e._repo,e._path,n,e._orderByCalled)}}function Lk(t,e){return Ba("endAt","key",e),new jx(t,e)}class Fk extends en{constructor(e,n){super(),this._value=e,this._key=n,this.type="endBefore"}_apply(e){dn("endBefore",this._value,e._path,!1);const n=HI(e._queryParams,this._value,this._key);if(_c(n),vr(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new _t(e._repo,e._path,n,e._orderByCalled)}}function Uk(t,e){return Ba("endBefore","key",e),new Fk(t,e)}class Cx extends en{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){dn("startAt",this._value,e._path,!0);const n=Pd(e._queryParams,this._value,this._key);if(_c(n),vr(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new _t(e._repo,e._path,n,e._orderByCalled)}}function Bk(t=null,e){return Ba("startAt","key",e),new Cx(t,e)}class $k extends en{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAfter"}_apply(e){dn("startAfter",this._value,e._path,!1);const n=WI(e._queryParams,this._value,this._key);if(_c(n),vr(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new _t(e._repo,e._path,n,e._orderByCalled)}}function Vk(t,e){return Ba("startAfter","key",e),new $k(t,e)}class qk extends en{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new _t(e._repo,e._path,qI(e._queryParams,this._limit),e._orderByCalled)}}function zk(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new qk(t)}class Wk extends en{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new _t(e._repo,e._path,zI(e._queryParams,this._limit),e._orderByCalled)}}function Hk(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Wk(t)}class Gk extends en{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){vc(e,"orderByChild");const n=new te(this._path);if(G(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new ym(n),s=sc(e._queryParams,r);return vr(s),new _t(e._repo,e._path,s,!0)}}function Kk(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return xa("orderByChild","path",t),new Gk(t)}class Jk extends en{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){vc(e,"orderByKey");const n=sc(e._queryParams,cn);return vr(n),new _t(e._repo,e._path,n,!0)}}function Qk(){return new Jk}class Yk extends en{constructor(){super(...arguments),this.type="orderByPriority"}_apply(e){vc(e,"orderByPriority");const n=sc(e._queryParams,oe);return vr(n),new _t(e._repo,e._path,n,!0)}}function Xk(){return new Yk}class Zk extends en{constructor(){super(...arguments),this.type="orderByValue"}_apply(e){vc(e,"orderByValue");const n=sc(e._queryParams,xm);return vr(n),new _t(e._repo,e._path,n,!0)}}function e1(){return new Zk}class t1 extends en{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(dn("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new jx(this._value,this._key)._apply(new Cx(this._value,this._key)._apply(e))}}function n1(t,e){return Ba("equalTo","key",e),new t1(t,e)}function qt(t,...e){let n=se(t);for(const r of e)n=r._apply(n);return n}AT($t);UT($t);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="FIREBASE_DATABASE_EMULATOR_HOST",Gd={};let s1=!1;function i1(t,e,n,r){t.repoInfo_=new Ey(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function Ex(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||un("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ve("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=zd(i,s),l=o.repoInfo,c,h;typeof process<"u"&&Gp&&(h=Gp[r1]),h?(c=!0,i=`http://${h}?ns=${l.namespace}`,o=zd(i,s),l=o.repoInfo):c=!o.repoInfo.secure;const p=s&&c?new Is(Is.OWNER):new KS(t.name,t.options,e);hx("Invalid Firebase Database URL",o),G(o.path)||un("Database URL must point to the root of a Firebase Database (not including a child path).");const f=o1(l,t,p,new GS(t.name,n));return new l1(f,t)}function a1(t,e){const n=Gd[e];(!n||n[t.key]!==t)&&un(`Database ${e}(${t.repoInfo_}) has already been deleted.`),vx(t),delete n[t.key]}function o1(t,e,n,r){let s=Gd[e.name];s||(s={},Gd[e.name]=s);let i=s[t.toURLString()];return i&&un("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new hk(t,s1,n,r),s[t.toURLString()]=i,i}let l1=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(mk(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new $t(this._repo,Z())),this._rootInternal}_delete(){return this._rootInternal!==null&&(a1(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&un("Cannot call "+e+" on a deleted database.")}};function Sx(){Us.IS_TRANSPORT_INITIALIZED&&et("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function c1(){Sx(),$n.forceDisallow()}function u1(){Sx(),Pt.forceDisallow(),$n.forceAllow()}function d1(t,e,n,r={}){t=se(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&un("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&un('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new Is(Is.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:Ab(r.mockUserToken,t.app.options.projectId);i=new Is(o)}i1(s,e,n,i)}function h1(t){t=se(t),t._checkNotDeleted("goOffline"),vx(t._repo)}function m1(t){t=se(t),t._checkNotDeleted("goOnline"),Nk(t._repo)}function f1(t,e){fy(t,e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(t){uy(Zt),Xt(new vt("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return Ex(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),at(Kp,Jp,t),at(Kp,Jp,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1={".sv":"timestamp"};function v1(){return g1}function _1(t){return{".sv":{increment:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b1=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function y1(t,e,n){var r;if(t=se(t),Ot("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";const s=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,i=new ut,o=(c,h,p)=>{let f=null;c?i.reject(c):(f=new bc(p,new $t(t._repo,t._path),oe),i.resolve(new b1(h,f)))},l=Hd(t,()=>{});return wk(t._repo,t._path,e,o,l,s),i.promise}Nn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Nn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};p1();const x1="@firebase/database-compat",N1="1.0.5";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=new Ys("@firebase/database-compat"),Ix=function(t){const e="FIREBASE WARNING: "+t;w1.warn(e)};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=function(t,e,n,r){if(n!==void 0&&typeof n!="boolean")throw new Error(gt(t,e)+"must be a boolean.")},C1=function(t,e,n){if(e!==void 0)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(gt(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e){this._delegate=e}cancel(e){V("OnDisconnect.cancel",0,1,arguments.length),Be("OnDisconnect.cancel","onComplete",e,!0);const n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){V("OnDisconnect.remove",0,1,arguments.length),Be("OnDisconnect.remove","onComplete",e,!0);const n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){V("OnDisconnect.set",1,2,arguments.length),Be("OnDisconnect.set","onComplete",n,!0);const r=this._delegate.set(e);return n&&r.then(()=>n(null),s=>n(s)),r}setWithPriority(e,n,r){V("OnDisconnect.setWithPriority",2,3,arguments.length),Be("OnDisconnect.setWithPriority","onComplete",r,!0);const s=this._delegate.setWithPriority(e,n);return r&&s.then(()=>r(null),i=>r(i)),s}update(e,n){if(V("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const s={};for(let i=0;i<e.length;++i)s[""+i]=e[i];e=s,Ix("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Be("OnDisconnect.update","onComplete",n,!0);const r=this._delegate.update(e);return n&&r.then(()=>n(null),s=>n(s)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return V("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,n){this._database=e,this._delegate=n}val(){return V("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return V("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return V("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return V("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return V("DataSnapshot.child",0,1,arguments.length),e=String(e),xa("DataSnapshot.child","path",e),new tr(this._database,this._delegate.child(e))}hasChild(e){return V("DataSnapshot.hasChild",1,1,arguments.length),xa("DataSnapshot.hasChild","path",e),this._delegate.hasChild(e)}getPriority(){return V("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return V("DataSnapshot.forEach",1,1,arguments.length),Be("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new tr(this._database,n)))}hasChildren(){return V("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return V("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return V("DataSnapshot.ref",0,0,arguments.length),new kr(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class He{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,s){var i;V("Query.on",2,4,arguments.length),Be("Query.on","callback",n,!1);const o=He.getCancelAndContextArgs_("Query.on",r,s),l=(h,p)=>{n.call(o.context,new tr(this.database,h),p)};l.userCallback=n,l.context=o.context;const c=(i=o.cancel)===null||i===void 0?void 0:i.bind(o.context);switch(e){case"value":return Hd(this._delegate,l,c),n;case"child_added":return Ig(this._delegate,l,c),n;case"child_removed":return Rg(this._delegate,l,c),n;case"child_changed":return Tg(this._delegate,l,c),n;case"child_moved":return kg(this._delegate,l,c),n;default:throw new Error(gt("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if(V("Query.off",0,3,arguments.length),C1("Query.off",e),Be("Query.off","callback",n,!0),Ep("Query.off","context",r),n){const s=()=>{};s.userCallback=n,s.context=r,Pg(this._delegate,e,s)}else Pg(this._delegate,e)}get(){return Mk(this._delegate).then(e=>new tr(this.database,e))}once(e,n,r,s){V("Query.once",1,4,arguments.length),Be("Query.once","callback",n,!0);const i=He.getCancelAndContextArgs_("Query.once",r,s),o=new ut,l=(h,p)=>{const f=new tr(this.database,h);n&&n.call(i.context,f,p),o.resolve(f)};l.userCallback=n,l.context=i.context;const c=h=>{i.cancel&&i.cancel.call(i.context,h),o.reject(h)};switch(e){case"value":Hd(this._delegate,l,c,{onlyOnce:!0});break;case"child_added":Ig(this._delegate,l,c,{onlyOnce:!0});break;case"child_removed":Rg(this._delegate,l,c,{onlyOnce:!0});break;case"child_changed":Tg(this._delegate,l,c,{onlyOnce:!0});break;case"child_moved":kg(this._delegate,l,c,{onlyOnce:!0});break;default:throw new Error(gt("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(e){return V("Query.limitToFirst",1,1,arguments.length),new He(this.database,qt(this._delegate,zk(e)))}limitToLast(e){return V("Query.limitToLast",1,1,arguments.length),new He(this.database,qt(this._delegate,Hk(e)))}orderByChild(e){return V("Query.orderByChild",1,1,arguments.length),new He(this.database,qt(this._delegate,Kk(e)))}orderByKey(){return V("Query.orderByKey",0,0,arguments.length),new He(this.database,qt(this._delegate,Qk()))}orderByPriority(){return V("Query.orderByPriority",0,0,arguments.length),new He(this.database,qt(this._delegate,Xk()))}orderByValue(){return V("Query.orderByValue",0,0,arguments.length),new He(this.database,qt(this._delegate,e1()))}startAt(e=null,n){return V("Query.startAt",0,2,arguments.length),new He(this.database,qt(this._delegate,Bk(e,n)))}startAfter(e=null,n){return V("Query.startAfter",0,2,arguments.length),new He(this.database,qt(this._delegate,Vk(e,n)))}endAt(e=null,n){return V("Query.endAt",0,2,arguments.length),new He(this.database,qt(this._delegate,Lk(e,n)))}endBefore(e=null,n){return V("Query.endBefore",0,2,arguments.length),new He(this.database,qt(this._delegate,Uk(e,n)))}equalTo(e,n){return V("Query.equalTo",1,2,arguments.length),new He(this.database,qt(this._delegate,n1(e,n)))}toString(){return V("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return V("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(V("Query.isEqual",1,1,arguments.length),!(e instanceof He)){const n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){const s={cancel:void 0,context:void 0};if(n&&r)s.cancel=n,Be(e,"cancel",s.cancel,!0),s.context=r,Ep(e,"context",s.context);else if(n)if(typeof n=="object"&&n!==null)s.context=n;else if(typeof n=="function")s.cancel=n;else throw new Error(gt(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return s}get ref(){return new kr(this.database,new $t(this._delegate._repo,this._delegate._path))}}let kr=class os extends He{constructor(e,n){super(e,new _t(n._repo,n._path,new rc,!1)),this.database=e,this._delegate=n}getKey(){return V("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return V("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new os(this.database,Hr(this._delegate,e))}getParent(){V("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new os(this.database,e):null}getRoot(){return V("Reference.root",0,0,arguments.length),new os(this.database,this._delegate.root)}set(e,n){V("Reference.set",1,2,arguments.length),Be("Reference.set","onComplete",n,!0);const r=Hm(this._delegate,e);return n&&r.then(()=>n(null),s=>n(s)),r}update(e,n){if(V("Reference.update",1,2,arguments.length),Array.isArray(e)){const s={};for(let i=0;i<e.length;++i)s[""+i]=e[i];e=s,Ix("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ot("Reference.update",this._delegate._path),Be("Reference.update","onComplete",n,!0);const r=Ok(this._delegate,e);return n&&r.then(()=>n(null),s=>n(s)),r}setWithPriority(e,n,r){V("Reference.setWithPriority",2,3,arguments.length),Be("Reference.setWithPriority","onComplete",r,!0);const s=Ak(this._delegate,e,n);return r&&s.then(()=>r(null),i=>r(i)),s}remove(e){V("Reference.remove",0,1,arguments.length),Be("Reference.remove","onComplete",e,!0);const n=Pk(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){V("Reference.transaction",1,3,arguments.length),Be("Reference.transaction","transactionUpdate",e,!1),Be("Reference.transaction","onComplete",n,!0),j1("Reference.transaction","applyLocally",r);const s=y1(this._delegate,e,{applyLocally:r}).then(i=>new S1(i.committed,new tr(this.database,i.snapshot)));return n&&s.then(i=>n(null,i.committed,i.snapshot),i=>n(i,!1,null)),s}setPriority(e,n){V("Reference.setPriority",1,2,arguments.length),Be("Reference.setPriority","onComplete",n,!0);const r=Dk(this._delegate,e);return n&&r.then(()=>n(null),s=>n(s)),r}push(e,n){V("Reference.push",0,2,arguments.length),Be("Reference.push","onComplete",n,!0);const r=Rk(this._delegate,e),s=r.then(o=>new os(this.database,o));n&&s.then(()=>n(null),o=>n(o));const i=new os(this.database,r);return i.then=s.then.bind(s),i.catch=s.catch.bind(s,void 0),i}onDisconnect(){return Ot("Reference.onDisconnect",this._delegate._path),new E1(new kk(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:c1,forceLongPolling:u1}}useEmulator(e,n,r={}){d1(this._delegate,e,n,r)}ref(e){if(V("database.ref",0,1,arguments.length),e instanceof kr){const n=Sg(this._delegate,e.toString());return new kr(this,n)}else{const n=wx(this._delegate,e);return new kr(this,n)}}refFromURL(e){V("database.refFromURL",1,1,arguments.length);const r=Sg(this._delegate,e);return new kr(this,r)}goOffline(){return V("database.goOffline",0,0,arguments.length),h1(this._delegate)}goOnline(){return V("database.goOnline",0,0,arguments.length),m1(this._delegate)}}Na.ServerValue={TIMESTAMP:v1(),increment:t=>_1(t)};function I1({app:t,url:e,version:n,customAuthImpl:r,customAppCheckImpl:s,namespace:i,nodeAdmin:o=!1}){uy(n);const l=new nm("database-standalone"),c=new vd("auth-internal",l);c.setComponent(new vt("auth-internal",()=>r,"PRIVATE"));let h;return s&&(h=new vd("app-check-internal",l),h.setComponent(new vt("app-check-internal",()=>s,"PRIVATE"))),{instance:new Na(Ex(t,c,h,e,o),t),namespace:i}}var T1=Object.freeze({__proto__:null,initStandalone:I1});/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=Na.ServerValue;function R1(t){t.INTERNAL.registerComponent(new vt("database-compat",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app-compat").getImmediate(),s=e.getProvider("database").getImmediate({identifier:n});return new Na(s,r)},"PUBLIC").setServiceProps({Reference:kr,Query:He,Database:Na,DataSnapshot:tr,enableLogging:f1,INTERNAL:T1,ServerValue:k1}).setMultipleInstances(!0)),t.registerVersion(x1,N1)}R1(ec);var Tl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(t){var e=this;return Promise.all(t.map(function(n){return S(e,void 0,void 0,function(){var r,s;return I(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,n];case 1:return r=i.sent(),[2,{fulfilled:!0,value:r}];case 2:return s=i.sent(),[2,{fulfilled:!1,reason:s}];case 3:return[2]}})})}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D1=function(){function t(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return t._getInstance=function(e){var n=this.receivers.find(function(s){return s.isListeningto(e)});if(n)return n;var r=new t(e);return this.receivers.push(r),r},t.prototype.isListeningto=function(e){return this.eventTarget===e},t.prototype.handleEvent=function(e){return S(this,void 0,void 0,function(){var n,r,s,i,o,l,c,h,p=this;return I(this,function(f){switch(f.label){case 0:return n=e,r=n.data,s=r.eventId,i=r.eventType,o=r.data,l=this.handlersMap[i],l!=null&&l.size?(n.ports[0].postMessage({status:"ack",eventId:s,eventType:i}),c=Array.from(l).map(function(d){return S(p,void 0,void 0,function(){return I(this,function(g){return[2,d(n.origin,o)]})})}),[4,P1(c)]):[2];case 1:return h=f.sent(),n.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:h}),[2]}})})},t.prototype._subscribe=function(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)},t.prototype._unsubscribe=function(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)},t.receivers=[],t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(t,e){for(var n="",r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var O1=function(){function t(e){this.target=e,this.handlers=new Set}return t.prototype.removeMessageHandler=function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)},t.prototype._send=function(e,n,r){return r===void 0&&(r=50),S(this,void 0,void 0,function(){var s,i,o,l=this;return I(this,function(c){if(s=typeof MessageChannel<"u"?new MessageChannel:null,!s)throw new Error("connection_unavailable");return[2,new Promise(function(h,p){var f=A1("",20);s.port1.start();var d=setTimeout(function(){p(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage:function(g){var y=g;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(d),i=setTimeout(function(){p(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),h(y.data.response);break;default:clearTimeout(d),clearTimeout(i),p(new Error("invalid_response"));break}}},l.handlers.add(o),s.port1.addEventListener("message",o.onMessage),l.target.postMessage({eventType:e,eventId:f,data:n},[s.port2])}).finally(function(){o&&l.removeMessageHandler(o)})]})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(){return window}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(){return typeof Dg().WorkerGlobalScope<"u"&&typeof Dg().importScripts=="function"}function M1(){return S(this,void 0,void 0,function(){var t;return I(this,function(e){switch(e.label){case 0:if(!(navigator!=null&&navigator.serviceWorker))return[2,null];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,navigator.serviceWorker.ready];case 2:return t=e.sent(),[2,t.active];case 3:return e.sent(),[2,null];case 4:return[2]}})})}function L1(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function F1(){return Tx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kx="firebaseLocalStorageDb",U1=1,kl="firebaseLocalStorage",Rx="fbase_key",za=function(){function t(e){this.request=e}return t.prototype.toPromise=function(){var e=this;return new Promise(function(n,r){e.request.addEventListener("success",function(){n(e.request.result)}),e.request.addEventListener("error",function(){r(e.request.error)})})},t}();function xc(t,e){return t.transaction([kl],e?"readwrite":"readonly").objectStore(kl)}function B1(){var t=indexedDB.deleteDatabase(kx);return new za(t).toPromise()}function Kd(){var t=this,e=indexedDB.open(kx,U1);return new Promise(function(n,r){e.addEventListener("error",function(){r(e.error)}),e.addEventListener("upgradeneeded",function(){var s=e.result;try{s.createObjectStore(kl,{keyPath:Rx})}catch(i){r(i)}}),e.addEventListener("success",function(){return S(t,void 0,void 0,function(){var s,i;return I(this,function(o){switch(o.label){case 0:return s=e.result,s.objectStoreNames.contains(kl)?[3,3]:(s.close(),[4,B1()]);case 1:return o.sent(),i=n,[4,Kd()];case 2:return i.apply(void 0,[o.sent()]),[3,4];case 3:n(s),o.label=4;case 4:return[2]}})})})})}function Ag(t,e,n){return S(this,void 0,void 0,function(){var r,s;return I(this,function(i){return r=xc(t,!0).put((s={},s[Rx]=e,s.value=n,s)),[2,new za(r).toPromise()]})})}function $1(t,e){return S(this,void 0,void 0,function(){var n,r;return I(this,function(s){switch(s.label){case 0:return n=xc(t,!1).get(e),[4,new za(n).toPromise()];case 1:return r=s.sent(),[2,r===void 0?null:r.value]}})})}function Og(t,e){var n=xc(t,!0).delete(e);return new za(n).toPromise()}var V1=800,q1=3,z1=function(){function t(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(function(){},function(){})}return t.prototype._openDb=function(){return S(this,void 0,void 0,function(){var e;return I(this,function(n){switch(n.label){case 0:return this.db?[2,this.db]:(e=this,[4,Kd()]);case 1:return e.db=n.sent(),[2,this.db]}})})},t.prototype._withRetries=function(e){return S(this,void 0,void 0,function(){var n,r,s;return I(this,function(i){switch(i.label){case 0:n=0,i.label=1;case 1:i.label=2;case 2:return i.trys.push([2,5,,6]),[4,this._openDb()];case 3:return r=i.sent(),[4,e(r)];case 4:return[2,i.sent()];case 5:if(s=i.sent(),n++>q1)throw s;return this.db&&(this.db.close(),this.db=void 0),[3,6];case 6:return[3,1];case 7:return[2]}})})},t.prototype.initializeServiceWorkerMessaging=function(){return S(this,void 0,void 0,function(){return I(this,function(e){return[2,Tx()?this.initializeReceiver():this.initializeSender()]})})},t.prototype.initializeReceiver=function(){return S(this,void 0,void 0,function(){var e=this;return I(this,function(n){return this.receiver=D1._getInstance(F1()),this.receiver._subscribe("keyChanged",function(r,s){return S(e,void 0,void 0,function(){var i;return I(this,function(o){switch(o.label){case 0:return[4,this._poll()];case 1:return i=o.sent(),[2,{keyProcessed:i.includes(s.key)}]}})})}),this.receiver._subscribe("ping",function(r,s){return S(e,void 0,void 0,function(){return I(this,function(i){return[2,["keyChanged"]]})})}),[2]})})},t.prototype.initializeSender=function(){var e,n;return S(this,void 0,void 0,function(){var r,s;return I(this,function(i){switch(i.label){case 0:return r=this,[4,M1()];case 1:return r.activeServiceWorker=i.sent(),this.activeServiceWorker?(this.sender=new O1(this.activeServiceWorker),[4,this.sender._send("ping",{},800)]):[2];case 2:return s=i.sent(),s?(!((e=s[0])===null||e===void 0)&&e.fulfilled&&(!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0),[2]):[2]}})})},t.prototype.notifyServiceWorker=function(e){return S(this,void 0,void 0,function(){return I(this,function(n){switch(n.label){case 0:if(!this.sender||!this.activeServiceWorker||L1()!==this.activeServiceWorker)return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)];case 2:return n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return[2]}})})},t.prototype._isAvailable=function(){return S(this,void 0,void 0,function(){var e;return I(this,function(n){switch(n.label){case 0:return n.trys.push([0,4,,5]),indexedDB?[4,Kd()]:[2,!1];case 1:return e=n.sent(),[4,Ag(e,Tl,"1")];case 2:return n.sent(),[4,Og(e,Tl)];case 3:return n.sent(),[2,!0];case 4:return n.sent(),[3,5];case 5:return[2,!1]}})})},t.prototype._withPendingWrite=function(e){return S(this,void 0,void 0,function(){return I(this,function(n){switch(n.label){case 0:this.pendingWrites++,n.label=1;case 1:return n.trys.push([1,,3,4]),[4,e()];case 2:return n.sent(),[3,4];case 3:return this.pendingWrites--,[7];case 4:return[2]}})})},t.prototype._set=function(e,n){return S(this,void 0,void 0,function(){var r=this;return I(this,function(s){return[2,this._withPendingWrite(function(){return S(r,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return[4,this._withRetries(function(o){return Ag(o,e,n)})];case 1:return i.sent(),this.localCache[e]=n,[2,this.notifyServiceWorker(e)]}})})})]})})},t.prototype._get=function(e){return S(this,void 0,void 0,function(){var n;return I(this,function(r){switch(r.label){case 0:return[4,this._withRetries(function(s){return $1(s,e)})];case 1:return n=r.sent(),this.localCache[e]=n,[2,n]}})})},t.prototype._remove=function(e){return S(this,void 0,void 0,function(){var n=this;return I(this,function(r){return[2,this._withPendingWrite(function(){return S(n,void 0,void 0,function(){return I(this,function(s){switch(s.label){case 0:return[4,this._withRetries(function(i){return Og(i,e)})];case 1:return s.sent(),delete this.localCache[e],[2,this.notifyServiceWorker(e)]}})})})]})})},t.prototype._poll=function(){return S(this,void 0,void 0,function(){var e,n,r,s,i,o,l,c,h,p,f;return I(this,function(d){switch(d.label){case 0:return[4,this._withRetries(function(g){var y=xc(g,!1).getAll();return new za(y).toPromise()})];case 1:if(e=d.sent(),!e)return[2,[]];if(this.pendingWrites!==0)return[2,[]];if(n=[],r=new Set,e.length!==0)for(s=0,i=e;s<i.length;s++)o=i[s],l=o.fbase_key,c=o.value,r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(h=0,p=Object.keys(this.localCache);h<p.length;h++)f=p[h],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return[2,n]}})})},t.prototype.notifyListeners=function(e,n){this.localCache[e]=n;var r=this.listeners[e];if(r)for(var s=0,i=Array.from(r);s<i.length;s++){var o=i[s];o(n)}},t.prototype.startPolling=function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(function(){return S(e,void 0,void 0,function(){return I(this,function(n){return[2,this._poll()]})})},V1)},t.prototype.stopPolling=function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)},t.prototype._addListener=function(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)},t.prototype._removeListener=function(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()},t.type="LOCAL",t}(),W1=z1;function Px(){var t;return t={},t["dependent-sdk-initialized-before-auth"]="Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",t}var H1=Px,Jd=new hn("auth","Firebase",Px());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ts=new Ys("@firebase/auth");function G1(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Ts.logLevel<=ee.WARN&&Ts.warn.apply(Ts,Ft(["Auth (".concat(Zt,"): ").concat(t)],e,!1))}function Do(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Ts.logLevel<=ee.ERROR&&Ts.error.apply(Ts,Ft(["Auth (".concat(Zt,"): ").concat(t)],e,!1))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];throw Gm.apply(void 0,Ft([t],e,!1))}function rs(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return Gm.apply(void 0,Ft([t],e,!1))}function Dx(t,e,n){var r,s=ue(ue({},H1()),(r={},r[e]=n,r)),i=new hn("auth","Firebase",s);return i.create(e,{appName:t.name})}function Or(t){return Dx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gm(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(typeof t!="string"){var s=n[0],i=Ft([],n.slice(1),!0);return i[0]&&(i[0].appName=t.name),(e=t._errorFactory).create.apply(e,Ft([s],i,!1))}return Jd.create.apply(Jd,Ft([t],n,!1))}function q(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!t)throw Gm.apply(void 0,Ft([e],n,!1))}function yn(t){var e="INTERNAL ASSERTION FAILED: "+t;throw Do(e),new Error(e)}function dr(t,e){t||yn(e)}function K1(){return Mg()==="http:"||Mg()==="https:"}function Mg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(K1()||Mb()||"connection"in navigator)?navigator.onLine:!0}function Q1(){if(typeof navigator>"u")return null;var t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y1=function(){function t(e,n){this.shortDelay=e,this.longDelay=n,dr(n>e,"Short delay should be less than long delay!"),this.isMobile=Yl()||em()}return t.prototype.get=function(){return J1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(t,e){dr(t.emulator,"Emulator should always be set here");var n=t.emulator.url;return e?"".concat(n).concat(e.startsWith("/")?e.slice(1):e):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ox=function(){function t(){}return t.initialize=function(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)},t.fetch=function(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")},t.headers=function(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")},t.response=function(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var B,X1=(B={},B.CREDENTIAL_MISMATCH="custom-token-mismatch",B.MISSING_CUSTOM_TOKEN="internal-error",B.INVALID_IDENTIFIER="invalid-email",B.MISSING_CONTINUE_URI="internal-error",B.INVALID_PASSWORD="wrong-password",B.MISSING_PASSWORD="missing-password",B.INVALID_LOGIN_CREDENTIALS="invalid-credential",B.EMAIL_EXISTS="email-already-in-use",B.PASSWORD_LOGIN_DISABLED="operation-not-allowed",B.INVALID_IDP_RESPONSE="invalid-credential",B.INVALID_PENDING_TOKEN="invalid-credential",B.FEDERATED_USER_ID_ALREADY_LINKED="credential-already-in-use",B.MISSING_REQ_TYPE="internal-error",B.EMAIL_NOT_FOUND="user-not-found",B.RESET_PASSWORD_EXCEED_LIMIT="too-many-requests",B.EXPIRED_OOB_CODE="expired-action-code",B.INVALID_OOB_CODE="invalid-action-code",B.MISSING_OOB_CODE="internal-error",B.CREDENTIAL_TOO_OLD_LOGIN_AGAIN="requires-recent-login",B.INVALID_ID_TOKEN="invalid-user-token",B.TOKEN_EXPIRED="user-token-expired",B.USER_NOT_FOUND="user-token-expired",B.TOO_MANY_ATTEMPTS_TRY_LATER="too-many-requests",B.PASSWORD_DOES_NOT_MEET_REQUIREMENTS="password-does-not-meet-requirements",B.INVALID_CODE="invalid-verification-code",B.INVALID_SESSION_INFO="invalid-verification-id",B.INVALID_TEMPORARY_PROOF="invalid-credential",B.MISSING_SESSION_INFO="missing-verification-id",B.SESSION_EXPIRED="code-expired",B.MISSING_ANDROID_PACKAGE_NAME="missing-android-pkg-name",B.UNAUTHORIZED_DOMAIN="unauthorized-continue-uri",B.INVALID_OAUTH_CLIENT_ID="invalid-oauth-client-id",B.ADMIN_ONLY_OPERATION="admin-restricted-operation",B.INVALID_MFA_PENDING_CREDENTIAL="invalid-multi-factor-session",B.MFA_ENROLLMENT_NOT_FOUND="multi-factor-info-not-found",B.MISSING_MFA_ENROLLMENT_ID="missing-multi-factor-info",B.MISSING_MFA_PENDING_CREDENTIAL="missing-multi-factor-session",B.SECOND_FACTOR_EXISTS="second-factor-already-in-use",B.SECOND_FACTOR_LIMIT_EXCEEDED="maximum-second-factor-count-exceeded",B.BLOCKING_FUNCTION_ERROR_RESPONSE="internal-error",B.RECAPTCHA_NOT_ENABLED="recaptcha-not-enabled",B.MISSING_RECAPTCHA_TOKEN="missing-recaptcha-token",B.INVALID_RECAPTCHA_TOKEN="invalid-recaptcha-token",B.INVALID_RECAPTCHA_ACTION="invalid-recaptcha-action",B.MISSING_CLIENT_TYPE="missing-client-type",B.MISSING_RECAPTCHA_VERSION="missing-recaptcha-version",B.INVALID_RECAPTCHA_VERSION="invalid-recaptcha-version",B.INVALID_REQ_TYPE="invalid-req-type",B);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z1=new Y1(3e4,6e4);function mn(t,e){return t.tenantId&&!e.tenantId?ue(ue({},e),{tenantId:t.tenantId}):e}function _r(t,e,n,r,s){return s===void 0&&(s={}),S(this,void 0,void 0,function(){var i=this;return I(this,function(o){return[2,Mx(t,s,function(){return S(i,void 0,void 0,function(){var l,c,h,p;return I(this,function(f){switch(f.label){case 0:return l={},c={},r&&(e==="GET"?c=r:l={body:JSON.stringify(r)}),h=Yr(ue({key:t.config.apiKey},c)).slice(1),[4,t._getAdditionalHeaders()];case 1:return p=f.sent(),p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode),[2,Ox.fetch()(Lx(t,t.config.apiHost,n,h),ue({method:e,headers:p,referrerPolicy:"no-referrer"},l))]}})})})]})})}function Mx(t,e,n){return S(this,void 0,void 0,function(){var r,s,i,o,l,c,h,p,f,d;return I(this,function(g){switch(g.label){case 0:t._canInitEmulator=!1,r=ue(ue({},X1),e),g.label=1;case 1:return g.trys.push([1,4,,5]),s=new tR(t),[4,Promise.race([n(),s.promise])];case 2:return i=g.sent(),s.clearNetworkTimeout(),[4,i.json()];case 3:if(o=g.sent(),"needConfirmation"in o)throw wi(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return[2,o];if(l=i.ok?o.errorMessage:o.error.message,c=l.split(" : "),h=c[0],p=c[1],h==="FEDERATED_USER_ID_ALREADY_LINKED")throw wi(t,"credential-already-in-use",o);if(h==="EMAIL_EXISTS")throw wi(t,"email-already-in-use",o);if(h==="USER_DISABLED")throw wi(t,"user-disabled",o);if(f=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),p)throw Dx(t,f,p);return Et(t,f),[3,5];case 4:if(d=g.sent(),d instanceof Tt)throw d;return Et(t,"network-request-failed",{message:String(d)}),[3,5];case 5:return[2]}})})}function ss(t,e,n,r,s){return s===void 0&&(s={}),S(this,void 0,void 0,function(){var i;return I(this,function(o){switch(o.label){case 0:return[4,_r(t,e,n,r,s)];case 1:return i=o.sent(),"mfaPendingCredential"in i&&Et(t,"multi-factor-auth-required",{_serverResponse:i}),[2,i]}})})}function Lx(t,e,n,r){var s="".concat(e).concat(n,"?").concat(r);return t.config.emulator?Ax(t.config,s):"".concat(t.config.apiScheme,"://").concat(s)}function eR(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var tR=function(){function t(e){var n=this;this.auth=e,this.timer=null,this.promise=new Promise(function(r,s){n.timer=setTimeout(function(){return s(rs(n.auth,"network-request-failed"))},Z1.get())})}return t.prototype.clearNetworkTimeout=function(){clearTimeout(this.timer)},t}();function wi(t,e,n){var r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var s=rs(t,e,r);return s.customData._tokenResponse=n,s}function Lg(t){return t!==void 0&&t.enterprise!==void 0}var nR=function(){function t(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}return t.prototype.getProviderEnforcementState=function(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(var n=0,r=this.recaptchaEnforcementState;n<r.length;n++){var s=r[n];if(s.provider&&s.provider===e)return eR(s.enforcementState)}return null},t.prototype.isProviderEnabled=function(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"},t}();function rR(t,e){return S(this,void 0,void 0,function(){return I(this,function(n){return[2,_r(t,"GET","/v2/recaptchaConfig",mn(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(t,e){return S(this,void 0,void 0,function(){return I(this,function(n){return[2,_r(t,"POST","/v1/accounts:delete",e)]})})}function Fx(t,e){return S(this,void 0,void 0,function(){return I(this,function(n){return[2,_r(t,"POST","/v1/accounts:lookup",e)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(t){if(t)try{var e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function iR(t,e){return e===void 0&&(e=!1),S(this,void 0,void 0,function(){var n,r,s,i,o;return I(this,function(l){switch(l.label){case 0:return n=se(t),[4,n.getIdToken(e)];case 1:return r=l.sent(),s=Km(r),q(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error"),i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider,[2,{claims:s,token:r,authTime:Fi(fu(s.auth_time)),issuedAtTime:Fi(fu(s.iat)),expirationTime:Fi(fu(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}]}})})}function fu(t){return Number(t)*1e3}function Km(t){var e=t.split("."),n=e[0],r=e[1],s=e[2];if(n===void 0||r===void 0||s===void 0)return Do("JWT malformed, contained fewer than 3 sections"),null;try{var i=oa(r);return i?JSON.parse(i):(Do("Failed to decode base64 JWT payload"),null)}catch(o){return Do("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Fg(t){var e=Km(t);return q(e,"internal-error"),q(typeof e.exp<"u","internal-error"),q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(t,e,n){return n===void 0&&(n=!1),S(this,void 0,void 0,function(){var r;return I(this,function(s){switch(s.label){case 0:if(n)return[2,e];s.label=1;case 1:return s.trys.push([1,3,,6]),[4,e];case 2:return[2,s.sent()];case 3:return r=s.sent(),r instanceof Tt&&aR(r)?t.auth.currentUser!==t?[3,5]:[4,t.auth.signOut()]:[3,5];case 4:s.sent(),s.label=5;case 5:throw r;case 6:return[2]}})})}function aR(t){var e=t.code;return e==="auth/".concat("user-disabled")||e==="auth/".concat("user-token-expired")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oR=function(){function t(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return t.prototype._start=function(){this.isRunning||(this.isRunning=!0,this.schedule())},t.prototype._stop=function(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))},t.prototype.getInterval=function(e){var n;if(e){var r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;var s=(n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0,r=s-Date.now()-3e5;return Math.max(0,r)}},t.prototype.schedule=function(e){var n=this;if(e===void 0&&(e=!1),!!this.isRunning){var r=this.getInterval(e);this.timerId=setTimeout(function(){return S(n,void 0,void 0,function(){return I(this,function(s){switch(s.label){case 0:return[4,this.iteration()];case 1:return s.sent(),[2]}})})},r)}},t.prototype.iteration=function(){return S(this,void 0,void 0,function(){var e;return I(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.user.getIdToken(!0)];case 1:return n.sent(),[3,3];case 2:return e=n.sent(),(e==null?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),[2];case 3:return this.schedule(),[2]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qd=function(){function t(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}return t.prototype._initializeTime=function(){this.lastSignInTime=Fi(this.lastLoginAt),this.creationTime=Fi(this.createdAt)},t.prototype._copy=function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()},t.prototype.toJSON=function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(t){var e;return S(this,void 0,void 0,function(){var n,r,s,i,o,l,c,h,p,f;return I(this,function(d){switch(d.label){case 0:return n=t.auth,[4,t.getIdToken()];case 1:return r=d.sent(),[4,wa(t,Fx(n,{idToken:r}))];case 2:return s=d.sent(),q(s==null?void 0:s.users.length,n,"internal-error"),i=s.users[0],t._notifyReloadListener(i),o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Ux(i.providerUserInfo):[],l=cR(t.providerData,o),c=t.isAnonymous,h=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),p=c?h:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Qd(i.createdAt,i.lastLoginAt),isAnonymous:p},Object.assign(t,f),[2]}})})}function lR(t){return S(this,void 0,void 0,function(){var e;return I(this,function(n){switch(n.label){case 0:return e=se(t),[4,Rl(e)];case 1:return n.sent(),[4,e.auth._persistUserIfCurrent(e)];case 2:return n.sent(),e.auth._notifyListenersIfCurrent(e),[2]}})})}function cR(t,e){var n=t.filter(function(r){return!e.some(function(s){return s.providerId===r.providerId})});return Ft(Ft([],n,!0),e,!0)}function Ux(t){return t.map(function(e){var n=e.providerId,r=Ra(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(t,e){return S(this,void 0,void 0,function(){var n,r=this;return I(this,function(s){switch(s.label){case 0:return[4,Mx(t,{},function(){return S(r,void 0,void 0,function(){var i,o,l,c,h,p;return I(this,function(f){switch(f.label){case 0:return i=Yr({grant_type:"refresh_token",refresh_token:e}).slice(1),o=t.config,l=o.tokenApiHost,c=o.apiKey,h=Lx(t,l,"/v1/token","key=".concat(c)),[4,t._getAdditionalHeaders()];case 1:return p=f.sent(),p["Content-Type"]="application/x-www-form-urlencoded",[2,Ox.fetch()(h,{method:"POST",headers:p,body:i})]}})})})];case 1:return n=s.sent(),[2,{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}]}})})}function dR(t,e){return S(this,void 0,void 0,function(){return I(this,function(n){return[2,_r(t,"POST","/v2/accounts:revokeToken",mn(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pu=function(){function t(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Object.defineProperty(t.prototype,"isExpired",{get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4},enumerable:!1,configurable:!0}),t.prototype.updateFromServerResponse=function(e){q(e.idToken,"internal-error"),q(typeof e.idToken<"u","internal-error"),q(typeof e.refreshToken<"u","internal-error");var n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Fg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)},t.prototype.updateFromIdToken=function(e){q(e.length!==0,"internal-error");var n=Fg(e);this.updateTokensAndExpiration(e,null,n)},t.prototype.getToken=function(e,n){return n===void 0&&(n=!1),S(this,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return!n&&this.accessToken&&!this.isExpired?[2,this.accessToken]:(q(this.refreshToken,e,"user-token-expired"),this.refreshToken?[4,this.refresh(e,this.refreshToken)]:[3,2]);case 1:return r.sent(),[2,this.accessToken];case 2:return[2,null]}})})},t.prototype.clearRefreshToken=function(){this.refreshToken=null},t.prototype.refresh=function(e,n){return S(this,void 0,void 0,function(){var r,s,i,o;return I(this,function(l){switch(l.label){case 0:return[4,uR(e,n)];case 1:return r=l.sent(),s=r.accessToken,i=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(s,i,Number(o)),[2]}})})},t.prototype.updateTokensAndExpiration=function(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3},t.fromJSON=function(e,n){var r=n.refreshToken,s=n.accessToken,i=n.expirationTime,o=new t;return r&&(q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(q(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(q(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o},t.prototype.toJSON=function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}},t.prototype._assign=function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime},t.prototype._clone=function(){return Object.assign(new t,this.toJSON())},t.prototype._performRefresh=function(){return yn("not implemented")},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(t,e){q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Pl=function(){function t(e){var n=e.uid,r=e.auth,s=e.stsTokenManager,i=Ra(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?Ft([],i.providerData,!0):[],this.metadata=new Qd(i.createdAt||void 0,i.lastLoginAt||void 0)}return t.prototype.getIdToken=function(e){return S(this,void 0,void 0,function(){var n;return I(this,function(r){switch(r.label){case 0:return[4,wa(this,this.stsTokenManager.getToken(this.auth,e))];case 1:return n=r.sent(),q(n,this.auth,"internal-error"),this.accessToken===n?[3,3]:(this.accessToken=n,[4,this.auth._persistUserIfCurrent(this)]);case 2:r.sent(),this.auth._notifyListenersIfCurrent(this),r.label=3;case 3:return[2,n]}})})},t.prototype.getIdTokenResult=function(e){return iR(this,e)},t.prototype.reload=function(){return lR(this)},t.prototype._assign=function(e){this!==e&&(q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(function(n){return ue({},n)}),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))},t.prototype._clone=function(e){var n=new t(ue(ue({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n},t.prototype._onReload=function(e){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)},t.prototype._notifyReloadListener=function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e},t.prototype._startProactiveRefresh=function(){this.proactiveRefresh._start()},t.prototype._stopProactiveRefresh=function(){this.proactiveRefresh._stop()},t.prototype._updateTokensIfNecessary=function(e,n){return n===void 0&&(n=!1),S(this,void 0,void 0,function(){var r;return I(this,function(s){switch(s.label){case 0:return r=!1,e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n?[4,Rl(this)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[4,this.auth._persistUserIfCurrent(this)];case 3:return s.sent(),r&&this.auth._notifyListenersIfCurrent(this),[2]}})})},t.prototype.delete=function(){return S(this,void 0,void 0,function(){var e;return I(this,function(n){switch(n.label){case 0:return Ke(this.auth.app)?[2,Promise.reject(Or(this.auth))]:[4,this.getIdToken()];case 1:return e=n.sent(),[4,wa(this,sR(this.auth,{idToken:e}))];case 2:return n.sent(),this.stsTokenManager.clearRefreshToken(),[2,this.auth.signOut()]}})})},t.prototype.toJSON=function(){return ue(ue({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(function(e){return ue({},e)}),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})},Object.defineProperty(t.prototype,"refreshToken",{get:function(){return this.stsTokenManager.refreshToken||""},enumerable:!1,configurable:!0}),t._fromJSON=function(e,n){var r,s,i,o,l,c,h,p,f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,N=(l=n.tenantId)!==null&&l!==void 0?l:void 0,E=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,b=(h=n.createdAt)!==null&&h!==void 0?h:void 0,_=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,x=n.uid,C=n.emailVerified,v=n.isAnonymous,k=n.providerData,R=n.stsTokenManager;q(x&&R,e,"internal-error");var P=pu.fromJSON(this.name,R);q(typeof x=="string",e,"internal-error"),Pn(f,e.name),Pn(d,e.name),q(typeof C=="boolean",e,"internal-error"),q(typeof v=="boolean",e,"internal-error"),Pn(g,e.name),Pn(y,e.name),Pn(N,e.name),Pn(E,e.name),Pn(b,e.name),Pn(_,e.name);var L=new t({uid:x,auth:e,email:d,emailVerified:C,displayName:f,isAnonymous:v,photoURL:y,phoneNumber:g,tenantId:N,stsTokenManager:P,createdAt:b,lastLoginAt:_});return k&&Array.isArray(k)&&(L.providerData=k.map(function(D){return ue({},D)})),E&&(L._redirectEventId=E),L},t._fromIdTokenResponse=function(e,n,r){return r===void 0&&(r=!1),S(this,void 0,void 0,function(){var s,i;return I(this,function(o){switch(o.label){case 0:return s=new pu,s.updateFromServerResponse(n),i=new t({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r}),[4,Rl(i)];case 1:return o.sent(),[2,i]}})})},t._fromGetAccountInfoResponse=function(e,n,r){return S(this,void 0,void 0,function(){var s,i,o,l,c,h;return I(this,function(p){return s=n.users[0],q(s.localId!==void 0,"internal-error"),i=s.providerUserInfo!==void 0?Ux(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new pu,l.updateFromIdToken(r),c=new t({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Qd(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)},Object.assign(c,h),[2,c]})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ug=new Map;function sn(t){dr(t instanceof Function,"Expected a class definition");var e=Ug.get(t);return e?(dr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ug.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hR=function(){function t(){this.type="NONE",this.storage={}}return t.prototype._isAvailable=function(){return S(this,void 0,void 0,function(){return I(this,function(e){return[2,!0]})})},t.prototype._set=function(e,n){return S(this,void 0,void 0,function(){return I(this,function(r){return this.storage[e]=n,[2]})})},t.prototype._get=function(e){return S(this,void 0,void 0,function(){var n;return I(this,function(r){return n=this.storage[e],[2,n===void 0?null:n]})})},t.prototype._remove=function(e){return S(this,void 0,void 0,function(){return I(this,function(n){return delete this.storage[e],[2]})})},t.prototype._addListener=function(e,n){},t.prototype._removeListener=function(e,n){},t.type="NONE",t}(),Bg=hR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(t,e,n){return"".concat("firebase",":").concat(t,":").concat(e,":").concat(n)}var $g=function(){function t(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;var s=this.auth,i=s.config,o=s.name;this.fullUserKey=Ui(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ui("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return t.prototype.setCurrentUser=function(e){return this.persistence._set(this.fullUserKey,e.toJSON())},t.prototype.getCurrentUser=function(){return S(this,void 0,void 0,function(){var e;return I(this,function(n){switch(n.label){case 0:return[4,this.persistence._get(this.fullUserKey)];case 1:return e=n.sent(),[2,e?Pl._fromJSON(this.auth,e):null]}})})},t.prototype.removeCurrentUser=function(){return this.persistence._remove(this.fullUserKey)},t.prototype.savePersistenceForRedirect=function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)},t.prototype.setPersistence=function(e){return S(this,void 0,void 0,function(){var n;return I(this,function(r){switch(r.label){case 0:return this.persistence===e?[2]:[4,this.getCurrentUser()];case 1:return n=r.sent(),[4,this.removeCurrentUser()];case 2:return r.sent(),this.persistence=e,n?[2,this.setCurrentUser(n)]:[2]}})})},t.prototype.delete=function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)},t.create=function(e,n,r){return r===void 0&&(r="authUser"),S(this,void 0,void 0,function(){var s,i,o,l,c,h,p,f,d,g,y=this;return I(this,function(N){switch(N.label){case 0:return n.length?[4,Promise.all(n.map(function(E){return S(y,void 0,void 0,function(){return I(this,function(b){switch(b.label){case 0:return[4,E._isAvailable()];case 1:return b.sent()?[2,E]:[2,void 0]}})})}))]:[2,new t(sn(Bg),e,r)];case 1:s=N.sent().filter(function(E){return E}),i=s[0]||sn(Bg),o=Ui(r,e.config.apiKey,e.name),l=null,c=0,h=n,N.label=2;case 2:if(!(c<h.length))return[3,7];p=h[c],N.label=3;case 3:return N.trys.push([3,5,,6]),[4,p._get(o)];case 4:return f=N.sent(),f?(d=Pl._fromJSON(e,f),p!==i&&(l=d),i=p,[3,7]):[3,6];case 5:return N.sent(),[3,6];case 6:return c++,[3,2];case 7:return g=s.filter(function(E){return E._shouldAllowMigration}),!i._shouldAllowMigration||!g.length?[2,new t(i,e,r)]:(i=g[0],l?[4,i._set(o,l.toJSON())]:[3,9]);case 8:N.sent(),N.label=9;case 9:return[4,Promise.all(n.map(function(E){return S(y,void 0,void 0,function(){return I(this,function(b){switch(b.label){case 0:if(E===i)return[3,4];b.label=1;case 1:return b.trys.push([1,3,,4]),[4,E._remove(o)];case 2:return b.sent(),[3,4];case 3:return b.sent(),[3,4];case 4:return[2]}})})}))];case 10:return N.sent(),[2,new t(i,e,r)]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(t){var e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($x(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Vx(e))return"Blackberry";if(qx(e))return"Webos";if(Bx(e))return"Safari";if((e.includes("chrome/")||fR(e))&&!e.includes("edge/"))return"Chrome";if(Wa(e))return"Android";var n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);return(r==null?void 0:r.length)===2?r[1]:"Other"}function mR(t){return t===void 0&&(t=pe()),/firefox\//i.test(t)}function Bx(t){t===void 0&&(t=pe());var e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fR(t){return t===void 0&&(t=pe()),/crios\//i.test(t)}function $x(t){return t===void 0&&(t=pe()),/iemobile/i.test(t)}function Wa(t){return t===void 0&&(t=pe()),/android/i.test(t)}function Vx(t){return t===void 0&&(t=pe()),/blackberry/i.test(t)}function qx(t){return t===void 0&&(t=pe()),/webos/i.test(t)}function Nc(t){return t===void 0&&(t=pe()),/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function pR(t){return t===void 0&&(t=pe()),/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function gR(){return eC()&&document.documentMode===10}function vR(t){return t===void 0&&(t=pe()),Nc(t)||Wa(t)||qx(t)||Vx(t)||/windows phone/i.test(t)||$x(t)}function _R(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(t,e){e===void 0&&(e=[]);var n;switch(t){case"Browser":n=Vg(pe());break;case"Worker":n="".concat(Vg(pe()),"-").concat(t);break;default:n=t}var r=e.length?e.join(","):"FirebaseCore-web";return"".concat(n,"/").concat("JsCore","/").concat(Zt,"/").concat(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bR=function(){function t(e){this.auth=e,this.queue=[]}return t.prototype.pushCallback=function(e,n){var r=this,s=function(o){return new Promise(function(l,c){try{var h=e(o);l(h)}catch(p){c(p)}})};s.onAbort=n,this.queue.push(s);var i=this.queue.length-1;return function(){r.queue[i]=function(){return Promise.resolve()}}},t.prototype.runMiddleware=function(e){return S(this,void 0,void 0,function(){var n,r,s,i,o,l,c,h;return I(this,function(p){switch(p.label){case 0:if(this.auth.currentUser===e)return[2];n=[],p.label=1;case 1:p.trys.push([1,6,,7]),r=0,s=this.queue,p.label=2;case 2:return r<s.length?(i=s[r],[4,i(e)]):[3,5];case 3:p.sent(),i.onAbort&&n.push(i.onAbort),p.label=4;case 4:return r++,[3,2];case 5:return[3,7];case 6:for(o=p.sent(),n.reverse(),l=0,c=n;l<c.length;l++){h=c[l];try{h()}catch{}}throw this.auth._errorFactory.create("login-blocked",{originalMessage:o==null?void 0:o.message});case 7:return[2]}})})},t}();/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(t,e){return e===void 0&&(e={}),S(this,void 0,void 0,function(){return I(this,function(n){return[2,_r(t,"GET","/v2/passwordPolicy",mn(t,e))]})})}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xR=6,NR=function(){function t(e){var n,r,s,i,o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:xR,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}return t.prototype.validatePassword=function(e){var n,r,s,i,o,l,c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c},t.prototype.validatePasswordLengthOptions=function(e,n){var r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)},t.prototype.validatePasswordCharacterOptions=function(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(var r,s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))},t.prototype.updatePasswordCharacterOptionsStatuses=function(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wR=function(){function t(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qg(this),this.idTokenSubscription=new qg(this),this.beforeStateQueue=new bR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Jd,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}return t.prototype._initializeWithPersistence=function(e,n){var r=this;return n&&(this._popupRedirectResolver=sn(n)),this._initializationPromise=this.queue(function(){return S(r,void 0,void 0,function(){var s,i,o;return I(this,function(l){switch(l.label){case 0:return this._deleted?[2]:(s=this,[4,$g.create(this,e)]);case 1:if(s.persistenceManager=l.sent(),this._deleted)return[2];if(!(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively))return[3,5];l.label=2;case 2:return l.trys.push([2,4,,5]),[4,this._popupRedirectResolver._initialize(this)];case 3:return l.sent(),[3,5];case 4:return l.sent(),[3,5];case 5:return[4,this.initializeCurrentUser(n)];case 6:return l.sent(),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,this._deleted?[2]:(this._isInitialized=!0,[2])}})})}),this._initializationPromise},t.prototype._onStorageEvent=function(){return S(this,void 0,void 0,function(){var e;return I(this,function(n){switch(n.label){case 0:return this._deleted?[2]:[4,this.assertedPersistence.getCurrentUser()];case 1:return e=n.sent(),!this.currentUser&&!e?[2]:this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),[4,this.currentUser.getIdToken()]):[3,3];case 2:return n.sent(),[2];case 3:return[4,this._updateCurrentUser(e,!0)];case 4:return n.sent(),[2]}})})},t.prototype.initializeCurrentUserFromIdToken=function(e){return S(this,void 0,void 0,function(){var n,r,s;return I(this,function(i){switch(i.label){case 0:return i.trys.push([0,4,,6]),[4,Fx(this,{idToken:e})];case 1:return n=i.sent(),[4,Pl._fromGetAccountInfoResponse(this,n,e)];case 2:return r=i.sent(),[4,this.directlySetCurrentUser(r)];case 3:return i.sent(),[3,6];case 4:return s=i.sent(),console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),[4,this.directlySetCurrentUser(null)];case 5:return i.sent(),[3,6];case 6:return[2]}})})},t.prototype.initializeCurrentUser=function(e){var n;return S(this,void 0,void 0,function(){var r,s,i,o,l,c,h,p,f=this;return I(this,function(d){switch(d.label){case 0:return Ke(this.app)?(r=this.app.settings.authIdToken,r?[2,new Promise(function(g){setTimeout(function(){return f.initializeCurrentUserFromIdToken(r).then(g,g)})})]:[2,this.directlySetCurrentUser(null)]):[4,this.assertedPersistence.getCurrentUser()];case 1:return s=d.sent(),i=s,o=!1,e&&this.config.authDomain?[4,this.getOrInitRedirectPersistenceManager()]:[3,4];case 2:return d.sent(),l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i==null?void 0:i._redirectEventId,[4,this.tryRedirectSignIn(e)];case 3:h=d.sent(),(!l||l===c)&&(h!=null&&h.user)&&(i=h.user,o=!0),d.label=4;case 4:if(!i)return[2,this.directlySetCurrentUser(null)];if(i._redirectEventId)return[3,9];if(!o)return[3,8];d.label=5;case 5:return d.trys.push([5,7,,8]),[4,this.beforeStateQueue.runMiddleware(i)];case 6:return d.sent(),[3,8];case 7:return p=d.sent(),i=s,this._popupRedirectResolver._overrideRedirectResult(this,function(){return Promise.reject(p)}),[3,8];case 8:return i?[2,this.reloadAndSetCurrentUserOrClear(i)]:[2,this.directlySetCurrentUser(null)];case 9:return q(this._popupRedirectResolver,this,"argument-error"),[4,this.getOrInitRedirectPersistenceManager()];case 10:return d.sent(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?[2,this.directlySetCurrentUser(i)]:[2,this.reloadAndSetCurrentUserOrClear(i)]}})})},t.prototype.tryRedirectSignIn=function(e){return S(this,void 0,void 0,function(){var n;return I(this,function(r){switch(r.label){case 0:n=null,r.label=1;case 1:return r.trys.push([1,3,,5]),[4,this._popupRedirectResolver._completeRedirectFn(this,e,!0)];case 2:return n=r.sent(),[3,5];case 3:return r.sent(),[4,this._setRedirectUser(null)];case 4:return r.sent(),[3,5];case 5:return[2,n]}})})},t.prototype.reloadAndSetCurrentUserOrClear=function(e){return S(this,void 0,void 0,function(){var n;return I(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Rl(e)];case 1:return r.sent(),[3,3];case 2:return n=r.sent(),(n==null?void 0:n.code)!=="auth/".concat("network-request-failed")?[2,this.directlySetCurrentUser(null)]:[3,3];case 3:return[2,this.directlySetCurrentUser(e)]}})})},t.prototype.useDeviceLanguage=function(){this.languageCode=Q1()},t.prototype._delete=function(){return S(this,void 0,void 0,function(){return I(this,function(e){return this._deleted=!0,[2]})})},t.prototype.updateCurrentUser=function(e){return S(this,void 0,void 0,function(){var n;return I(this,function(r){return Ke(this.app)?[2,Promise.reject(Or(this))]:(n=e?se(e):null,n&&q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),[2,this._updateCurrentUser(n&&n._clone(this))])})})},t.prototype._updateCurrentUser=function(e,n){return n===void 0&&(n=!1),S(this,void 0,void 0,function(){var r=this;return I(this,function(s){switch(s.label){case 0:return this._deleted?[2]:(e&&q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n?[3,2]:[4,this.beforeStateQueue.runMiddleware(e)]);case 1:s.sent(),s.label=2;case 2:return[2,this.queue(function(){return S(r,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return[4,this.directlySetCurrentUser(e)];case 1:return i.sent(),this.notifyAuthListeners(),[2]}})})})]}})})},t.prototype.signOut=function(){return S(this,void 0,void 0,function(){return I(this,function(e){switch(e.label){case 0:return Ke(this.app)?[2,Promise.reject(Or(this))]:[4,this.beforeStateQueue.runMiddleware(null)];case 1:return e.sent(),this.redirectPersistenceManager||this._popupRedirectResolver?[4,this._setRedirectUser(null)]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2,this._updateCurrentUser(null,!0)]}})})},t.prototype.setPersistence=function(e){var n=this;return Ke(this.app)?Promise.reject(Or(this)):this.queue(function(){return S(n,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return[4,this.assertedPersistence.setPersistence(sn(e))];case 1:return r.sent(),[2]}})})})},t.prototype._getRecaptchaConfig=function(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]},t.prototype.validatePassword=function(e){return S(this,void 0,void 0,function(){var n;return I(this,function(r){switch(r.label){case 0:return this._getPasswordPolicyInternal()?[3,2]:[4,this._updatePasswordPolicy()];case 1:r.sent(),r.label=2;case 2:return n=this._getPasswordPolicyInternal(),n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?[2,Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{}))]:[2,n.validatePassword(e)]}})})},t.prototype._getPasswordPolicyInternal=function(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]},t.prototype._updatePasswordPolicy=function(){return S(this,void 0,void 0,function(){var e,n;return I(this,function(r){switch(r.label){case 0:return[4,yR(this)];case 1:return e=r.sent(),n=new NR(e),this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n,[2]}})})},t.prototype._getPersistence=function(){return this.assertedPersistence.persistence.type},t.prototype._updateErrorMap=function(e){this._errorFactory=new hn("auth","Firebase",e())},t.prototype.onAuthStateChanged=function(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)},t.prototype.beforeAuthStateChanged=function(e,n){return this.beforeStateQueue.pushCallback(e,n)},t.prototype.onIdTokenChanged=function(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)},t.prototype.authStateReady=function(){var e=this;return new Promise(function(n,r){if(e.currentUser)n();else var s=e.onAuthStateChanged(function(){s(),n()},r)})},t.prototype.revokeAccessToken=function(e){return S(this,void 0,void 0,function(){var n,r;return I(this,function(s){switch(s.label){case 0:return this.currentUser?[4,this.currentUser.getIdToken()]:[3,3];case 1:return n=s.sent(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n},this.tenantId!=null&&(r.tenantId=this.tenantId),[4,dR(this,r)];case 2:s.sent(),s.label=3;case 3:return[2]}})})},t.prototype.toJSON=function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}},t.prototype._setRedirectUser=function(e,n){return S(this,void 0,void 0,function(){var r;return I(this,function(s){switch(s.label){case 0:return[4,this.getOrInitRedirectPersistenceManager(n)];case 1:return r=s.sent(),[2,e===null?r.removeCurrentUser():r.setCurrentUser(e)]}})})},t.prototype.getOrInitRedirectPersistenceManager=function(e){return S(this,void 0,void 0,function(){var n,r,s;return I(this,function(i){switch(i.label){case 0:return this.redirectPersistenceManager?[3,3]:(n=e&&sn(e)||this._popupRedirectResolver,q(n,this,"argument-error"),r=this,[4,$g.create(this,[sn(n._redirectPersistence)],"redirectUser")]);case 1:return r.redirectPersistenceManager=i.sent(),s=this,[4,this.redirectPersistenceManager.getCurrentUser()];case 2:s.redirectUser=i.sent(),i.label=3;case 3:return[2,this.redirectPersistenceManager]}})})},t.prototype._redirectUserForId=function(e){var n,r;return S(this,void 0,void 0,function(){var s=this;return I(this,function(i){switch(i.label){case 0:return this._isInitialized?[4,this.queue(function(){return S(s,void 0,void 0,function(){return I(this,function(o){return[2]})})})]:[3,2];case 1:i.sent(),i.label=2;case 2:return((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?[2,this._currentUser]:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?[2,this.redirectUser]:[2,null]}})})},t.prototype._persistUserIfCurrent=function(e){return S(this,void 0,void 0,function(){var n=this;return I(this,function(r){return e===this.currentUser?[2,this.queue(function(){return S(n,void 0,void 0,function(){return I(this,function(s){return[2,this.directlySetCurrentUser(e)]})})})]:[2]})})},t.prototype._notifyListenersIfCurrent=function(e){e===this.currentUser&&this.notifyAuthListeners()},t.prototype._key=function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)},t.prototype._startProactiveRefresh=function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()},t.prototype._stopProactiveRefresh=function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()},Object.defineProperty(t.prototype,"_currentUser",{get:function(){return this.currentUser},enumerable:!1,configurable:!0}),t.prototype.notifyAuthListeners=function(){var e,n;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}},t.prototype.registerStateListener=function(e,n,r,s){var i=this;if(this._deleted)return function(){};var o=typeof n=="function"?n:n.next.bind(n),l=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(q(c,this,"internal-error"),c.then(function(){l||o(i.currentUser)}),typeof n=="function"){var h=e.addObserver(n,r,s);return function(){l=!0,h()}}else{var p=e.addObserver(n);return function(){l=!0,p()}}},t.prototype.directlySetCurrentUser=function(e){return S(this,void 0,void 0,function(){return I(this,function(n){switch(n.label){case 0:return this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?[4,this.assertedPersistence.setCurrentUser(e)]:[3,2];case 1:return n.sent(),[3,4];case 2:return[4,this.assertedPersistence.removeCurrentUser()];case 3:n.sent(),n.label=4;case 4:return[2]}})})},t.prototype.queue=function(e){return this.operations=this.operations.then(e,e),this.operations},Object.defineProperty(t.prototype,"assertedPersistence",{get:function(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager},enumerable:!1,configurable:!0}),t.prototype._logFramework=function(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zx(this.config.clientPlatform,this._getFrameworks()))},t.prototype._getFrameworks=function(){return this.frameworks},t.prototype._getAdditionalHeaders=function(){var e;return S(this,void 0,void 0,function(){var n,r,s,i;return I(this,function(o){switch(o.label){case 0:return n=(i={},i["X-Client-Version"]=this.clientVersion,i),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),[4,(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader()];case 1:return r=o.sent(),r&&(n["X-Firebase-Client"]=r),[4,this._getAppCheckToken()];case 2:return s=o.sent(),s&&(n["X-Firebase-AppCheck"]=s),[2,n]}})})},t.prototype._getAppCheckToken=function(){var e;return S(this,void 0,void 0,function(){var n;return I(this,function(r){switch(r.label){case 0:return[4,(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken()];case 1:return n=r.sent(),n!=null&&n.error&&G1("Error while retrieving App Check token: ".concat(n.error)),[2,n==null?void 0:n.token]}})})},t}();function Jm(t){return se(t)}var qg=function(){function t(e){var n=this;this.auth=e,this.observer=null,this.addObserver=tm(function(r){return n.observer=r})}return Object.defineProperty(t.prototype,"next",{get:function(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wx={loadJS:function(){return S(this,void 0,void 0,function(){return I(this,function(t){throw new Error("Unable to load external scripts")})})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jR(t){return Wx.loadJS(t)}function CR(){return Wx.recaptchaEnterpriseScript}var ER="recaptcha-enterprise",SR="NO_RECAPTCHA",IR=function(){function t(e){this.type=ER,this.auth=Jm(e)}return t.prototype.verify=function(e,n){return e===void 0&&(e="verify"),n===void 0&&(n=!1),S(this,void 0,void 0,function(){function r(o){return S(this,void 0,void 0,function(){var l=this;return I(this,function(c){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return[2,o._agentRecaptchaConfig.siteKey];if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return[2,o._tenantRecaptchaConfigs[o.tenantId].siteKey]}return[2,new Promise(function(h,p){return S(l,void 0,void 0,function(){return I(this,function(f){return rR(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(function(d){if(d.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{var g=new nR(d);return o.tenantId==null?o._agentRecaptchaConfig=g:o._tenantRecaptchaConfigs[o.tenantId]=g,h(g.siteKey)}}).catch(function(d){p(d)}),[2]})})})]})})}function s(o,l,c){var h=window.grecaptcha;Lg(h)?h.enterprise.ready(function(){h.enterprise.execute(o,{action:e}).then(function(p){l(p)}).catch(function(){l(SR)})}):c(Error("No reCAPTCHA enterprise script loaded."))}var i=this;return I(this,function(o){return[2,new Promise(function(l,c){r(i.auth).then(function(h){if(!n&&Lg(window.grecaptcha))s(h,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}var p=CR();p.length!==0&&(p+=h),jR(p).then(function(){s(h,l,c)}).catch(function(f){c(f)})}}).catch(function(h){c(h)})})]})})},t}();function zg(t,e,n,r){return r===void 0&&(r=!1),S(this,void 0,void 0,function(){var s,i,o;return I(this,function(l){switch(l.label){case 0:s=new IR(t),l.label=1;case 1:return l.trys.push([1,3,,5]),[4,s.verify(n)];case 2:return i=l.sent(),[3,5];case 3:return l.sent(),[4,s.verify(n,!0)];case 4:return i=l.sent(),[3,5];case 5:return o=ue({},e),r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),[2,o]}})})}function Wg(t,e,n,r){var s;return S(this,void 0,void 0,function(){var i,o=this;return I(this,function(l){switch(l.label){case 0:return!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")?[4,zg(t,e,n,n==="getOobCode")]:[3,2];case 1:return i=l.sent(),[2,r(t,i)];case 2:return[2,r(t,e).catch(function(c){return S(o,void 0,void 0,function(){var h;return I(this,function(p){switch(p.label){case 0:return c.code!=="auth/".concat("missing-recaptcha-token")?[3,2]:(console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.")),[4,zg(t,e,n,n==="getOobCode")]);case 1:return h=p.sent(),[2,r(t,h)];case 2:return[2,Promise.reject(c)]}})})})]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(t,e){var n=ka(t,"auth");if(n.isInitialized()){var r=n.getImmediate(),s=n.getOptions();if(ul(s,e??{}))return r;Et(r,"already-initialized")}var i=n.initialize({options:e});return i}function kR(t,e){var n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(sn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ha=function(){function t(e,n){this.providerId=e,this.signInMethod=n}return t.prototype.toJSON=function(){return yn("not implemented")},t.prototype._getIdTokenResponse=function(e){return yn("not implemented")},t.prototype._linkToIdToken=function(e,n){return yn("not implemented")},t.prototype._getReauthenticationResolver=function(e){return yn("not implemented")},t}();function RR(t,e){return S(this,void 0,void 0,function(){return I(this,function(n){return[2,_r(t,"POST","/v1/accounts:signUp",e)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(t,e){return S(this,void 0,void 0,function(){return I(this,function(n){return[2,ss(t,"POST","/v1/accounts:signInWithPassword",mn(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(t,e){return S(this,void 0,void 0,function(){return I(this,function(n){return[2,ss(t,"POST","/v1/accounts:signInWithEmailLink",mn(t,e))]})})}function AR(t,e){return S(this,void 0,void 0,function(){return I(this,function(n){return[2,ss(t,"POST","/v1/accounts:signInWithEmailLink",mn(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){ge(e,t);function e(n,r,s,i){i===void 0&&(i=null);var o=t.call(this,"password",s)||this;return o._email=n,o._password=r,o._tenantId=i,o}return e._fromEmailAndPassword=function(n,r){return new e(n,r,"password")},e._fromEmailAndCode=function(n,r,s){return s===void 0&&(s=null),new e(n,r,"emailLink",s)},e.prototype.toJSON=function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}},e.fromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null},e.prototype._getIdTokenResponse=function(n){return S(this,void 0,void 0,function(){var r;return I(this,function(s){switch(this.signInMethod){case"password":return r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},[2,Wg(n,r,"signInWithPassword",PR)];case"emailLink":return[2,DR(n,{email:this._email,oobCode:this._password})];default:Et(n,"internal-error")}return[2]})})},e.prototype._linkToIdToken=function(n,r){return S(this,void 0,void 0,function(){var s;return I(this,function(i){switch(this.signInMethod){case"password":return s={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},[2,Wg(n,s,"signUpPassword",RR)];case"emailLink":return[2,AR(n,{idToken:r,email:this._email,oobCode:this._password})];default:Et(n,"internal-error")}return[2]})})},e.prototype._getReauthenticationResolver=function(n){return this._getIdTokenResponse(n)},e})(Ha);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(t,e){return S(this,void 0,void 0,function(){return I(this,function(n){return[2,ss(t,"POST","/v1/accounts:signInWithIdp",mn(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OR="http://localhost",zs=function(t){ge(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.pendingToken=null,n}return e._fromParams=function(n){var r=new e(n.providerId,n.signInMethod);return n.idToken||n.accessToken?(n.idToken&&(r.idToken=n.idToken),n.accessToken&&(r.accessToken=n.accessToken),n.nonce&&!n.pendingToken&&(r.nonce=n.nonce),n.pendingToken&&(r.pendingToken=n.pendingToken)):n.oauthToken&&n.oauthTokenSecret?(r.accessToken=n.oauthToken,r.secret=n.oauthTokenSecret):Et("argument-error"),r},e.prototype.toJSON=function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}},e.fromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n,s=r.providerId,i=r.signInMethod,o=Ra(r,["providerId","signInMethod"]);if(!s||!i)return null;var l=new e(s,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l},e.prototype._getIdTokenResponse=function(n){var r=this.buildRequest();return wn(n,r)},e.prototype._linkToIdToken=function(n,r){var s=this.buildRequest();return s.idToken=r,wn(n,s)},e.prototype._getReauthenticationResolver=function(n){var r=this.buildRequest();return r.autoCreate=!1,wn(n,r)},e.prototype.buildRequest=function(){var n={requestUri:OR,returnSecureToken:!0};if(this.pendingToken)n.pendingToken=this.pendingToken;else{var r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),n.postBody=Yr(r)}return n},e}(Ha);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gu;function MR(t,e){return S(this,void 0,void 0,function(){return I(this,function(n){return[2,ss(t,"POST","/v1/accounts:signInWithPhoneNumber",mn(t,e))]})})}function LR(t,e){return S(this,void 0,void 0,function(){var n;return I(this,function(r){switch(r.label){case 0:return[4,ss(t,"POST","/v1/accounts:signInWithPhoneNumber",mn(t,e))];case 1:if(n=r.sent(),n.temporaryProof)throw wi(t,"account-exists-with-different-credential",n);return[2,n]}})})}var FR=(gu={},gu.USER_NOT_FOUND="user-not-found",gu);function UR(t,e){return S(this,void 0,void 0,function(){var n;return I(this,function(r){return n=ue(ue({},e),{operation:"REAUTH"}),[2,ss(t,"POST","/v1/accounts:signInWithPhoneNumber",mn(t,n),FR)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){ge(e,t);function e(n){var r=t.call(this,"phone","phone")||this;return r.params=n,r}return e._fromVerification=function(n,r){return new e({verificationId:n,verificationCode:r})},e._fromTokenResponse=function(n,r){return new e({phoneNumber:n,temporaryProof:r})},e.prototype._getIdTokenResponse=function(n){return MR(n,this._makeVerificationRequest())},e.prototype._linkToIdToken=function(n,r){return LR(n,ue({idToken:r},this._makeVerificationRequest()))},e.prototype._getReauthenticationResolver=function(n){return UR(n,this._makeVerificationRequest())},e.prototype._makeVerificationRequest=function(){var n=this.params,r=n.temporaryProof,s=n.phoneNumber,i=n.verificationId,o=n.verificationCode;return r&&s?{temporaryProof:r,phoneNumber:s}:{sessionInfo:i,code:o}},e.prototype.toJSON=function(){var n={providerId:this.providerId};return this.params.phoneNumber&&(n.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(n.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(n.verificationCode=this.params.verificationCode),this.params.verificationId&&(n.verificationId=this.params.verificationId),n},e.fromJSON=function(n){typeof n=="string"&&(n=JSON.parse(n));var r=n,s=r.verificationId,i=r.verificationCode,o=r.phoneNumber,l=r.temporaryProof;return!i&&!s&&!o&&!l?null:new e({verificationId:s,verificationCode:i,phoneNumber:o,temporaryProof:l})},e})(Ha);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qm=function(){function t(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}return t.prototype.setDefaultLanguage=function(e){this.defaultLanguageCode=e},t.prototype.setCustomParameters=function(e){return this.customParameters=e,this},t.prototype.getCustomParameters=function(){return this.customParameters},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ri=function(t){ge(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.scopes=[],n}return e.prototype.addScope=function(n){return this.scopes.includes(n)||this.scopes.push(n),this},e.prototype.getScopes=function(){return Ft([],this.scopes,!0)},e}(Qm);(function(t){ge(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.credentialFromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n;return q("providerId"in r&&"signInMethod"in r,"argument-error"),zs._fromParams(r)},e.prototype.credential=function(n){return this._credential(ue(ue({},n),{nonce:n.rawNonce}))},e.prototype._credential=function(n){return q(n.idToken||n.accessToken,"argument-error"),zs._fromParams(ue(ue({},n),{providerId:this.providerId,signInMethod:this.providerId}))},e.credentialFromResult=function(n){return e.oauthCredentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.oauthCredentialFromTaggedObject(n.customData||{})},e.oauthCredentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var s=r,i=s.oauthIdToken,o=s.oauthAccessToken,l=s.oauthTokenSecret,c=s.pendingToken,h=s.nonce,p=s.providerId;if(!o&&!l&&!i&&!c||!p)return null;try{return new e(p)._credential({idToken:i,accessToken:o,nonce:h,pendingToken:c})}catch{return null}},e})(ri);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){ge(e,t);function e(){return t.call(this,"facebook.com")||this}return e.credential=function(n){return zs._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:n})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r||!("oauthAccessToken"in r)||!r.oauthAccessToken)return null;try{return e.credential(r.oauthAccessToken)}catch{return null}},e.FACEBOOK_SIGN_IN_METHOD="facebook.com",e.PROVIDER_ID="facebook.com",e})(ri);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){ge(e,t);function e(){var n=t.call(this,"google.com")||this;return n.addScope("profile"),n}return e.credential=function(n,r){return zs._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var s=r,i=s.oauthIdToken,o=s.oauthAccessToken;if(!i&&!o)return null;try{return e.credential(i,o)}catch{return null}},e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com",e})(ri);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){ge(e,t);function e(){return t.call(this,"github.com")||this}return e.credential=function(n){return zs._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:n})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r||!("oauthAccessToken"in r)||!r.oauthAccessToken)return null;try{return e.credential(r.oauthAccessToken)}catch{return null}},e.GITHUB_SIGN_IN_METHOD="github.com",e.PROVIDER_ID="github.com",e})(ri);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BR="http://localhost",Hg=function(t){ge(e,t);function e(n,r){var s=t.call(this,n,n)||this;return s.pendingToken=r,s}return e.prototype._getIdTokenResponse=function(n){var r=this.buildRequest();return wn(n,r)},e.prototype._linkToIdToken=function(n,r){var s=this.buildRequest();return s.idToken=r,wn(n,s)},e.prototype._getReauthenticationResolver=function(n){var r=this.buildRequest();return r.autoCreate=!1,wn(n,r)},e.prototype.toJSON=function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}},e.fromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n,s=r.providerId,i=r.signInMethod,o=r.pendingToken;return!s||!i||!o||s!==i?null:new e(s,o)},e._create=function(n,r){return new e(n,r)},e.prototype.buildRequest=function(){return{requestUri:BR,returnSecureToken:!0,pendingToken:this.pendingToken}},e}(Ha);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $R="saml.";(function(t){ge(e,t);function e(n){return q(n.startsWith($R),"argument-error"),t.call(this,n)||this}return e.credentialFromResult=function(n){return e.samlCredentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.samlCredentialFromTaggedObject(n.customData||{})},e.credentialFromJSON=function(n){var r=Hg.fromJSON(n);return q(r,"argument-error"),r},e.samlCredentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var s=r,i=s.pendingToken,o=s.providerId;if(!i||!o)return null;try{return Hg._create(o,i)}catch{return null}},e})(Qm);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){ge(e,t);function e(){return t.call(this,"twitter.com")||this}return e.credential=function(n,r){return zs._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:n,oauthTokenSecret:r})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var s=r,i=s.oauthAccessToken,o=s.oauthTokenSecret;if(!i||!o)return null;try{return e.credential(i,o)}catch{return null}},e.TWITTER_SIGN_IN_METHOD="twitter.com",e.PROVIDER_ID="twitter.com",e})(ri);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ym=function(){function t(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}return t._fromIdTokenResponse=function(e,n,r,s){return s===void 0&&(s=!1),S(this,void 0,void 0,function(){var i,o,l;return I(this,function(c){switch(c.label){case 0:return[4,Pl._fromIdTokenResponse(e,r,s)];case 1:return i=c.sent(),o=Gg(r),l=new t({user:i,providerId:o,_tokenResponse:r,operationType:n}),[2,l]}})})},t._forOperation=function(e,n,r){return S(this,void 0,void 0,function(){var s;return I(this,function(i){switch(i.label){case 0:return[4,e._updateTokensIfNecessary(r,!0)];case 1:return i.sent(),s=Gg(r),[2,new t({user:e,providerId:s,_tokenResponse:r,operationType:n})]}})})},t}();function Gg(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VR=function(t){ge(e,t);function e(n,r,s,i){var o=this,l;return o=t.call(this,r.code,r.message)||this,o.operationType=s,o.user=i,Object.setPrototypeOf(o,e.prototype),o.customData={appName:n.name,tenantId:(l=n.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:r.customData._serverResponse,operationType:s},o}return e._fromErrorAndOperation=function(n,r,s,i){return new e(n,r,s,i)},e}(Tt);function Hx(t,e,n,r){var s=e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t);return s.catch(function(i){throw i.code==="auth/".concat("multi-factor-auth-required")?VR._fromErrorAndOperation(t,i,e,r):i})}function qR(t,e,n){return n===void 0&&(n=!1),S(this,void 0,void 0,function(){var r,s,i,o,l,c;return I(this,function(h){switch(h.label){case 0:return s=wa,i=[t],l=(o=e)._linkToIdToken,c=[t.auth],[4,t.getIdToken()];case 1:return[4,s.apply(void 0,i.concat([l.apply(o,c.concat([h.sent()])),n]))];case 2:return r=h.sent(),[2,Ym._forOperation(t,"link",r)]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(t,e,n){return n===void 0&&(n=!1),S(this,void 0,void 0,function(){var r,s,i,o,l,c;return I(this,function(h){switch(h.label){case 0:if(r=t.auth,Ke(r.app))return[2,Promise.reject(Or(r))];s="reauthenticate",h.label=1;case 1:return h.trys.push([1,3,,4]),[4,wa(t,Hx(r,s,e,t),n)];case 2:return i=h.sent(),q(i.idToken,r,"internal-error"),o=Km(i.idToken),q(o,r,"internal-error"),l=o.sub,q(t.uid===l,r,"user-mismatch"),[2,Ym._forOperation(t,s,i)];case 3:throw c=h.sent(),(c==null?void 0:c.code)==="auth/".concat("user-not-found")&&Et(r,"user-mismatch"),c;case 4:return[2]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(t,e,n){return n===void 0&&(n=!1),S(this,void 0,void 0,function(){var r,s,i;return I(this,function(o){switch(o.label){case 0:return Ke(t.app)?[2,Promise.reject(Or(t))]:(r="signIn",[4,Hx(t,r,e)]);case 1:return s=o.sent(),[4,Ym._fromIdTokenResponse(t,r,s)];case 2:return i=o.sent(),n?[3,4]:[4,t._updateCurrentUser(i.user)];case 3:o.sent(),o.label=4;case 4:return[2,i]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gx=function(){function t(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return t._fromServerResponse=function(e,n){return"phoneInfo"in n?HR._fromServerResponse(e,n):"totpInfo"in n?GR._fromServerResponse(e,n):Et(e,"internal-error")},t}(),HR=function(t){ge(e,t);function e(n){var r=t.call(this,"phone",n)||this;return r.phoneNumber=n.phoneInfo,r}return e._fromServerResponse=function(n,r){return new e(r)},e}(Gx),GR=function(t){ge(e,t);function e(n){return t.call(this,"totp",n)||this}return e._fromServerResponse=function(n,r){return new e(r)},e}(Gx),Xm=function(){function t(e,n,r){r===void 0&&(r={}),this.isNewUser=e,this.providerId=n,this.profile=r}return t}(),Kx=function(t){ge(e,t);function e(n,r,s,i){var o=t.call(this,n,r,s)||this;return o.username=i,o}return e}(Xm);(function(t){ge(e,t);function e(n,r){return t.call(this,n,"facebook.com",r)||this}return e})(Xm);(function(t){ge(e,t);function e(n,r){return t.call(this,n,"github.com",r,typeof(r==null?void 0:r.login)=="string"?r==null?void 0:r.login:null)||this}return e})(Kx);(function(t){ge(e,t);function e(n,r){return t.call(this,n,"google.com",r)||this}return e})(Xm);(function(t){ge(e,t);function e(n,r,s){return t.call(this,n,"twitter.com",r,s)||this}return e})(Kx);var Kg="@firebase/auth",Jg="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KR=function(){function t(e){this.auth=e,this.internalListeners=new Map}return t.prototype.getUid=function(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null},t.prototype.getToken=function(e){return S(this,void 0,void 0,function(){var n;return I(this,function(r){switch(r.label){case 0:return this.assertAuthConfigured(),[4,this.auth._initializationPromise];case 1:return r.sent(),this.auth.currentUser?[4,this.auth.currentUser.getIdToken(e)]:[2,null];case 2:return n=r.sent(),[2,{accessToken:n}]}})})},t.prototype.addAuthTokenListener=function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var n=this.auth.onIdTokenChanged(function(r){e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}},t.prototype.removeAuthTokenListener=function(e){this.assertAuthConfigured();var n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())},t.prototype.assertAuthConfigured=function(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")},t.prototype.updateProactiveRefresh=function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QR(t){Xt(new vt("auth",function(e,n){var r=n.options,s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),l=s.options,c=l.apiKey,h=l.authDomain;q(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});var p={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zx(t)},f=new wR(s,i,o,p);return kR(f,r),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,n,r){var s=e.getProvider("auth-internal");s.initialize()})),Xt(new vt("auth-internal",function(e){var n=Jm(e.getProvider("auth").getImmediate());return function(r){return new KR(r)}(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),at(Kg,Jg,JR(t)),at(Kg,Jg,"esm5")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jx=function(){function t(e,n){this.storageRetriever=e,this.type=n}return t.prototype._isAvailable=function(){try{return this.storage?(this.storage.setItem(Tl,"1"),this.storage.removeItem(Tl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}},t.prototype._set=function(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()},t.prototype._get=function(e){var n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)},t.prototype._remove=function(e){return this.storage.removeItem(e),Promise.resolve()},Object.defineProperty(t.prototype,"storage",{get:function(){return this.storageRetriever()},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(){var t=pe();return Bx(t)||Nc(t)}var XR=1e3,ZR=10,eP=function(t){ge(e,t);function e(){var n=t.call(this,function(){return window.localStorage},"LOCAL")||this;return n.boundEventHandler=function(r,s){return n.onStorageEvent(r,s)},n.listeners={},n.localCache={},n.pollTimer=null,n.safariLocalStorageNotSynced=YR()&&_R(),n.fallbackToPolling=vR(),n._shouldAllowMigration=!0,n}return e.prototype.forAllChangedKeys=function(n){for(var r=0,s=Object.keys(this.listeners);r<s.length;r++){var i=s[r],o=this.storage.getItem(i),l=this.localCache[i];o!==l&&n(i,l,o)}},e.prototype.onStorageEvent=function(n,r){var s=this;if(r===void 0&&(r=!1),!n.key){this.forAllChangedKeys(function(h,p,f){s.notifyListeners(h,f)});return}var i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var o=this.storage.getItem(i);if(n.newValue!==o)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}var l=function(){var h=s.storage.getItem(i);!r&&s.localCache[i]===h||s.notifyListeners(i,h)},c=this.storage.getItem(i);gR()&&c!==n.newValue&&n.newValue!==n.oldValue?setTimeout(l,ZR):l()},e.prototype.notifyListeners=function(n,r){this.localCache[n]=r;var s=this.listeners[n];if(s)for(var i=0,o=Array.from(s);i<o.length;i++){var l=o[i];l(r&&JSON.parse(r))}},e.prototype.startPolling=function(){var n=this;this.stopPolling(),this.pollTimer=setInterval(function(){n.forAllChangedKeys(function(r,s,i){n.onStorageEvent(new StorageEvent("storage",{key:r,oldValue:s,newValue:i}),!0)})},XR)},e.prototype.stopPolling=function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)},e.prototype.attachListener=function(){window.addEventListener("storage",this.boundEventHandler)},e.prototype.detachListener=function(){window.removeEventListener("storage",this.boundEventHandler)},e.prototype._addListener=function(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)},e.prototype._removeListener=function(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())},e.prototype._set=function(n,r){return S(this,void 0,void 0,function(){return I(this,function(s){switch(s.label){case 0:return[4,t.prototype._set.call(this,n,r)];case 1:return s.sent(),this.localCache[n]=JSON.stringify(r),[2]}})})},e.prototype._get=function(n){return S(this,void 0,void 0,function(){var r;return I(this,function(s){switch(s.label){case 0:return[4,t.prototype._get.call(this,n)];case 1:return r=s.sent(),this.localCache[n]=JSON.stringify(r),[2,r]}})})},e.prototype._remove=function(n){return S(this,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return[4,t.prototype._remove.call(this,n)];case 1:return r.sent(),delete this.localCache[n],[2]}})})},e.type="LOCAL",e}(Jx),tP=eP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nP=function(t){ge(e,t);function e(){return t.call(this,function(){return window.sessionStorage},"SESSION")||this}return e.prototype._addListener=function(n,r){},e.prototype._removeListener=function(n,r){},e.type="SESSION",e}(Jx),rP=nP;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(t,e){return e?sn(e):(q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zm=function(t){ge(e,t);function e(n){var r=t.call(this,"custom","custom")||this;return r.params=n,r}return e.prototype._getIdTokenResponse=function(n){return wn(n,this._buildIdpRequest())},e.prototype._linkToIdToken=function(n,r){return wn(n,this._buildIdpRequest(r))},e.prototype._getReauthenticationResolver=function(n){return wn(n,this._buildIdpRequest())},e.prototype._buildIdpRequest=function(n){var r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return n&&(r.idToken=n),r},e}(Ha);function iP(t){return WR(t.auth,new Zm(t),t.bypassAuthState)}function aP(t){var e=t.auth,n=t.user;return q(n,e,"internal-error"),zR(n,new Zm(t),t.bypassAuthState)}function oP(t){return S(this,void 0,void 0,function(){var e,n;return I(this,function(r){return e=t.auth,n=t.user,q(n,e,"internal-error"),[2,qR(n,new Zm(t),t.bypassAuthState)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lP=function(){function t(e,n,r,s,i){i===void 0&&(i=!1),this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return t.prototype.execute=function(){var e=this;return new Promise(function(n,r){return S(e,void 0,void 0,function(){var s,i;return I(this,function(o){switch(o.label){case 0:this.pendingPromise={resolve:n,reject:r},o.label=1;case 1:return o.trys.push([1,4,,5]),s=this,[4,this.resolver._initialize(this.auth)];case 2:return s.eventManager=o.sent(),[4,this.onExecution()];case 3:return o.sent(),this.eventManager.registerConsumer(this),[3,5];case 4:return i=o.sent(),this.reject(i),[3,5];case 5:return[2]}})})})},t.prototype.onAuthEvent=function(e){return S(this,void 0,void 0,function(){var n,r,s,i,o,l,c,h,p;return I(this,function(f){switch(f.label){case 0:if(n=e.urlResponse,r=e.sessionId,s=e.postBody,i=e.tenantId,o=e.error,l=e.type,o)return this.reject(o),[2];c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState},f.label=1;case 1:return f.trys.push([1,3,,4]),h=this.resolve,[4,this.getIdpTask(l)(c)];case 2:return h.apply(this,[f.sent()]),[3,4];case 3:return p=f.sent(),this.reject(p),[3,4];case 4:return[2]}})})},t.prototype.onError=function(e){this.reject(e)},t.prototype.getIdpTask=function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iP;case"linkViaPopup":case"linkViaRedirect":return oP;case"reauthViaPopup":case"reauthViaRedirect":return aP;default:Et(this.auth,"internal-error")}},t.prototype.resolve=function(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()},t.prototype.reject=function(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()},t.prototype.unregisterAndCleanUp=function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cP="pendingRedirect",Bi=new Map,uP=function(t){ge(e,t);function e(n,r,s){s===void 0&&(s=!1);var i=t.call(this,n,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,s)||this;return i.eventId=null,i}return e.prototype.execute=function(){return S(this,void 0,void 0,function(){var n,r,s,i,o;return I(this,function(l){switch(l.label){case 0:if(n=Bi.get(this.auth._key()),n)return[3,8];l.label=1;case 1:return l.trys.push([1,6,,7]),[4,dP(this.resolver,this.auth)];case 2:return r=l.sent(),r?[4,t.prototype.execute.call(this)]:[3,4];case 3:return i=l.sent(),[3,5];case 4:i=null,l.label=5;case 5:return s=i,n=function(){return Promise.resolve(s)},[3,7];case 6:return o=l.sent(),n=function(){return Promise.reject(o)},[3,7];case 7:Bi.set(this.auth._key(),n),l.label=8;case 8:return this.bypassAuthState||Bi.set(this.auth._key(),function(){return Promise.resolve(null)}),[2,n()]}})})},e.prototype.onAuthEvent=function(n){return S(this,void 0,void 0,function(){var r;return I(this,function(s){switch(s.label){case 0:return n.type==="signInViaRedirect"?[2,t.prototype.onAuthEvent.call(this,n)]:n.type==="unknown"?(this.resolve(null),[2]):n.eventId?[4,this.auth._redirectUserForId(n.eventId)]:[3,2];case 1:if(r=s.sent(),r)return this.user=r,[2,t.prototype.onAuthEvent.call(this,n)];this.resolve(null),s.label=2;case 2:return[2]}})})},e.prototype.onExecution=function(){return S(this,void 0,void 0,function(){return I(this,function(n){return[2]})})},e.prototype.cleanUp=function(){},e}(lP);function dP(t,e){return S(this,void 0,void 0,function(){var n,r,s;return I(this,function(i){switch(i.label){case 0:return n=pP(e),r=fP(t),[4,r._isAvailable()];case 1:return i.sent()?[4,r._get(n)]:[2,!1];case 2:return s=i.sent()==="true",[4,r._remove(n)];case 3:return i.sent(),[2,s]}})})}function hP(){Bi.clear()}function mP(t,e){Bi.set(t._key(),e)}function fP(t){return sn(t._redirectPersistence)}function pP(t){return Ui(cP,t.config.apiKey,t.name)}function gP(t,e,n){return n===void 0&&(n=!1),S(this,void 0,void 0,function(){var r,s,i,o;return I(this,function(l){switch(l.label){case 0:return Ke(t.app)?[2,Promise.reject(Or(t))]:(r=Jm(t),s=sP(r,e),i=new uP(r,s,n),[4,i.execute()]);case 1:return o=l.sent(),o&&!n?(delete o.user._redirectEventId,[4,r._persistUserIfCurrent(o.user)]):[3,4];case 2:return l.sent(),[4,r._setRedirectUser(null,e)];case 3:l.sent(),l.label=4;case 4:return[2,o]}})})}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vP="__/auth/handler",_P="emulator/auth/handler",bP=encodeURIComponent("fac");function yP(t,e,n,r,s,i){return S(this,void 0,void 0,function(){var o,l,c,h,N,p,f,d,g,y,N,E,b;return I(this,function(_){switch(_.label){case 0:if(q(t.config.authDomain,t,"auth-domain-config-required"),q(t.config.apiKey,t,"invalid-api-key"),o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Zt,eventId:s},e instanceof Qm)for(e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",ll(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters())),l=0,c=Object.entries(i||{});l<c.length;l++)h=c[l],N=h[0],p=h[1],o[N]=p;for(e instanceof ri&&(f=e.getScopes().filter(function(x){return x!==""}),f.length>0&&(o.scopes=f.join(","))),t.tenantId&&(o.tid=t.tenantId),d=o,g=0,y=Object.keys(d);g<y.length;g++)N=y[g],d[N]===void 0&&delete d[N];return[4,t._getAppCheckToken()];case 1:return E=_.sent(),b=E?"#".concat(bP,"=").concat(encodeURIComponent(E)):"",[2,"".concat(xP(t),"?").concat(Yr(d).slice(1)).concat(b)]}})})}function xP(t){var e=t.config;return e.emulator?Ax(e,_P):"https://".concat(e.authDomain,"/").concat(vP)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(t,e){return e===void 0&&(e={}),S(this,void 0,void 0,function(){return I(this,function(n){return[2,_r(t,"GET","/v1/projects",e)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wP=2e3;function jP(t,e,n){var r;return S(this,void 0,void 0,function(){var s,i,o;return I(this,function(l){switch(l.label){case 0:return s=Gr().BuildInfo,dr(e.sessionId,"AuthEvent did not contain a session ID"),[4,TP(e.sessionId)];case 1:return i=l.sent(),o={},Nc()?o.ibi=s.packageName:Wa()?o.apn=s.packageName:Et(t,"operation-not-supported-in-this-environment"),s.displayName&&(o.appDisplayName=s.displayName),o.sessionId=i,[2,yP(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)]}})})}function CP(t){return S(this,void 0,void 0,function(){var e,n;return I(this,function(r){switch(r.label){case 0:return e=Gr().BuildInfo,n={},Nc()?n.iosBundleId=e.packageName:Wa()?n.androidPackageName=e.packageName:Et(t,"operation-not-supported-in-this-environment"),[4,NP(t,n)];case 1:return r.sent(),[2]}})})}function EP(t){var e=Gr().cordova;return new Promise(function(n){e.plugins.browsertab.isAvailable(function(r){var s=null;r?e.plugins.browsertab.openUrl(t):s=e.InAppBrowser.open(t,pR()?"_blank":"_system","location=yes"),n(s)})})}function SP(t,e,n){return S(this,void 0,void 0,function(){var r,s;return I(this,function(i){switch(i.label){case 0:r=Gr().cordova,s=function(){},i.label=1;case 1:return i.trys.push([1,,3,4]),[4,new Promise(function(o,l){var c=null;function h(){var d;o();var g=(d=r.plugins.browsertab)===null||d===void 0?void 0:d.close;typeof g=="function"&&g(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function p(){c||(c=window.setTimeout(function(){l(rs(t,"redirect-cancelled-by-user"))},wP))}function f(){(document==null?void 0:document.visibilityState)==="visible"&&p()}e.addPassiveListener(h),document.addEventListener("resume",p,!1),Wa()&&document.addEventListener("visibilitychange",f,!1),s=function(){e.removePassiveListener(h),document.removeEventListener("resume",p,!1),document.removeEventListener("visibilitychange",f,!1),c&&window.clearTimeout(c)}})];case 2:return i.sent(),[3,4];case 3:return s(),[7];case 4:return[2]}})})}function IP(t){var e,n,r,s,i,o,l,c,h,p,f=Gr();q(typeof((e=f==null?void 0:f.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),q(typeof((n=f==null?void 0:f.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),q(typeof((i=(s=(r=f==null?void 0:f.cordova)===null||r===void 0?void 0:r.plugins)===null||s===void 0?void 0:s.browsertab)===null||i===void 0?void 0:i.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q(typeof((c=(l=(o=f==null?void 0:f.cordova)===null||o===void 0?void 0:o.plugins)===null||l===void 0?void 0:l.browsertab)===null||c===void 0?void 0:c.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q(typeof((p=(h=f==null?void 0:f.cordova)===null||h===void 0?void 0:h.InAppBrowser)===null||p===void 0?void 0:p.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function TP(t){return S(this,void 0,void 0,function(){var e,n,r;return I(this,function(s){switch(s.label){case 0:return e=kP(t),[4,crypto.subtle.digest("SHA-256",e)];case 1:return n=s.sent(),r=Array.from(new Uint8Array(n)),[2,r.map(function(i){return i.toString(16).padStart(2,"0")}).join("")]}})})}function kP(t){if(dr(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RP=10*60*1e3,PP=function(){function t(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return t.prototype.registerConsumer=function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)},t.prototype.unregisterConsumer=function(e){this.consumers.delete(e)},t.prototype.onEvent=function(e){var n=this;if(this.hasEventBeenHandled(e))return!1;var r=!1;return this.consumers.forEach(function(s){n.isEventForConsumer(e,s)&&(r=!0,n.sendToConsumer(e,s),n.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DP(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r},t.prototype.sendToConsumer=function(e,n){var r;if(e.error&&!Qx(e)){var s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(rs(this.auth,s))}else n.onAuthEvent(e)},t.prototype.isEventForConsumer=function(e,n){var r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r},t.prototype.hasEventBeenHandled=function(e){return Date.now()-this.lastProcessedEventTime>=RP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qg(e))},t.prototype.saveEventToCache=function(e){this.cachedEventUids.add(Qg(e)),this.lastProcessedEventTime=Date.now()},t}();function Qg(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(function(e){return e}).join("-")}function Qx(t){var e=t.type,n=t.error;return e==="unknown"&&(n==null?void 0:n.code)==="auth/".concat("no-auth-event")}function DP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qx(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AP=20,OP=function(t){ge(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.passiveListeners=new Set,n.initPromise=new Promise(function(r){n.resolveInialized=r}),n}return e.prototype.addPassiveListener=function(n){this.passiveListeners.add(n)},e.prototype.removePassiveListener=function(n){this.passiveListeners.delete(n)},e.prototype.resetRedirect=function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1},e.prototype.onEvent=function(n){return this.resolveInialized(),this.passiveListeners.forEach(function(r){return r(n)}),t.prototype.onEvent.call(this,n)},e.prototype.initialized=function(){return S(this,void 0,void 0,function(){return I(this,function(n){switch(n.label){case 0:return[4,this.initPromise];case 1:return n.sent(),[2]}})})},e}(PP);function MP(t,e,n){return n===void 0&&(n=null),{type:e,eventId:n,urlResponse:null,sessionId:UP(),postBody:null,tenantId:t.tenantId,error:rs(t,"no-auth-event")}}function LP(t,e){return Yd()._set(Xd(t),e)}function Yg(t){return S(this,void 0,void 0,function(){var e;return I(this,function(n){switch(n.label){case 0:return[4,Yd()._get(Xd(t))];case 1:return e=n.sent(),e?[4,Yd()._remove(Xd(t))]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2,e]}})})}function FP(t,e){var n,r,s=$P(e);if(s.includes("/__/auth/callback")){var i=Ao(s),o=i.firebaseError?BP(decodeURIComponent(i.firebaseError)):null,l=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],c=l?rs(l):null;return c?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:c,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:s,postBody:null}}return null}function UP(){for(var t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<AP;n++){var r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function Yd(){return sn(tP)}function Xd(t){return Ui("authEvent",t.config.apiKey,t.name)}function BP(t){try{return JSON.parse(t)}catch{return null}}function $P(t){var e=Ao(t),n=e.link?decodeURIComponent(e.link):void 0,r=Ao(n).link,s=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0,i=Ao(s).link;return i||s||r||n||t}function Ao(t){if(!(t!=null&&t.includes("?")))return{};var e=t.split("?");e[0];var n=e.slice(1);return ys(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VP=500,qP=function(){function t(){this._redirectPersistence=rP,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=gP,this._overrideRedirectResult=mP}return t.prototype._initialize=function(e){return S(this,void 0,void 0,function(){var n,r;return I(this,function(s){return n=e._key(),r=this.eventManagers.get(n),r||(r=new OP(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),[2,r]})})},t.prototype._openPopup=function(e){Et(e,"operation-not-supported-in-this-environment")},t.prototype._openRedirect=function(e,n,r,s){return S(this,void 0,void 0,function(){var i,o,l,c;return I(this,function(h){switch(h.label){case 0:return IP(e),[4,this._initialize(e)];case 1:return i=h.sent(),[4,i.initialized()];case 2:return h.sent(),i.resetRedirect(),hP(),[4,this._originValidation(e)];case 3:return h.sent(),o=MP(e,r,s),[4,LP(e,o)];case 4:return h.sent(),[4,jP(e,o,n)];case 5:return l=h.sent(),[4,EP(l)];case 6:return c=h.sent(),[2,SP(e,i,c)]}})})},t.prototype._isIframeWebStorageSupported=function(e,n){throw new Error("Method not implemented.")},t.prototype._originValidation=function(e){var n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CP(e)),this.originValidationPromises[n]},t.prototype.attachCallbackListeners=function(e,n){var r=this,s=Gr(),i=s.universalLinks,o=s.handleOpenURL,l=s.BuildInfo,c=setTimeout(function(){return S(r,void 0,void 0,function(){return I(this,function(d){switch(d.label){case 0:return[4,Yg(e)];case 1:return d.sent(),n.onEvent(Xg()),[2]}})})},VP),h=function(d){return S(r,void 0,void 0,function(){var g,y;return I(this,function(N){switch(N.label){case 0:return clearTimeout(c),[4,Yg(e)];case 1:return g=N.sent(),y=null,g&&(d!=null&&d.url)&&(y=FP(g,d.url)),n.onEvent(y||Xg()),[2]}})})};typeof i<"u"&&typeof i.subscribe=="function"&&i.subscribe(null,h);var p=o,f="".concat(l.packageName.toLowerCase(),"://");Gr().handleOpenURL=function(d){return S(r,void 0,void 0,function(){return I(this,function(g){if(d.toLowerCase().startsWith(f)&&h({url:d}),typeof p=="function")try{p(d)}catch(y){console.error(y)}return[2]})})}},t}(),zP=qP;function Xg(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:rs("no-auth-event")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(t){t===void 0&&(t=am());var e=ka(t,"auth");return e.isInitialized()?e.getImmediate():TR(t,{persistence:W1,popupRedirectResolver:zP})}QR("Cordova");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx="firebasestorage.googleapis.com",Xx="storageBucket",HP=2*60*1e3,GP=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we extends Tt{constructor(e,n,r=0){super(vu(e),`Firebase Storage: ${n} (${vu(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,we.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return vu(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ne;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ne||(Ne={}));function vu(t){return"storage/"+t}function ef(){const t="An unknown error occurred, please check the error payload for server response.";return new we(Ne.UNKNOWN,t)}function KP(t){return new we(Ne.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function JP(t){return new we(Ne.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function QP(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new we(Ne.UNAUTHENTICATED,t)}function YP(){return new we(Ne.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function XP(t){return new we(Ne.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function ZP(){return new we(Ne.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function eD(){return new we(Ne.CANCELED,"User canceled the upload/download.")}function tD(t){return new we(Ne.INVALID_URL,"Invalid URL '"+t+"'.")}function nD(t){return new we(Ne.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function rD(){return new we(Ne.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Xx+"' property when initializing the app?")}function sD(){return new we(Ne.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function iD(){return new we(Ne.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function aD(t){return new we(Ne.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Zd(t){return new we(Ne.INVALID_ARGUMENT,t)}function Zx(){return new we(Ne.APP_DELETED,"The Firebase app was deleted.")}function oD(t){return new we(Ne.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function $i(t,e){return new we(Ne.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function gi(t){throw new we(Ne.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=xt.makeFromUrl(e,n)}catch{return new xt(e,"")}if(r.path==="")return r;throw nD(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function h(C){C.path_=decodeURIComponent(C.path)}const p="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",g=new RegExp(`^https?://${f}/${p}/b/${s}/o${d}`,"i"),y={bucket:1,path:3},N=n===Yx?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",b=new RegExp(`^https?://${N}/${s}/${E}`,"i"),x=[{regex:l,indices:c,postModify:i},{regex:g,indices:y,postModify:h},{regex:b,indices:{bucket:1,path:2},postModify:h}];for(let C=0;C<x.length;C++){const v=x[C],k=v.regex.exec(e);if(k){const R=k[v.indices.bucket];let P=k[v.indices.path];P||(P=""),r=new xt(R,P),v.postModify(r);break}}if(r==null)throw tD(e);return r}}class lD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(t,e,n){let r=1,s=null,i=null,o=!1,l=0;function c(){return l===2}let h=!1;function p(...E){h||(h=!0,e.apply(null,E))}function f(E){s=setTimeout(()=>{s=null,t(g,c())},E)}function d(){i&&clearTimeout(i)}function g(E,...b){if(h){d();return}if(E){d(),p.call(null,E,...b);return}if(c()||o){d(),p.call(null,E,...b);return}r<64&&(r*=2);let x;l===1?(l=2,x=0):x=(r+Math.random())*1e3,f(x)}let y=!1;function N(E){y||(y=!0,d(),!h&&(s!==null?(E||(l=2),clearTimeout(s),f(0)):E||(l=1)))}return f(0),i=setTimeout(()=>{o=!0,N(!0)},n),N}function uD(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(t){return t!==void 0}function hD(t){return typeof t=="object"&&!Array.isArray(t)}function tf(t){return typeof t=="string"||t instanceof String}function Zg(t){return nf()&&t instanceof Blob}function nf(){return typeof Blob<"u"}function ev(t,e,n,r){if(r<e)throw Zd(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Zd(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function eN(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mr;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Mr||(Mr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,n,r,s,i,o,l,c,h,p,f,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,y)=>{this.resolve_=g,this.reject_=y,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new go(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=l=>{const c=l.loaded,h=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,h)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const l=i.getErrorCode()===Mr.NO_ERROR,c=i.getStatus();if(!l||mD(c,this.additionalRetryCodes_)&&this.retry){const p=i.getErrorCode()===Mr.ABORT;r(!1,new go(!1,null,p));return}const h=this.successCodes_.indexOf(c)!==-1;r(!0,new go(h,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());dD(c)?i(c):i()}catch(c){o(c)}else if(l!==null){const c=ef();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(s.canceled){const c=this.appDelete_?Zx():eD();o(c)}else{const c=ZP();o(c)}};this.canceled_?n(!1,new go(!1,null,!0)):this.backoffId_=cD(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&uD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class go{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function pD(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function gD(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function vD(t,e){e&&(t["X-Firebase-GMPID"]=e)}function _D(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function bD(t,e,n,r,s,i,o=!0){const l=eN(t.urlParams),c=t.url+l,h=Object.assign({},t.headers);return vD(h,e),pD(h,n),gD(h,i),_D(h,r),new fD(c,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function xD(...t){const e=yD();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(nf())return new Blob(t);throw new we(Ne.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function ND(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(t){if(typeof atob>"u")throw aD("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class _u{constructor(e,n){this.data=e,this.contentType=n||null}}function jD(t,e){switch(t){case an.RAW:return new _u(tN(e));case an.BASE64:case an.BASE64URL:return new _u(nN(t,e));case an.DATA_URL:return new _u(ED(e),SD(e))}throw ef()}function tN(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function CD(t){let e;try{e=decodeURIComponent(t)}catch{throw $i(an.DATA_URL,"Malformed data URL.")}return tN(e)}function nN(t,e){switch(t){case an.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw $i(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case an.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw $i(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=wD(e)}catch(s){throw s.message.includes("polyfill")?s:$i(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class rN{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw $i(an.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=ID(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function ED(t){const e=new rN(t);return e.base64?nN(an.BASE64,e.rest):CD(e.rest)}function SD(t){return new rN(t).contentType}function ID(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,n){let r=0,s="";Zg(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(Zg(this.data_)){const r=this.data_,s=ND(r,e,n);return s===null?null:new Ln(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ln(r,!0)}}static getBlob(...e){if(nf()){const n=e.map(r=>r instanceof Ln?r.data_:r);return new Ln(xD.apply(null,n))}else{const n=e.map(o=>tf(o)?jD(an.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)s[i++]=o[l]}),new Ln(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(t){let e;try{e=JSON.parse(t)}catch{return null}return hD(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function kD(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function iN(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(t,e){return e}class nt{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||RD}}let vo=null;function PD(t){return!tf(t)||t.length<2?t:iN(t)}function aN(){if(vo)return vo;const t=[];t.push(new nt("bucket")),t.push(new nt("generation")),t.push(new nt("metageneration")),t.push(new nt("name","fullPath",!0));function e(i,o){return PD(o)}const n=new nt("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new nt("size");return s.xform=r,t.push(s),t.push(new nt("timeCreated")),t.push(new nt("updated")),t.push(new nt("md5Hash",null,!0)),t.push(new nt("cacheControl",null,!0)),t.push(new nt("contentDisposition",null,!0)),t.push(new nt("contentEncoding",null,!0)),t.push(new nt("contentLanguage",null,!0)),t.push(new nt("contentType",null,!0)),t.push(new nt("metadata","customMetadata",!0)),vo=t,vo}function DD(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new xt(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function AD(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return DD(r,t),r}function oN(t,e,n){const r=sN(e);return r===null?null:AD(t,r,n)}function OD(t,e,n,r){const s=sN(e);if(s===null||!tf(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(h=>{const p=t.bucket,f=t.fullPath,d="/b/"+o(p)+"/o/"+o(f),g=rf(d,n,r),y=eN({alt:"media",token:h});return g+y})[0]}function MD(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class lN{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(t){if(!t)throw ef()}function LD(t,e){function n(r,s){const i=oN(t,s,e);return cN(i!==null),i}return n}function FD(t,e){function n(r,s){const i=oN(t,s,e);return cN(i!==null),OD(i,s,t.host,t._protocol)}return n}function uN(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=YP():s=QP():n.getStatus()===402?s=JP(t.bucket):n.getStatus()===403?s=XP(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function UD(t){const e=uN(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=KP(t.path)),i.serverResponse=s.serverResponse,i}return n}function BD(t,e,n){const r=e.fullServerUrl(),s=rf(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,l=new lN(s,i,FD(t,n),o);return l.errorHandler=UD(e),l}function $D(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function VD(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=$D(null,e)),r}function qD(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let x="";for(let C=0;C<2;C++)x=x+Math.random().toString().slice(2);return x}const c=l();o["Content-Type"]="multipart/related; boundary="+c;const h=VD(e,r,s),p=MD(h,n),f="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+c+`\r
Content-Type: `+h.contentType+`\r
\r
`,d=`\r
--`+c+"--",g=Ln.getBlob(f,r,d);if(g===null)throw sD();const y={name:h.fullPath},N=rf(i,t.host,t._protocol),E="POST",b=t.maxUploadRetryTime,_=new lN(N,E,LD(t,n),b);return _.urlParams=y,_.headers=o,_.body=g.uploadData(),_.errorHandler=uN(e),_}class zD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Mr.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Mr.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Mr.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw gi("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw gi("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw gi("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw gi("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw gi("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class WD extends zD{initXhr(){this.xhr_.responseType="text"}}function dN(){return new WD}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,n){this._service=e,n instanceof xt?this._location=n:this._location=xt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Kr(e,n)}get root(){const e=new xt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return iN(this._location.path)}get storage(){return this._service}get parent(){const e=TD(this._location.path);if(e===null)return null;const n=new xt(this._location.bucket,e);return new Kr(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw oD(e)}}function HD(t,e,n){t._throwIfRoot("uploadBytes");const r=qD(t.storage,t._location,aN(),new Ln(e,!0),n);return t.storage.makeRequestWithTokens(r,dN).then(s=>({metadata:s,ref:t}))}function GD(t){t._throwIfRoot("getDownloadURL");const e=BD(t.storage,t._location,aN());return t.storage.makeRequestWithTokens(e,dN).then(n=>{if(n===null)throw iD();return n})}function KD(t,e){const n=kD(t._location.path,e),r=new xt(t._location.bucket,n);return new Kr(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(t){return/^[A-Za-z]+:\/\//.test(t)}function QD(t,e){return new Kr(t,e)}function hN(t,e){if(t instanceof sf){const n=t;if(n._bucket==null)throw rD();const r=new Kr(n,n._bucket);return e!=null?hN(r,e):r}else return e!==void 0?KD(t,e):t}function YD(t,e){if(e&&JD(e)){if(t instanceof sf)return QD(t,e);throw Zd("To use ref(service, url), the first argument must be a Storage instance.")}else return hN(t,e)}function tv(t,e){const n=e==null?void 0:e[Xx];return n==null?null:xt.makeFromBucketSpec(n,t)}function XD(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:Ab(s,t.app.options.projectId))}class sf{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=Yx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=HP,this._maxUploadRetryTime=GP,this._requests=new Set,s!=null?this._bucket=xt.makeFromBucketSpec(s,this._host):this._bucket=tv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=xt.makeFromBucketSpec(this._url,e):this._bucket=tv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ev("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ev("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Kr(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new lD(Zx());{const o=bD(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const nv="@firebase/storage",rv="0.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN="storage";function Pe(t,e,n){return t=se(t),HD(t,e,n)}function De(t){return t=se(t),GD(t)}function Ae(t,e){return t=se(t),YD(t,e)}function ZD(t=am(),e){t=se(t);const r=ka(t,mN).getImmediate({identifier:e}),s=Xj("storage");return s&&eA(r,...s),r}function eA(t,e,n,r={}){XD(t,e,n,r)}function tA(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new sf(n,r,s,e,Zt)}function nA(){Xt(new vt(mN,tA,"PUBLIC").setMultipleInstances(!0)),at(nv,rv,""),at(nv,rv,"esm2017")}nA();const rA={apiKey:"AIzaSyBbkWAxTWNTDHDfVqBbXOW0_8UtbhGAgzE",authDomain:"hostel-aab47.firebaseapp.com",projectId:"hostel-aab47",storageBucket:"hostel-aab47.appspot.com",messagingSenderId:"183580222805",appId:"1:183580222805:web:bbba1193174606891afbdc",measurementId:"G-Y87BHYEC41"};var fN=ec.initializeApp(rA);ec.firestore;const Oe=ZD(fN),Dl=WP(),T=fN.database().ref();function sA(){const[t,e]=w.useState({email:"",password:"",password2:""}),[n,r]=w.useState(!1),[s,i]=w.useState(""),{email:o,password:l,password2:c}=t,h=d=>{e({...t,[d.target.name]:d.target.value})},p=he(),f=d=>{d.preventDefault();try{_S(Dl,o,l),r(!0),i(""),console.log("Signup Suceess");const g=Dl.currentUser;console.log(g),setTimeout(()=>{p("/login")},2e3)}catch(g){i(g.message),r(!1),console.log(g.message)}};return a.jsx("div",{className:"container p-5 mt-5",children:a.jsx("div",{className:"row justify-content-center",children:a.jsx("div",{className:"col-md-6 col-lg-5",children:a.jsx("div",{className:"border-top border-primary border-3 rounded-3",children:a.jsxs("div",{className:"card p-3",children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("h2",{children:"Sign Up"}),a.jsx("hr",{})]}),a.jsxs("form",{onSubmit:f,children:[a.jsxs("div",{className:"input-group mb-2",children:[a.jsx("input",{type:"email",name:"email",className:"form-control",placeholder:"Email","aria-describedby":"addon-wrapping",value:o,onChange:h,required:!0}),a.jsx("span",{className:"input-group-text",id:"addon-wrapping",children:a.jsx("i",{className:"fa-solid fa-user"})})]}),a.jsxs("div",{className:"input-group mt-3",children:[a.jsx("input",{type:"password",name:"password",className:"form-control",value:l,placeholder:"Password","aria-label":"Password","aria-describedby":"addon-wrapping",onChange:h,required:!0}),a.jsx("span",{className:"input-group-text",id:"addon-wrapping",children:a.jsx("i",{className:"fa-solid fa-lock"})})]}),a.jsxs("div",{className:"input-group mt-3",children:[a.jsx("input",{type:"password",name:"password2",className:"form-control",value:c,placeholder:"Confirm Password",onChange:h,required:!0}),a.jsx("span",{className:"input-group-text",children:a.jsx("i",{className:"fa-solid fa-lock"})})]}),a.jsxs("div",{className:"mt-3 d-flex justify-content-between align-items-center",children:[a.jsx("a",{href:"/login",children:"Go to Login"}),a.jsx("button",{className:"btn btn-primary",type:"submit",children:"Sign Up"})]})]}),n&&a.jsx("div",{className:"alert alert-success mt-3",children:"Login successful! Redirecting..."}),s&&a.jsx("div",{className:"alert alert-danger mt-3",children:s})]})})})})})}const af="userToken",iA=()=>{localStorage.setItem(af,"s-usc1a-nss-2020.firebaseio.com")},aA=()=>{localStorage.removeItem(af)},pN=()=>!!localStorage.getItem(af);function sv(){const[t,e]=w.useState({email:"",password:""}),[n,r]=w.useState(!1),[s,i]=w.useState(""),{email:o,password:l}=t,c=he(),h=f=>{e({...t,[f.target.name]:f.target.value})},p=async f=>{f.preventDefault();try{await bS(Dl,o,l),r(!0),i(""),console.log("Logged in successfully"),iA(),setTimeout(()=>{c("/dashboard")},2e3)}catch(d){i(d.message),r(!1),console.log(d.message)}};return a.jsx("div",{className:"container p-5 mt-5",children:a.jsx("div",{className:"row justify-content-center",children:a.jsx("div",{className:"col-md-6 col-lg-5",children:a.jsx("div",{className:"border-top border-primary border-3 rounded-3",children:a.jsxs("div",{className:"card p-3",children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("h2",{children:"Login"}),a.jsx("hr",{})]}),a.jsxs("form",{onSubmit:p,children:[a.jsxs("div",{className:"input-group mb-2",children:[a.jsx("input",{type:"email",name:"email",className:"form-control",placeholder:"Email","aria-describedby":"addon-wrapping",value:o,onChange:h,required:!0}),a.jsx("span",{className:"input-group-text",id:"addon-wrapping",children:a.jsx("i",{className:"fa-solid fa-user"})})]}),a.jsxs("div",{className:"input-group mt-3",children:[a.jsx("input",{type:"password",name:"password",className:"form-control",value:l,placeholder:"Password","aria-label":"Password","aria-describedby":"addon-wrapping",onChange:h,required:!0}),a.jsx("span",{className:"input-group-text",id:"addon-wrapping",children:a.jsx("i",{className:"fa-solid fa-lock"})})]}),a.jsxs("div",{className:"mt-3 d-flex justify-content-between align-items-center",children:[a.jsx("a",{href:"/signup",children:"Go to Signup"}),a.jsx("button",{className:"btn btn-primary",type:"submit",children:"Login"})]})]}),n&&a.jsx("div",{className:"alert alert-success mt-3",children:"Login successful! Redirecting..."}),s&&a.jsx("div",{className:"alert alert-danger mt-3",children:s})]})})})})})}const Ce=({component:t,...e})=>pN()?a.jsx(t,{...e}):a.jsx(Ib,{to:"/login"}),bu=({component:t,...e})=>pN()?a.jsx(Ib,{to:"/dashboard"}):a.jsx(t,{...e}),oA=()=>{const[t,e]=w.useState(0),[n,r]=w.useState(0),[s,i]=w.useState(0);return w.useEffect(()=>{(async()=>{try{const l=["G1","G2","A1","A2","A3","A4","A5","A6","A7","B1","B2","B3","B4","B5","B6","C1","C2","C3","C4"];let c=0,h=0,p=0;for(const f of l){const g=(await T.child(f).once("value")).val();if(g){const y=Object.keys(g).length;c+=y;const N=Object.values(g).filter(b=>b.status==="Vacated").length;h+=N;const E=Object.values(g).filter(b=>b.status==="Joined").length;p+=E}}e(c),r(h),i(p)}catch(l){console.error("Error fetching bed data:",l)}})()},[]),a.jsx(a.Fragment,{children:a.jsx("div",{className:"container text-center mt-3",children:a.jsxs("div",{className:"row g-2",children:[a.jsx("div",{className:"col-12 col-md-3",children:a.jsx("div",{className:"p-3",children:a.jsx("div",{className:"card shadow-lg mb-5 bg-body rounded border-0",children:a.jsx("div",{className:"card-body bg-body text-danger",children:a.jsxs(Tb,{to:"/room_no",style:{textDecoration:"none",color:"black"},children:[a.jsx("h5",{children:"Total Rooms"}),a.jsx("h1",{children:"19"})]})})})})}),a.jsx("div",{className:"col-12 col-md-3",children:a.jsx("div",{className:"p-3",children:a.jsx("div",{className:"card shadow-lg mb-5 bg-warning rounded border-0",children:a.jsxs("div",{className:"card-body ",children:[a.jsx("h5",{children:"Total Beds"}),a.jsx("h1",{children:t})]})})})}),a.jsx("div",{className:"col-12 col-md-3",children:a.jsx("div",{className:"p-3",children:a.jsx("div",{className:"card shadow-lg mb-5 bg-danger rounded border-0",children:a.jsxs("div",{className:"card-body  text-dark",children:[a.jsx("h5",{children:"Vacated Beds"}),a.jsx("h1",{children:n})]})})})}),a.jsx("div",{className:"col-12 col-md-3",children:a.jsx("div",{className:"p-3",children:a.jsx("div",{className:"card shadow-lg mb-5 bg-success rounded border-0",children:a.jsxs("div",{className:"card-body  text-white",children:[a.jsx("h5",{children:"Joined Beds"}),a.jsx("h1",{children:s})]})})})})]})})})},lA=()=>{const[t,e]=w.useState({}),n=["G1","G2","A1","A2","A3","A4","A5","A6","A7","B1","B2","B3","B4","B5","B6","C1","C2","C3","C4"];w.useEffect(()=>{(async()=>{const o={};for(const l of n){const h=(await T.child(l).once("value")).val();h?o[l]=Object.keys(h).map(p=>({id:p,...h[p]})):o[l]=[]}e(o)})()},[]);const r=i=>{switch(i){case"Joined":return"text-success";case"Vacated":return"text-danger";case"Under Maintenance":return"text-warning";default:return"text-secondary"}},s=({category:i})=>a.jsx("div",{className:"col-12 col-md-3",children:a.jsx("div",{className:"p-3",children:a.jsx("div",{className:"card shadow-lg mb-5 bg-body rounded border-0",children:a.jsx("div",{className:"card-body",children:a.jsxs(Tb,{to:`/${i.toLowerCase()}`,style:{textDecoration:"none"},children:[a.jsx("h5",{children:i}),a.jsx("div",{className:"d-flex flex-nowrap overflow-auto mb-3",children:(t[i]||[]).map(o=>a.jsx("i",{className:`material-icons ${r(o.status)} mx-1 my-1`,title:`Room ${o.room_number}: ${o.status}`,style:{fontSize:"24px"},children:"localhotel"},o.id))})]})})})})});return a.jsx("div",{className:"container mb-5",children:a.jsx("div",{className:"row g-3",children:n.map(i=>a.jsx(s,{category:i},i))})})};var We=[];for(var yu=0;yu<256;++yu)We.push((yu+256).toString(16).slice(1));function cA(t,e=0){return(We[t[e+0]]+We[t[e+1]]+We[t[e+2]]+We[t[e+3]]+"-"+We[t[e+4]]+We[t[e+5]]+"-"+We[t[e+6]]+We[t[e+7]]+"-"+We[t[e+8]]+We[t[e+9]]+"-"+We[t[e+10]]+We[t[e+11]]+We[t[e+12]]+We[t[e+13]]+We[t[e+14]]+We[t[e+15]]).toLowerCase()}var _o,uA=new Uint8Array(16);function dA(){if(!_o&&(_o=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!_o))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return _o(uA)}var hA=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const iv={randomUUID:hA};function Me(t,e,n){if(iv.randomUUID&&!e&&!t)return iv.randomUUID();t=t||{};var r=t.random||(t.rng||dA)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,cA(r)}function mA(){const[t,e]=w.useState({}),[n,r]=w.useState(""),s=he(),[i,o]=w.useState({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:"",due_date:""}),[l,c]=w.useState(null),[h,p]=w.useState(null);w.useEffect(()=>((()=>{T.child("G1").on("value",u=>{u.val()&&e(u.val())})})(),()=>T.child("G1").off()),[]);const f=async m=>{if(!m)return;const u=Ae(Oe,`file/${Me()}`);return await Pe(u,m),await De(u)},[d,g]=w.useState({adhar:"",mobile:""}),y=/^\d{12}$/,N=/^[6-9]\d{9}$/,E=async m=>{if(m.preventDefault(),i.adhar_num.trim()===""){g({...d,adhar:"Enter Aadhaar Number"});return}else if(y.test(i.adhar_num))g({...d,adhar:""});else{g({...d,adhar:"Enter valid Aadhaar Number"});return}if(i.mobile_num.trim()===""){g({...d,mobile:"Enter Mobile Number"});return}else if(N.test(i.mobile_num))g({...d,mobile:""});else{g({...d,mobile:"Enter valid Mobile Number"});return}try{const u=await T.child("G1").get();if(u.exists()&&Object.keys(u.val()).length>=6){alert("You cannot add more than 6 records. because this room contains 6 Beds only so please check the Beds.");return}const j=await f(l),W={...i,student_img:j};await T.child("G1").push(W),alert("Data saved successfully!"),o({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:""}),c(null)}catch(u){console.error("Error saving data:",u)}},b=async m=>{if(m.preventDefault(),i.adhar_num.trim()===""){g({...d,adhar:"Enter Aadhaar Number"});return}else if(y.test(i.adhar_num))g({...d,adhar:""});else{g({...d,adhar:"Enter valid Aadhaar Number"});return}if(i.mobile_num.trim()===""){g({...d,mobile:"Enter Mobile Number"});return}else if(N.test(i.mobile_num))g({...d,mobile:""});else{g({...d,mobile:"Enter valid Mobile Number"});return}try{let u={...i};if(l){const j=await f(l);u.student_img=j}await T.child(`G1/${h}`).update(u),alert("Data updated successfully!"),o({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:""}),p(null),c(null)}catch(u){console.error("Error updating data:",u)}},_=m=>{p(m),o(t[m])},x=m=>{if(window.confirm("Do you want to delete?"))try{T.child(`G1/${m}`).remove(),alert("Row deleted successfully!")}catch(u){console.error("Error deleting row:",u)}},C=m=>{const u=new Date(m);return u.setDate(u.getDate()+30),u.toISOString().split("T")[0]},v=m=>{const{name:u,value:j}=m.target;o(u==="date"?{...i,[u]:j,due_date:C(j)}:{...i,[u]:j})},k=m=>{r(m.target.value)},R=new Date,P=new Date(i.due_date),L=Math.floor((P-R)/(1e3*60*60*24));let D="badge bg-success";L<3&&(D="badge bg-danger");const M=Object.keys(t).filter(m=>{const u=t[m];return u.room_number.toLowerCase().includes(n.toLowerCase())||u.status.toLowerCase().includes(n.toLowerCase())||u.floor_number.toString().includes(n)||u.price.toString().includes(n)});return a.jsx("div",{style:{backgroundImage:"url(/image/back.jpg)"},children:a.jsxs("div",{className:"container mt-3",children:[a.jsxs("div",{className:"row justify-content-end p-4",children:[a.jsx("div",{className:"col-auto",children:a.jsx("button",{type:"button",className:"btn badge text-bg-primary me-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"Add Tenent"})}),a.jsx("div",{className:"col-auto",children:a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>s(-1),children:"Back"})})]}),a.jsx("div",{className:"col-6 mb-4",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"Search",onChange:k})}),a.jsx("div",{className:"container",children:a.jsx("div",{className:"row",children:M&&M.map(m=>{const u=t[m];return a.jsx("div",{className:"col-md-4",children:a.jsxs("div",{className:"card shadow-lg mb-5 bg-body rounded border-0",children:[a.jsx("img",{src:u.student_img,className:"card-img-top fixed-size-img",style:{height:"30vh",width:"30vh",display:"flex",justifyContent:"center",alignItems:"center",objectFit:"cover",margin:"auto"},alt:"Room"}),a.jsxs("div",{className:"card-body",children:[a.jsxs("ul",{className:"list-group list-group-flush",children:[a.jsxs("li",{className:"list-group-item",children:["Tenent_Name:",a.jsx("span",{className:"badge bg-secondary",children:u.name})]}),a.jsxs("li",{className:"list-group-item",children:["Adhar_Number:",a.jsx("span",{className:"badge bg-info",children:u.adhar_num})]}),a.jsxs("li",{className:"list-group-item",children:["Mobile_Number:",a.jsxs("span",{className:"badge bg-light text-dark",children:[a.jsx("a",{href:`tel:${u.mobile_num}`,children:u.mobile_num})," | ",a.jsx("a",{href:`https://wa.me/${u.mobile_num}?text=Hello%20${u.name},%20I%20would%20like%20to%20discuss%20your%20room%20details%20Please%20Pay%20The%20Room%20Rent.`,target:"_blank",rel:"noopener noreferrer",children:"WhatsApp"})]})]}),a.jsxs("li",{className:"list-group-item",children:["Room Number:",a.jsx("span",{className:"badge bg-primary",children:u.room_number})]}),a.jsxs("li",{className:"list-group-item",children:["Status:",a.jsx("span",{className:`badge ${u.status==="Joined"?"text-bg-success":u.status==="Vacated"?"text-bg-danger":u.status==="Under Maintenance"?"text-bg-warning":""}`,children:u.status})]}),a.jsxs("li",{className:"list-group-item",children:["Floor:",a.jsx("span",{className:"badge bg-warning",children:u.floor_number})]}),a.jsxs("li",{className:"list-group-item",children:["Price:",a.jsxs("span",{className:"badge bg-primary",children:["$",u.price]})]}),a.jsxs("li",{className:"list-group-item",children:["Joining Date:",a.jsx("span",{className:"badge bg-info",children:u.date})]}),a.jsxs("li",{className:"list-group-item",children:["Due Date:",a.jsx("span",{className:D,children:u.due_date})]})]}),a.jsxs("div",{className:"card-body",children:[a.jsx("button",{className:"btn badge text-bg-primary ms-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal1",onClick:()=>_(m),children:a.jsx("i",{className:"fa-solid fa-pen-to-square"})}),a.jsx("button",{className:"btn badge text-bg-danger ",onClick:()=>x(m),children:a.jsx("i",{className:"fa-solid fa-trash"})})]})]})]})},m)})})}),a.jsx("div",{className:"modal fade",id:"exampleModal","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h1",{className:"modal-title fs-5",id:"exampleModalLabel",children:"Add Tenent"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:E,children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Date"}),a.jsx("input",{type:"date",className:"form-control",name:"date",value:i.date,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Student_name"}),a.jsx("input",{type:"text",className:"form-control",name:"name",value:i.name,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Adhar_num"}),a.jsx("input",{type:"text",className:"form-control",id:"adhar_num",name:"adhar_num",value:i.adhar_num,onChange:v,required:!0}),d.adhar&&a.jsx("span",{className:"text-danger",children:d.adhar})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Mobile_num"}),a.jsx("input",{type:"text",className:"form-control",name:"mobile_num",value:i.mobile_num,onChange:v,required:!0}),d.mobile&&a.jsx("span",{className:"text-danger",children:d.mobile})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Status"}),a.jsxs("select",{className:"form-select",name:"status",value:i.status,onChange:v,required:!0,children:[a.jsx("option",{value:"",disabled:!0,children:"Choose..."}),a.jsx("option",{className:"badge text-bg-success",value:"Joined",children:"Joined"}),a.jsx("option",{className:"badge text-bg-danger",value:"Vacated",children:"Vacated"}),a.jsx("option",{className:"badge text-bg-warning",value:"Under Maintenance",children:"Under Maintenance"})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Room Number"}),a.jsx("input",{type:"text",className:"form-control",name:"room_number",value:i.room_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Floor"}),a.jsx("input",{type:"text",className:"form-control",name:"floor_number",value:i.floor_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Price"}),a.jsxs("div",{className:"input-group",children:[a.jsx("span",{className:"input-group-text",children:"$"}),a.jsx("input",{type:"number",className:"form-control",name:"price",value:i.price,onChange:v,placeholder:"0.00",step:"0.01",min:"0",required:!0})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Tenent"}),a.jsx("input",{type:"file",name:"student_img",onChange:m=>c(m.target.files[0])})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})]})})}),a.jsx("div",{className:"modal fade",id:"exampleModal1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"exampleModalLabel",children:"Edit PG Students Record"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:b,children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Date"}),a.jsx("input",{type:"date",className:"form-control",id:"date",name:"date",value:i.date,onChange:v,required:!0})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"name",className:"form-label",children:"Student Name"}),a.jsx("input",{type:"text",className:"form-control",id:"name",name:"name",value:i.name,onChange:v,required:!0})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"adhar_num",className:"form-label",children:"Aadhaar Number"}),a.jsx("input",{type:"text",className:"form-control",id:"adhar_num",name:"adhar_num",value:i.adhar_num,onChange:v,required:!0}),d.adhar&&a.jsx("span",{className:"text-danger",children:d.adhar})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"mobile_num",className:"form-label",children:"Mobile Number"}),a.jsx("input",{type:"text",className:"form-control",id:"mobile_num",name:"mobile_num",value:i.mobile_num,onChange:v,required:!0}),d.mobile&&a.jsx("span",{className:"text-danger",children:d.mobile})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"status",className:"form-label",children:"Status"}),a.jsxs("select",{className:"form-select",id:"status",name:"status",value:i.status,onChange:v,required:!0,children:[a.jsx("option",{value:"",disabled:!0,children:"Choose..."}),a.jsx("option",{value:"Joined",className:"badge text-bg-success",children:"Joined"}),a.jsx("option",{value:"Vacated",className:"badge text-bg-danger",children:"Vacated"}),a.jsx("option",{value:"Under Maintenance",className:"badge text-bg-warning",children:"Under Maintenance"})]})]})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"room_number",className:"form-label",children:"Room Number"}),a.jsx("input",{type:"text",className:"form-control",id:"room_number",name:"room_number",value:i.room_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"floor_number",className:"form-label",children:"Floor Number"}),a.jsx("input",{type:"text",className:"form-control",id:"floor_number",name:"floor_number",value:i.floor_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"price",className:"form-label",children:"Price"}),a.jsx("input",{type:"number",className:"form-control",id:"price",name:"price",value:i.price,onChange:v,required:!0})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Tenent"}),a.jsx("input",{type:"file",name:"student_img",onChange:m=>c(m.target.files[0])})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save Changes"})]})})]})})})]})})}function fA(){const[t,e]=w.useState({}),[n,r]=w.useState(""),s=he(),[i,o]=w.useState({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:"",due_date:""}),[l,c]=w.useState(null),[h,p]=w.useState(null);w.useEffect(()=>((()=>{T.child("G2").on("value",u=>{u.val()&&e(u.val())})})(),()=>T.child("G2").off()),[]);const f=async m=>{if(!m)return;const u=Ae(Oe,`file/${Me()}`);return await Pe(u,m),await De(u)},[d,g]=w.useState({adhar:"",mobile:""}),y=/^\d{12}$/,N=/^[6-9]\d{9}$/,E=async m=>{if(m.preventDefault(),i.adhar_num.trim()===""){g({...d,adhar:"Enter Aadhaar Number"});return}else if(y.test(i.adhar_num))g({...d,adhar:""});else{g({...d,adhar:"Enter valid Aadhaar Number"});return}if(i.mobile_num.trim()===""){g({...d,mobile:"Enter Mobile Number"});return}else if(N.test(i.mobile_num))g({...d,mobile:""});else{g({...d,mobile:"Enter valid Mobile Number"});return}try{const u=await T.child("G2").get();if(u.exists()&&Object.keys(u.val()).length>=6){alert("You cannot add more than 6 records. because this room contains 6 Beds only so please check the Beds.");return}const j=await f(l),W={...i,student_img:j};await T.child("G2").push(W),alert("Data saved successfully!"),o({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:""}),c(null)}catch(u){console.error("Error saving data:",u)}},b=async m=>{if(m.preventDefault(),i.adhar_num.trim()===""){g({...d,adhar:"Enter Aadhaar Number"});return}else if(y.test(i.adhar_num))g({...d,adhar:""});else{g({...d,adhar:"Enter valid Aadhaar Number"});return}if(i.mobile_num.trim()===""){g({...d,mobile:"Enter Mobile Number"});return}else if(N.test(i.mobile_num))g({...d,mobile:""});else{g({...d,mobile:"Enter valid Mobile Number"});return}try{let u={...i};if(l){const j=await f(l);u.student_img=j}await T.child(`G2/${h}`).update(u),alert("Data updated successfully!"),o({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:""}),p(null),c(null)}catch(u){console.error("Error updating data:",u)}},_=m=>{p(m),o(t[m])},x=m=>{if(window.confirm("Do you want to delete?"))try{T.child(`G2/${m}`).remove(),alert("Row deleted successfully!")}catch(u){console.error("Error deleting row:",u)}},C=m=>{const u=new Date(m);return u.setDate(u.getDate()+30),u.toISOString().split("T")[0]},v=m=>{const{name:u,value:j}=m.target;o(u==="date"?{...i,[u]:j,due_date:C(j)}:{...i,[u]:j})},k=m=>{r(m.target.value)},R=new Date,P=new Date(i.due_date),L=Math.floor((P-R)/(1e3*60*60*24));let D="badge bg-success";L<3&&(D="badge bg-danger");const M=Object.keys(t).filter(m=>{const u=t[m];return u.room_number.toLowerCase().includes(n.toLowerCase())||u.status.toLowerCase().includes(n.toLowerCase())||u.floor_number.toString().includes(n)||u.price.toString().includes(n)});return a.jsxs("div",{className:"container mt-3",children:[a.jsxs("div",{className:"row justify-content-end p-4",children:[a.jsx("div",{className:"col-auto",children:a.jsx("button",{type:"button",className:"btn badge text-bg-primary me-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"Add Tenent"})}),a.jsx("div",{className:"col-auto",children:a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>s(-1),children:"Back"})})]}),a.jsx("div",{className:"col-6 mb-4",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"Search",onChange:k})}),a.jsx("div",{className:"container",children:a.jsx("div",{className:"row",children:M&&M.map(m=>{const u=t[m];return a.jsx("div",{className:"col-md-4",children:a.jsxs("div",{className:"card shadow-lg mb-5 bg-body rounded border-0",children:[a.jsx("img",{src:u.student_img,className:"card-img-top fixed-size-img",style:{height:"30vh",width:"30vh",display:"flex",justifyContent:"center",alignItems:"center",objectFit:"cover",margin:"auto"},alt:"Room"}),a.jsxs("div",{className:"card-body",children:[a.jsxs("ul",{className:"list-group list-group-flush",children:[a.jsxs("li",{className:"list-group-item",children:["Tenent_Name:",a.jsx("span",{className:"badge bg-secondary",children:u.name})]}),a.jsxs("li",{className:"list-group-item",children:["Adhar_Number:",a.jsx("span",{className:"badge bg-info",children:u.adhar_num})]}),a.jsxs("li",{className:"list-group-item",children:["Mobile_Number:",a.jsxs("span",{className:"badge bg-light text-dark",children:[a.jsx("a",{href:`tel:${u.mobile_num}`,children:u.mobile_num})," | ",a.jsx("a",{href:`https://wa.me/${u.mobile_num}?text=Hello%20${u.name},%20I%20would%20like%20to%20discuss%20your%20room%20details%20Please%20Pay%20The%20Room%20Rent.`,target:"_blank",rel:"noopener noreferrer",children:"WhatsApp"})]})]}),a.jsxs("li",{className:"list-group-item",children:["Room Number:",a.jsx("span",{className:"badge bg-primary",children:u.room_number})]}),a.jsxs("li",{className:"list-group-item",children:["Status:",a.jsx("span",{className:`badge ${u.status==="Joined"?"text-bg-success":u.status==="Vacated"?"text-bg-danger":u.status==="Under Maintenance"?"text-bg-warning":""}`,children:u.status})]}),a.jsxs("li",{className:"list-group-item",children:["Floor:",a.jsx("span",{className:"badge bg-warning",children:u.floor_number})]}),a.jsxs("li",{className:"list-group-item",children:["Price:",a.jsxs("span",{className:"badge bg-primary",children:["$",u.price]})]}),a.jsxs("li",{className:"list-group-item",children:["Joining Date:",a.jsx("span",{className:"badge bg-info",children:u.date})]}),a.jsxs("li",{className:"list-group-item",children:["Due Date:",a.jsx("span",{className:D,children:u.due_date})]})]}),a.jsxs("div",{className:"card-body",children:[a.jsx("button",{className:"btn badge text-bg-primary ms-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal1",onClick:()=>_(m),children:a.jsx("i",{className:"fa-solid fa-pen-to-square"})}),a.jsx("button",{className:"btn badge text-bg-danger ",onClick:()=>x(m),children:a.jsx("i",{className:"fa-solid fa-trash"})})]})]})]})},m)})})}),a.jsx("div",{className:"modal fade",id:"exampleModal","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h1",{className:"modal-title fs-5",id:"exampleModalLabel",children:"Add Tenent"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:E,children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Date"}),a.jsx("input",{type:"date",className:"form-control",name:"date",value:i.date,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Student_name"}),a.jsx("input",{type:"text",className:"form-control",name:"name",value:i.name,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Adhar_num"}),a.jsx("input",{type:"text",className:"form-control",id:"adhar_num",name:"adhar_num",value:i.adhar_num,onChange:v,required:!0}),d.adhar&&a.jsx("span",{className:"text-danger",children:d.adhar})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Mobile_num"}),a.jsx("input",{type:"text",className:"form-control",name:"mobile_num",value:i.mobile_num,onChange:v,required:!0}),d.mobile&&a.jsx("span",{className:"text-danger",children:d.mobile})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Status"}),a.jsxs("select",{className:"form-select",name:"status",value:i.status,onChange:v,required:!0,children:[a.jsx("option",{value:"",disabled:!0,children:"Choose..."}),a.jsx("option",{className:"badge text-bg-success",value:"Joined",children:"Joined"}),a.jsx("option",{className:"badge text-bg-danger",value:"Vacated",children:"Vacated"}),a.jsx("option",{className:"badge text-bg-warning",value:"Under Maintenance",children:"Under Maintenance"})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Room Number"}),a.jsx("input",{type:"text",className:"form-control",name:"room_number",value:i.room_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Floor"}),a.jsx("input",{type:"text",className:"form-control",name:"floor_number",value:i.floor_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Price"}),a.jsxs("div",{className:"input-group",children:[a.jsx("span",{className:"input-group-text",children:"$"}),a.jsx("input",{type:"number",className:"form-control",name:"price",value:i.price,onChange:v,placeholder:"0.00",step:"0.01",min:"0",required:!0})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Tenent"}),a.jsx("input",{type:"file",name:"student_img",onChange:m=>c(m.target.files[0])})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})]})})}),a.jsx("div",{className:"modal fade",id:"exampleModal1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"exampleModalLabel",children:"Edit PG Students Record"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:b,children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Date"}),a.jsx("input",{type:"date",className:"form-control",id:"date",name:"date",value:i.date,onChange:v,required:!0})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"name",className:"form-label",children:"Student Name"}),a.jsx("input",{type:"text",className:"form-control",id:"name",name:"name",value:i.name,onChange:v,required:!0})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"adhar_num",className:"form-label",children:"Aadhaar Number"}),a.jsx("input",{type:"text",className:"form-control",id:"adhar_num",name:"adhar_num",value:i.adhar_num,onChange:v,required:!0}),d.adhar&&a.jsx("span",{className:"text-danger",children:d.adhar})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"mobile_num",className:"form-label",children:"Mobile Number"}),a.jsx("input",{type:"text",className:"form-control",id:"mobile_num",name:"mobile_num",value:i.mobile_num,onChange:v,required:!0}),d.mobile&&a.jsx("span",{className:"text-danger",children:d.mobile})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"status",className:"form-label",children:"Status"}),a.jsxs("select",{className:"form-select",id:"status",name:"status",value:i.status,onChange:v,required:!0,children:[a.jsx("option",{value:"",disabled:!0,children:"Choose..."}),a.jsx("option",{value:"Joined",className:"badge text-bg-success",children:"Joined"}),a.jsx("option",{value:"Vacated",className:"badge text-bg-danger",children:"Vacated"}),a.jsx("option",{value:"Under Maintenance",className:"badge text-bg-warning",children:"Under Maintenance"})]})]})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"room_number",className:"form-label",children:"Room Number"}),a.jsx("input",{type:"text",className:"form-control",id:"room_number",name:"room_number",value:i.room_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"floor_number",className:"form-label",children:"Floor Number"}),a.jsx("input",{type:"text",className:"form-control",id:"floor_number",name:"floor_number",value:i.floor_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"price",className:"form-label",children:"Price"}),a.jsx("input",{type:"number",className:"form-control",id:"price",name:"price",value:i.price,onChange:v,required:!0})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Tenent"}),a.jsx("input",{type:"file",name:"student_img",onChange:m=>c(m.target.files[0])})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save Changes"})]})})]})})})]})}function pA(){const[t,e]=w.useState({}),[n,r]=w.useState(""),s=he(),[i,o]=w.useState({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:"",due_date:""}),[l,c]=w.useState(null),[h,p]=w.useState(null);w.useEffect(()=>((()=>{T.child("A1").on("value",u=>{u.val()&&e(u.val())})})(),()=>T.child("A1").off()),[]);const f=async m=>{if(!m)return;const u=Ae(Oe,`file/${Me()}`);return await Pe(u,m),await De(u)},[d,g]=w.useState({adhar:"",mobile:""}),y=/^\d{12}$/,N=/^[6-9]\d{9}$/,E=async m=>{if(m.preventDefault(),i.adhar_num.trim()===""){g({...d,adhar:"Enter Aadhaar Number"});return}else if(y.test(i.adhar_num))g({...d,adhar:""});else{g({...d,adhar:"Enter valid Aadhaar Number"});return}if(i.mobile_num.trim()===""){g({...d,mobile:"Enter Mobile Number"});return}else if(N.test(i.mobile_num))g({...d,mobile:""});else{g({...d,mobile:"Enter valid Mobile Number"});return}try{const u=await T.child("A1").get();if(u.exists()&&Object.keys(u.val()).length>=6){alert("You cannot add more than 6 records. because this room contains 6 Beds only so please check the Beds.");return}const j=await f(l),W={...i,student_img:j};await T.child("A1").push(W),alert("Data saved successfully!"),o({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:""}),c(null)}catch(u){console.error("Error saving data:",u)}},b=async m=>{if(m.preventDefault(),i.adhar_num.trim()===""){g({...d,adhar:"Enter Aadhaar Number"});return}else if(y.test(i.adhar_num))g({...d,adhar:""});else{g({...d,adhar:"Enter valid Aadhaar Number"});return}if(i.mobile_num.trim()===""){g({...d,mobile:"Enter Mobile Number"});return}else if(N.test(i.mobile_num))g({...d,mobile:""});else{g({...d,mobile:"Enter valid Mobile Number"});return}try{let u={...i};if(l){const j=await f(l);u.student_img=j}await T.child(`A1/${h}`).update(u),alert("Data updated successfully!"),o({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:""}),p(null),c(null)}catch(u){console.error("Error updating data:",u)}},_=m=>{p(m),o(t[m])},x=m=>{if(window.confirm("Do you want to delete?"))try{T.child(`A1/${m}`).remove(),alert("Row deleted successfully!")}catch(u){console.error("Error deleting row:",u)}},C=m=>{const u=new Date(m);return u.setDate(u.getDate()+30),u.toISOString().split("T")[0]},v=m=>{const{name:u,value:j}=m.target;o(u==="date"?{...i,[u]:j,due_date:C(j)}:{...i,[u]:j})},k=m=>{r(m.target.value)},R=new Date,P=new Date(i.due_date),L=Math.floor((P-R)/(1e3*60*60*24));let D="badge bg-success";L<3&&(D="badge bg-danger");const M=Object.keys(t).filter(m=>{const u=t[m];return u.room_number.toLowerCase().includes(n.toLowerCase())||u.status.toLowerCase().includes(n.toLowerCase())||u.floor_number.toString().includes(n)||u.price.toString().includes(n)});return a.jsxs("div",{className:"container mt-3",children:[a.jsxs("div",{className:"row justify-content-end p-4",children:[a.jsx("div",{className:"col-auto",children:a.jsx("button",{type:"button",className:"btn badge text-bg-primary me-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"Add Tenent"})}),a.jsx("div",{className:"col-auto",children:a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>s(-1),children:"Back"})})]}),a.jsx("div",{className:"col-6 mb-4",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"Search",onChange:k})}),a.jsx("div",{className:"container",children:a.jsx("div",{className:"row",children:M&&M.map(m=>{const u=t[m];return a.jsx("div",{className:"col-sm-6 col-md-4",children:a.jsxs("div",{className:"card shadow-lg mb-5 bg-body rounded border-0",children:[a.jsx("img",{src:u.student_img,className:"card-img-top fixed-size-img",style:{height:"30vh",width:"30vh",display:"flex",justifyContent:"center",alignItems:"center",objectFit:"cover",margin:"auto"},alt:"Room"}),a.jsxs("div",{className:"card-body",children:[a.jsxs("ul",{className:"list-group list-group-flush",children:[a.jsxs("li",{className:"list-group-item",children:["Tenant Name:",a.jsx("span",{className:"badge bg-secondary",children:u.name})]}),a.jsxs("li",{className:"list-group-item",children:["Adhar Number:",a.jsx("span",{className:"badge bg-info",children:u.adhar_num})]}),a.jsxs("li",{className:"list-group-item",children:["Mobile Number:",a.jsxs("span",{className:"badge bg-light text-dark",children:[a.jsx("a",{href:`tel:${u.mobile_num}`,children:u.mobile_num})," | ",a.jsx("a",{href:`https://wa.me/${u.mobile_num}?text=Hello%20${u.name},%20I%20would%20like%20to%20discuss%20your%20room%20details%20Please%20Pay%20The%20Room%20Rent.`,target:"_blank",rel:"noopener noreferrer",children:"WhatsApp"})]})]}),a.jsxs("li",{className:"list-group-item",children:["Room Number:",a.jsx("span",{className:"badge bg-primary",children:u.room_number})]}),a.jsxs("li",{className:"list-group-item",children:["Status:",a.jsx("span",{className:`badge ${u.status==="Joined"?"text-bg-success":u.status==="Vacated"?"text-bg-danger":u.status==="Under Maintenance"?"text-bg-warning":""}`,children:u.status})]}),a.jsxs("li",{className:"list-group-item",children:["Floor:",a.jsx("span",{className:"badge bg-warning",children:u.floor_number})]}),a.jsxs("li",{className:"list-group-item",children:["Price:",a.jsxs("span",{className:"badge bg-primary",children:["$",u.price]})]}),a.jsxs("li",{className:"list-group-item",children:["Joining Date:",a.jsx("span",{className:"badge bg-info",children:u.date})]}),a.jsxs("li",{className:"list-group-item",children:["Due Date:",a.jsx("span",{className:D,children:u.due_date})]})]}),a.jsxs("div",{className:"card-body",children:[a.jsx("button",{className:"btn badge text-bg-primary ms-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal1",onClick:()=>_(m),children:a.jsx("i",{className:"fa-solid fa-pen-to-square"})}),a.jsx("button",{className:"btn badge text-bg-danger ",onClick:()=>x(m),children:a.jsx("i",{className:"fa-solid fa-trash"})})]})]})]})},m)})})}),a.jsx("div",{className:"modal fade",id:"exampleModal","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h1",{className:"modal-title fs-5",id:"exampleModalLabel",children:"Add Tenent"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:E,children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Date"}),a.jsx("input",{type:"date",className:"form-control",name:"date",value:i.date,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Student_name"}),a.jsx("input",{type:"text",className:"form-control",name:"name",value:i.name,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Adhar_num"}),a.jsx("input",{type:"text",className:"form-control",id:"adhar_num",name:"adhar_num",value:i.adhar_num,onChange:v,required:!0}),d.adhar&&a.jsx("span",{className:"text-danger",children:d.adhar})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Mobile_num"}),a.jsx("input",{type:"text",className:"form-control",name:"mobile_num",value:i.mobile_num,onChange:v,required:!0}),d.mobile&&a.jsx("span",{className:"text-danger",children:d.mobile})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Status"}),a.jsxs("select",{className:"form-select",name:"status",value:i.status,onChange:v,required:!0,children:[a.jsx("option",{value:"",disabled:!0,children:"Choose..."}),a.jsx("option",{className:"badge text-bg-success",value:"Joined",children:"Joined"}),a.jsx("option",{className:"badge text-bg-danger",value:"Vacated",children:"Vacated"}),a.jsx("option",{className:"badge text-bg-warning",value:"Under Maintenance",children:"Under Maintenance"})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Room Number"}),a.jsx("input",{type:"text",className:"form-control",name:"room_number",value:i.room_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Floor"}),a.jsx("input",{type:"text",className:"form-control",name:"floor_number",value:i.floor_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Price"}),a.jsxs("div",{className:"input-group",children:[a.jsx("span",{className:"input-group-text",children:"$"}),a.jsx("input",{type:"number",className:"form-control",name:"price",value:i.price,onChange:v,placeholder:"0.00",step:"0.01",min:"0",required:!0})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Tenent_img"}),a.jsx("input",{type:"file",name:"student_img",onChange:m=>c(m.target.files[0])})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})]})})}),a.jsx("div",{className:"modal fade",id:"exampleModal1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"exampleModalLabel",children:"Edit PG Students Record"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:b,children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Date"}),a.jsx("input",{type:"date",className:"form-control",id:"date",name:"date",value:i.date,onChange:v,required:!0})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"name",className:"form-label",children:"Student Name"}),a.jsx("input",{type:"text",className:"form-control",id:"name",name:"name",value:i.name,onChange:v,required:!0})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"adhar_num",className:"form-label",children:"Aadhaar Number"}),a.jsx("input",{type:"text",className:"form-control",id:"adhar_num",name:"adhar_num",value:i.adhar_num,onChange:v,required:!0}),d.adhar&&a.jsx("span",{className:"text-danger",children:d.adhar})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"mobile_num",className:"form-label",children:"Mobile Number"}),a.jsx("input",{type:"text",className:"form-control",id:"mobile_num",name:"mobile_num",value:i.mobile_num,onChange:v,required:!0}),d.mobile&&a.jsx("span",{className:"text-danger",children:d.mobile})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"status",className:"form-label",children:"Status"}),a.jsxs("select",{className:"form-select",id:"status",name:"status",value:i.status,onChange:v,required:!0,children:[a.jsx("option",{value:"",disabled:!0,children:"Choose..."}),a.jsx("option",{value:"Joined",className:"badge text-bg-success",children:"Joined"}),a.jsx("option",{value:"Vacated",className:"badge text-bg-danger",children:"Vacated"}),a.jsx("option",{value:"Under Maintenance",className:"badge text-bg-warning",children:"Under Maintenance"})]})]})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"room_number",className:"form-label",children:"Room Number"}),a.jsx("input",{type:"text",className:"form-control",id:"room_number",name:"room_number",value:i.room_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"floor_number",className:"form-label",children:"Floor Number"}),a.jsx("input",{type:"text",className:"form-control",id:"floor_number",name:"floor_number",value:i.floor_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"price",className:"form-label",children:"Price"}),a.jsx("input",{type:"number",className:"form-control",id:"price",name:"price",value:i.price,onChange:v,required:!0})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Tenent_img"}),a.jsx("input",{type:"file",name:"student_img",onChange:m=>c(m.target.files[0])})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save Changes"})]})})]})})})]})}function gA(){const[t,e]=w.useState({}),[n,r]=w.useState(""),s=he(),[i,o]=w.useState({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:"",due_date:""}),[l,c]=w.useState(null),[h,p]=w.useState(null);w.useEffect(()=>((()=>{T.child("A2").on("value",u=>{u.val()&&e(u.val())})})(),()=>T.child("A2").off()),[]);const f=async m=>{if(!m)return;const u=Ae(Oe,`file/${Me()}`);return await Pe(u,m),await De(u)},[d,g]=w.useState({adhar:"",mobile:""}),y=/^\d{12}$/,N=/^[6-9]\d{9}$/,E=async m=>{if(m.preventDefault(),i.adhar_num.trim()===""){g({...d,adhar:"Enter Aadhaar Number"});return}else if(y.test(i.adhar_num))g({...d,adhar:""});else{g({...d,adhar:"Enter valid Aadhaar Number"});return}if(i.mobile_num.trim()===""){g({...d,mobile:"Enter Mobile Number"});return}else if(N.test(i.mobile_num))g({...d,mobile:""});else{g({...d,mobile:"Enter valid Mobile Number"});return}try{const u=await T.child("A2").get();if(u.exists()&&Object.keys(u.val()).length>=6){alert("You cannot add more than 6 records. because this room contains 6 Beds only so please check the Beds.");return}const j=await f(l),W={...i,student_img:j};await T.child("A2").push(W),alert("Data saved successfully!"),o({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:""}),c(null)}catch(u){console.error("Error saving data:",u)}},b=async m=>{if(m.preventDefault(),i.adhar_num.trim()===""){g({...d,adhar:"Enter Aadhaar Number"});return}else if(y.test(i.adhar_num))g({...d,adhar:""});else{g({...d,adhar:"Enter valid Aadhaar Number"});return}if(i.mobile_num.trim()===""){g({...d,mobile:"Enter Mobile Number"});return}else if(N.test(i.mobile_num))g({...d,mobile:""});else{g({...d,mobile:"Enter valid Mobile Number"});return}try{let u={...i};if(l){const j=await f(l);u.student_img=j}await T.child(`A2/${h}`).update(u),alert("Data updated successfully!"),o({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:""}),p(null),c(null)}catch(u){console.error("Error updating data:",u)}},_=m=>{p(m),o(t[m])},x=m=>{if(window.confirm("Do you want to delete?"))try{T.child(`A2/${m}`).remove(),alert("Row deleted successfully!")}catch(u){console.error("Error deleting row:",u)}},C=m=>{const u=new Date(m);return u.setDate(u.getDate()+30),u.toISOString().split("T")[0]},v=m=>{const{name:u,value:j}=m.target;o(u==="date"?{...i,[u]:j,due_date:C(j)}:{...i,[u]:j})},k=m=>{r(m.target.value)},R=new Date,P=new Date(i.due_date),L=Math.floor((P-R)/(1e3*60*60*24));let D="badge bg-success";L<3&&(D="badge bg-danger");const M=Object.keys(t).filter(m=>{const u=t[m];return u.room_number.toLowerCase().includes(n.toLowerCase())||u.status.toLowerCase().includes(n.toLowerCase())||u.floor_number.toString().includes(n)||u.price.toString().includes(n)});return a.jsxs("div",{className:"container mt-3",children:[a.jsxs("div",{className:"row justify-content-end p-4",children:[a.jsx("div",{className:"col-auto",children:a.jsx("button",{type:"button",className:"btn badge text-bg-primary me-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"Add Tenent"})}),a.jsx("div",{className:"col-auto",children:a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>s(-1),children:"Back"})})]}),a.jsx("div",{className:"col-6 mb-4",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"Search",onChange:k})}),a.jsx("div",{className:"container",children:a.jsx("div",{className:"row",children:M&&M.map(m=>{const u=t[m];return a.jsx("div",{className:"col-sm-6 col-md-4",children:a.jsxs("div",{className:"card shadow-lg mb-5 bg-body rounded border-0",children:[a.jsx("img",{src:u.student_img,className:"card-img-top fixed-size-img",style:{height:"30vh",width:"30vh",display:"flex",justifyContent:"center",alignItems:"center",objectFit:"cover",margin:"auto"},alt:"Room"}),a.jsxs("div",{className:"card-body",children:[a.jsxs("ul",{className:"list-group list-group-flush",children:[a.jsxs("li",{className:"list-group-item",children:["Tenant Name:",a.jsx("span",{className:"badge bg-secondary",children:u.name})]}),a.jsxs("li",{className:"list-group-item",children:["Adhar Number:",a.jsx("span",{className:"badge bg-info",children:u.adhar_num})]}),a.jsxs("li",{className:"list-group-item",children:["Mobile Number:",a.jsxs("span",{className:"badge bg-light text-dark",children:[a.jsx("a",{href:`tel:${u.mobile_num}`,children:u.mobile_num})," | ",a.jsx("a",{href:`https://wa.me/${u.mobile_num}?text=Hello%20${u.name},%20I%20would%20like%20to%20discuss%20your%20room%20details%20Please%20Pay%20The%20Room%20Rent.`,target:"_blank",rel:"noopener noreferrer",children:"WhatsApp"})]})]}),a.jsxs("li",{className:"list-group-item",children:["Room Number:",a.jsx("span",{className:"badge bg-primary",children:u.room_number})]}),a.jsxs("li",{className:"list-group-item",children:["Status:",a.jsx("span",{className:`badge ${u.status==="Joined"?"text-bg-success":u.status==="Vacated"?"text-bg-danger":u.status==="Under Maintenance"?"text-bg-warning":""}`,children:u.status})]}),a.jsxs("li",{className:"list-group-item",children:["Floor:",a.jsx("span",{className:"badge bg-warning",children:u.floor_number})]}),a.jsxs("li",{className:"list-group-item",children:["Price:",a.jsxs("span",{className:"badge bg-primary",children:["$",u.price]})]}),a.jsxs("li",{className:"list-group-item",children:["Joining Date:",a.jsx("span",{className:"badge bg-info",children:u.date})]}),a.jsxs("li",{className:"list-group-item",children:["Due Date:",a.jsx("span",{className:D,children:u.due_date})]})]}),a.jsxs("div",{className:"card-body",children:[a.jsx("button",{className:"btn badge text-bg-primary ms-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal1",onClick:()=>_(m),children:a.jsx("i",{className:"fa-solid fa-pen-to-square"})}),a.jsx("button",{className:"btn badge text-bg-danger ",onClick:()=>x(m),children:a.jsx("i",{className:"fa-solid fa-trash"})})]})]})]})},m)})})}),a.jsx("div",{className:"modal fade",id:"exampleModal","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h1",{className:"modal-title fs-5",id:"exampleModalLabel",children:"Add Tenent"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:E,children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Date"}),a.jsx("input",{type:"date",className:"form-control",name:"date",value:i.date,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Student_name"}),a.jsx("input",{type:"text",className:"form-control",name:"name",value:i.name,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Adhar_num"}),a.jsx("input",{type:"text",className:"form-control",id:"adhar_num",name:"adhar_num",value:i.adhar_num,onChange:v,required:!0}),d.adhar&&a.jsx("span",{className:"text-danger",children:d.adhar})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Mobile_num"}),a.jsx("input",{type:"text",className:"form-control",name:"mobile_num",value:i.mobile_num,onChange:v,required:!0}),d.mobile&&a.jsx("span",{className:"text-danger",children:d.mobile})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Status"}),a.jsxs("select",{className:"form-select",name:"status",value:i.status,onChange:v,required:!0,children:[a.jsx("option",{value:"",disabled:!0,children:"Choose..."}),a.jsx("option",{className:"badge text-bg-success",value:"Joined",children:"Joined"}),a.jsx("option",{className:"badge text-bg-danger",value:"Vacated",children:"Vacated"}),a.jsx("option",{className:"badge text-bg-warning",value:"Under Maintenance",children:"Under Maintenance"})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Room Number"}),a.jsx("input",{type:"text",className:"form-control",name:"room_number",value:i.room_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Floor"}),a.jsx("input",{type:"text",className:"form-control",name:"floor_number",value:i.floor_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Price"}),a.jsxs("div",{className:"input-group",children:[a.jsx("span",{className:"input-group-text",children:"$"}),a.jsx("input",{type:"number",className:"form-control",name:"price",value:i.price,onChange:v,placeholder:"0.00",step:"0.01",min:"0",required:!0})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Tenent_img"}),a.jsx("input",{type:"file",name:"student_img",onChange:m=>c(m.target.files[0])})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})]})})}),a.jsx("div",{className:"modal fade",id:"exampleModal1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"exampleModalLabel",children:"Edit PG Students Record"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:b,children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Date"}),a.jsx("input",{type:"date",className:"form-control",id:"date",name:"date",value:i.date,onChange:v,required:!0})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"name",className:"form-label",children:"Student Name"}),a.jsx("input",{type:"text",className:"form-control",id:"name",name:"name",value:i.name,onChange:v,required:!0})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"adhar_num",className:"form-label",children:"Aadhaar Number"}),a.jsx("input",{type:"text",className:"form-control",id:"adhar_num",name:"adhar_num",value:i.adhar_num,onChange:v,required:!0}),d.adhar&&a.jsx("span",{className:"text-danger",children:d.adhar})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"mobile_num",className:"form-label",children:"Mobile Number"}),a.jsx("input",{type:"text",className:"form-control",id:"mobile_num",name:"mobile_num",value:i.mobile_num,onChange:v,required:!0}),d.mobile&&a.jsx("span",{className:"text-danger",children:d.mobile})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"status",className:"form-label",children:"Status"}),a.jsxs("select",{className:"form-select",id:"status",name:"status",value:i.status,onChange:v,required:!0,children:[a.jsx("option",{value:"",disabled:!0,children:"Choose..."}),a.jsx("option",{value:"Joined",className:"badge text-bg-success",children:"Joined"}),a.jsx("option",{value:"Vacated",className:"badge text-bg-danger",children:"Vacated"}),a.jsx("option",{value:"Under Maintenance",className:"badge text-bg-warning",children:"Under Maintenance"})]})]})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"room_number",className:"form-label",children:"Room Number"}),a.jsx("input",{type:"text",className:"form-control",id:"room_number",name:"room_number",value:i.room_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"floor_number",className:"form-label",children:"Floor Number"}),a.jsx("input",{type:"text",className:"form-control",id:"floor_number",name:"floor_number",value:i.floor_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"price",className:"form-label",children:"Price"}),a.jsx("input",{type:"number",className:"form-control",id:"price",name:"price",value:i.price,onChange:v,required:!0})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Tenent_img"}),a.jsx("input",{type:"file",name:"student_img",onChange:m=>c(m.target.files[0])})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save Changes"})]})})]})})})]})}function vA(){const[t,e]=w.useState({}),[n,r]=w.useState(""),s=he(),[i,o]=w.useState({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:"",due_date:""}),[l,c]=w.useState(null),[h,p]=w.useState(null);w.useEffect(()=>((()=>{T.child("A3").on("value",u=>{u.val()&&e(u.val())})})(),()=>T.child("A3").off()),[]);const f=async m=>{if(!m)return;const u=Ae(Oe,`file/${Me()}`);return await Pe(u,m),await De(u)},[d,g]=w.useState({adhar:"",mobile:""}),y=/^\d{12}$/,N=/^[6-9]\d{9}$/,E=async m=>{if(m.preventDefault(),i.adhar_num.trim()===""){g({...d,adhar:"Enter Aadhaar Number"});return}else if(y.test(i.adhar_num))g({...d,adhar:""});else{g({...d,adhar:"Enter valid Aadhaar Number"});return}if(i.mobile_num.trim()===""){g({...d,mobile:"Enter Mobile Number"});return}else if(N.test(i.mobile_num))g({...d,mobile:""});else{g({...d,mobile:"Enter valid Mobile Number"});return}try{const u=await T.child("A3").get();if(u.exists()&&Object.keys(u.val()).length>=2){alert("You cannot add more than 2 records. because this room contains 2 Beds only so please check the Beds.");return}const j=await f(l),W={...i,student_img:j};await T.child("A3").push(W),alert("Data saved successfully!"),o({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:""}),c(null)}catch(u){console.error("Error saving data:",u)}},b=async m=>{if(m.preventDefault(),i.adhar_num.trim()===""){g({...d,adhar:"Enter Aadhaar Number"});return}else if(y.test(i.adhar_num))g({...d,adhar:""});else{g({...d,adhar:"Enter valid Aadhaar Number"});return}if(i.mobile_num.trim()===""){g({...d,mobile:"Enter Mobile Number"});return}else if(N.test(i.mobile_num))g({...d,mobile:""});else{g({...d,mobile:"Enter valid Mobile Number"});return}try{let u={...i};if(l){const j=await f(l);u.student_img=j}await T.child(`A3/${h}`).update(u),alert("Data updated successfully!"),o({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:""}),p(null),c(null)}catch(u){console.error("Error updating data:",u)}},_=m=>{p(m),o(t[m])},x=m=>{if(window.confirm("Do you want to delete?"))try{T.child(`A3/${m}`).remove(),alert("Row deleted successfully!")}catch(u){console.error("Error deleting row:",u)}},C=m=>{const u=new Date(m);return u.setDate(u.getDate()+30),u.toISOString().split("T")[0]},v=m=>{const{name:u,value:j}=m.target;o(u==="date"?{...i,[u]:j,due_date:C(j)}:{...i,[u]:j})},k=m=>{r(m.target.value)},R=new Date,P=new Date(i.due_date),L=Math.floor((P-R)/(1e3*60*60*24));let D="badge bg-success";L<3&&(D="badge bg-danger");const M=Object.keys(t).filter(m=>{const u=t[m];return u.room_number.toLowerCase().includes(n.toLowerCase())||u.status.toLowerCase().includes(n.toLowerCase())||u.floor_number.toString().includes(n)||u.price.toString().includes(n)});return a.jsxs("div",{className:"container mt-3",children:[a.jsxs("div",{className:"row justify-content-end p-4",children:[a.jsx("div",{className:"col-auto",children:a.jsx("button",{type:"button",className:"btn badge text-bg-primary me-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"Add Tenent"})}),a.jsx("div",{className:"col-auto",children:a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>s(-1),children:"Back"})})]}),a.jsx("div",{className:"col-6 mb-4",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"Search",onChange:k})}),a.jsx("div",{className:"container",children:a.jsx("div",{className:"row",children:M&&M.map(m=>{const u=t[m];return a.jsx("div",{className:"col-sm-6 col-md-4",children:a.jsxs("div",{className:"card shadow-lg mb-5 bg-body rounded border-0",children:[a.jsx("img",{src:u.student_img,className:"card-img-top fixed-size-img",style:{height:"30vh",width:"30vh",display:"flex",justifyContent:"center",alignItems:"center",objectFit:"cover",margin:"auto"},alt:"Room"}),a.jsxs("div",{className:"card-body",children:[a.jsxs("ul",{className:"list-group list-group-flush",children:[a.jsxs("li",{className:"list-group-item",children:["Tenant Name:",a.jsx("span",{className:"badge bg-secondary",children:u.name})]}),a.jsxs("li",{className:"list-group-item",children:["Adhar Number:",a.jsx("span",{className:"badge bg-info",children:u.adhar_num})]}),a.jsxs("li",{className:"list-group-item",children:["Mobile Number:",a.jsxs("span",{className:"badge bg-light text-dark",children:[a.jsx("a",{href:`tel:${u.mobile_num}`,children:u.mobile_num})," | ",a.jsx("a",{href:`https://wa.me/${u.mobile_num}?text=Hello%20${u.name},%20I%20would%20like%20to%20discuss%20your%20room%20details%20Please%20Pay%20The%20Room%20Rent.`,target:"_blank",rel:"noopener noreferrer",children:"WhatsApp"})]})]}),a.jsxs("li",{className:"list-group-item",children:["Room Number:",a.jsx("span",{className:"badge bg-primary",children:u.room_number})]}),a.jsxs("li",{className:"list-group-item",children:["Status:",a.jsx("span",{className:`badge ${u.status==="Joined"?"text-bg-success":u.status==="Vacated"?"text-bg-danger":u.status==="Under Maintenance"?"text-bg-warning":""}`,children:u.status})]}),a.jsxs("li",{className:"list-group-item",children:["Floor:",a.jsx("span",{className:"badge bg-warning",children:u.floor_number})]}),a.jsxs("li",{className:"list-group-item",children:["Price:",a.jsxs("span",{className:"badge bg-primary",children:["$",u.price]})]}),a.jsxs("li",{className:"list-group-item",children:["Joining Date:",a.jsx("span",{className:"badge bg-info",children:u.date})]}),a.jsxs("li",{className:"list-group-item",children:["Due Date:",a.jsx("span",{className:D,children:u.due_date})]})]}),a.jsxs("div",{className:"card-body",children:[a.jsx("button",{className:"btn badge text-bg-primary ms-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal1",onClick:()=>_(m),children:a.jsx("i",{className:"fa-solid fa-pen-to-square"})}),a.jsx("button",{className:"btn badge text-bg-danger ",onClick:()=>x(m),children:a.jsx("i",{className:"fa-solid fa-trash"})})]})]})]})},m)})})}),a.jsx("div",{className:"modal fade",id:"exampleModal","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h1",{className:"modal-title fs-5",id:"exampleModalLabel",children:"Add Tenent"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:E,children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Date"}),a.jsx("input",{type:"date",className:"form-control",name:"date",value:i.date,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Student_name"}),a.jsx("input",{type:"text",className:"form-control",name:"name",value:i.name,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Adhar_num"}),a.jsx("input",{type:"text",className:"form-control",id:"adhar_num",name:"adhar_num",value:i.adhar_num,onChange:v,required:!0}),d.adhar&&a.jsx("span",{className:"text-danger",children:d.adhar})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Mobile_num"}),a.jsx("input",{type:"text",className:"form-control",name:"mobile_num",value:i.mobile_num,onChange:v,required:!0}),d.mobile&&a.jsx("span",{className:"text-danger",children:d.mobile})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Status"}),a.jsxs("select",{className:"form-select",name:"status",value:i.status,onChange:v,required:!0,children:[a.jsx("option",{value:"",disabled:!0,children:"Choose..."}),a.jsx("option",{className:"badge text-bg-success",value:"Joined",children:"Joined"}),a.jsx("option",{className:"badge text-bg-danger",value:"Vacated",children:"Vacated"}),a.jsx("option",{className:"badge text-bg-warning",value:"Under Maintenance",children:"Under Maintenance"})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Room Number"}),a.jsx("input",{type:"text",className:"form-control",name:"room_number",value:i.room_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Floor"}),a.jsx("input",{type:"text",className:"form-control",name:"floor_number",value:i.floor_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Price"}),a.jsxs("div",{className:"input-group",children:[a.jsx("span",{className:"input-group-text",children:"$"}),a.jsx("input",{type:"number",className:"form-control",name:"price",value:i.price,onChange:v,placeholder:"0.00",step:"0.01",min:"0",required:!0})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Tenent_img"}),a.jsx("input",{type:"file",name:"student_img",onChange:m=>c(m.target.files[0])})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})]})})}),a.jsx("div",{className:"modal fade",id:"exampleModal1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"exampleModalLabel",children:"Edit PG Students Record"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:b,children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Date"}),a.jsx("input",{type:"date",className:"form-control",id:"date",name:"date",value:i.date,onChange:v,required:!0})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"name",className:"form-label",children:"Student Name"}),a.jsx("input",{type:"text",className:"form-control",id:"name",name:"name",value:i.name,onChange:v,required:!0})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"adhar_num",className:"form-label",children:"Aadhaar Number"}),a.jsx("input",{type:"text",className:"form-control",id:"adhar_num",name:"adhar_num",value:i.adhar_num,onChange:v,required:!0}),d.adhar&&a.jsx("span",{className:"text-danger",children:d.adhar})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"mobile_num",className:"form-label",children:"Mobile Number"}),a.jsx("input",{type:"text",className:"form-control",id:"mobile_num",name:"mobile_num",value:i.mobile_num,onChange:v,required:!0}),d.mobile&&a.jsx("span",{className:"text-danger",children:d.mobile})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"status",className:"form-label",children:"Status"}),a.jsxs("select",{className:"form-select",id:"status",name:"status",value:i.status,onChange:v,required:!0,children:[a.jsx("option",{value:"",disabled:!0,children:"Choose..."}),a.jsx("option",{value:"Joined",className:"badge text-bg-success",children:"Joined"}),a.jsx("option",{value:"Vacated",className:"badge text-bg-danger",children:"Vacated"}),a.jsx("option",{value:"Under Maintenance",className:"badge text-bg-warning",children:"Under Maintenance"})]})]})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"room_number",className:"form-label",children:"Room Number"}),a.jsx("input",{type:"text",className:"form-control",id:"room_number",name:"room_number",value:i.room_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"floor_number",className:"form-label",children:"Floor Number"}),a.jsx("input",{type:"text",className:"form-control",id:"floor_number",name:"floor_number",value:i.floor_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"price",className:"form-label",children:"Price"}),a.jsx("input",{type:"number",className:"form-control",id:"price",name:"price",value:i.price,onChange:v,required:!0})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Tenent_img"}),a.jsx("input",{type:"file",name:"student_img",onChange:m=>c(m.target.files[0])})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save Changes"})]})})]})})})]})}function _A(){const[t,e]=w.useState({}),[n,r]=w.useState(""),s=he(),[i,o]=w.useState({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:"",due_date:""}),[l,c]=w.useState(null),[h,p]=w.useState(null);w.useEffect(()=>((()=>{T.child("A4").on("value",u=>{u.val()&&e(u.val())})})(),()=>T.child("A4").off()),[]);const f=async m=>{if(!m)return;const u=Ae(Oe,`file/${Me()}`);return await Pe(u,m),await De(u)},[d,g]=w.useState({adhar:"",mobile:""}),y=/^\d{12}$/,N=/^[6-9]\d{9}$/,E=async m=>{if(m.preventDefault(),i.adhar_num.trim()===""){g({...d,adhar:"Enter Aadhaar Number"});return}else if(y.test(i.adhar_num))g({...d,adhar:""});else{g({...d,adhar:"Enter valid Aadhaar Number"});return}if(i.mobile_num.trim()===""){g({...d,mobile:"Enter Mobile Number"});return}else if(N.test(i.mobile_num))g({...d,mobile:""});else{g({...d,mobile:"Enter valid Mobile Number"});return}try{const u=await T.child("A4").get();if(u.exists()&&Object.keys(u.val()).length>=4){alert("You cannot add more than 3 records. because this room contains 3 Beds only so please check the Beds.");return}const j=await f(l),W={...i,student_img:j};await T.child("A4").push(W),alert("Data saved successfully!"),o({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:""}),c(null)}catch(u){console.error("Error saving data:",u)}},b=async m=>{if(m.preventDefault(),i.adhar_num.trim()===""){g({...d,adhar:"Enter Aadhaar Number"});return}else if(y.test(i.adhar_num))g({...d,adhar:""});else{g({...d,adhar:"Enter valid Aadhaar Number"});return}if(i.mobile_num.trim()===""){g({...d,mobile:"Enter Mobile Number"});return}else if(N.test(i.mobile_num))g({...d,mobile:""});else{g({...d,mobile:"Enter valid Mobile Number"});return}try{let u={...i};if(l){const j=await f(l);u.student_img=j}await T.child(`A4/${h}`).update(u),alert("Data updated successfully!"),o({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:""}),p(null),c(null)}catch(u){console.error("Error updating data:",u)}},_=m=>{p(m),o(t[m])},x=m=>{if(window.confirm("Do you want to delete?"))try{T.child(`A4/${m}`).remove(),alert("Row deleted successfully!")}catch(u){console.error("Error deleting row:",u)}},C=m=>{const u=new Date(m);return u.setDate(u.getDate()+30),u.toISOString().split("T")[0]},v=m=>{const{name:u,value:j}=m.target;o(u==="date"?{...i,[u]:j,due_date:C(j)}:{...i,[u]:j})},k=m=>{r(m.target.value)},R=new Date,P=new Date(i.due_date),L=Math.floor((P-R)/(1e3*60*60*24));let D="badge bg-success";L<3&&(D="badge bg-danger");const M=Object.keys(t).filter(m=>{const u=t[m];return u.room_number.toLowerCase().includes(n.toLowerCase())||u.status.toLowerCase().includes(n.toLowerCase())||u.floor_number.toString().includes(n)||u.price.toString().includes(n)});return a.jsxs("div",{className:"container mt-3",children:[a.jsxs("div",{className:"row justify-content-end p-4",children:[a.jsx("div",{className:"col-auto",children:a.jsx("button",{type:"button",className:"btn badge text-bg-primary me-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"Add Tenent"})}),a.jsx("div",{className:"col-auto",children:a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>s(-1),children:"Back"})})]}),a.jsx("div",{className:"col-6 mb-4",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"Search",onChange:k})}),a.jsx("div",{className:"container",children:a.jsx("div",{className:"row",children:M&&M.map(m=>{const u=t[m];return a.jsx("div",{className:"col-sm-6 col-md-4",children:a.jsxs("div",{className:"card shadow-lg mb-5 bg-body rounded border-0",children:[a.jsx("img",{src:u.student_img,className:"card-img-top fixed-size-img",style:{height:"30vh",width:"30vh",display:"flex",justifyContent:"center",alignItems:"center",objectFit:"cover",margin:"auto"},alt:"Room"}),a.jsxs("div",{className:"card-body",children:[a.jsxs("ul",{className:"list-group list-group-flush",children:[a.jsxs("li",{className:"list-group-item",children:["Tenant Name:",a.jsx("span",{className:"badge bg-secondary",children:u.name})]}),a.jsxs("li",{className:"list-group-item",children:["Adhar Number:",a.jsx("span",{className:"badge bg-info",children:u.adhar_num})]}),a.jsxs("li",{className:"list-group-item",children:["Mobile Number:",a.jsxs("span",{className:"badge bg-light text-dark",children:[a.jsx("a",{href:`tel:${u.mobile_num}`,children:u.mobile_num})," | ",a.jsx("a",{href:`https://wa.me/${u.mobile_num}?text=Hello%20${u.name},%20I%20would%20like%20to%20discuss%20your%20room%20details%20Please%20Pay%20The%20Room%20Rent.`,target:"_blank",rel:"noopener noreferrer",children:"WhatsApp"})]})]}),a.jsxs("li",{className:"list-group-item",children:["Room Number:",a.jsx("span",{className:"badge bg-primary",children:u.room_number})]}),a.jsxs("li",{className:"list-group-item",children:["Status:",a.jsx("span",{className:`badge ${u.status==="Joined"?"text-bg-success":u.status==="Vacated"?"text-bg-danger":u.status==="Under Maintenance"?"text-bg-warning":""}`,children:u.status})]}),a.jsxs("li",{className:"list-group-item",children:["Floor:",a.jsx("span",{className:"badge bg-warning",children:u.floor_number})]}),a.jsxs("li",{className:"list-group-item",children:["Price:",a.jsxs("span",{className:"badge bg-primary",children:["$",u.price]})]}),a.jsxs("li",{className:"list-group-item",children:["Joining Date:",a.jsx("span",{className:"badge bg-info",children:u.date})]}),a.jsxs("li",{className:"list-group-item",children:["Due Date:",a.jsx("span",{className:D,children:u.due_date})]})]}),a.jsxs("div",{className:"card-body",children:[a.jsx("button",{className:"btn badge text-bg-primary ms-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal1",onClick:()=>_(m),children:a.jsx("i",{className:"fa-solid fa-pen-to-square"})}),a.jsx("button",{className:"btn badge text-bg-danger ",onClick:()=>x(m),children:a.jsx("i",{className:"fa-solid fa-trash"})})]})]})]})},m)})})}),a.jsx("div",{className:"modal fade",id:"exampleModal","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h1",{className:"modal-title fs-5",id:"exampleModalLabel",children:"Add Tenent"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:E,children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Date"}),a.jsx("input",{type:"date",className:"form-control",name:"date",value:i.date,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Student_name"}),a.jsx("input",{type:"text",className:"form-control",name:"name",value:i.name,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Adhar_num"}),a.jsx("input",{type:"text",className:"form-control",id:"adhar_num",name:"adhar_num",value:i.adhar_num,onChange:v,required:!0}),d.adhar&&a.jsx("span",{className:"text-danger",children:d.adhar})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Mobile_num"}),a.jsx("input",{type:"text",className:"form-control",name:"mobile_num",value:i.mobile_num,onChange:v,required:!0}),d.mobile&&a.jsx("span",{className:"text-danger",children:d.mobile})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Status"}),a.jsxs("select",{className:"form-select",name:"status",value:i.status,onChange:v,required:!0,children:[a.jsx("option",{value:"",disabled:!0,children:"Choose..."}),a.jsx("option",{className:"badge text-bg-success",value:"Joined",children:"Joined"}),a.jsx("option",{className:"badge text-bg-danger",value:"Vacated",children:"Vacated"}),a.jsx("option",{className:"badge text-bg-warning",value:"Under Maintenance",children:"Under Maintenance"})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Room Number"}),a.jsx("input",{type:"text",className:"form-control",name:"room_number",value:i.room_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Floor"}),a.jsx("input",{type:"text",className:"form-control",name:"floor_number",value:i.floor_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Price"}),a.jsxs("div",{className:"input-group",children:[a.jsx("span",{className:"input-group-text",children:"$"}),a.jsx("input",{type:"number",className:"form-control",name:"price",value:i.price,onChange:v,placeholder:"0.00",step:"0.01",min:"0",required:!0})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Tenent_img"}),a.jsx("input",{type:"file",name:"student_img",onChange:m=>c(m.target.files[0])})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})]})})}),a.jsx("div",{className:"modal fade",id:"exampleModal1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"exampleModalLabel",children:"Edit PG Students Record"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:b,children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Date"}),a.jsx("input",{type:"date",className:"form-control",id:"date",name:"date",value:i.date,onChange:v,required:!0})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"name",className:"form-label",children:"Student Name"}),a.jsx("input",{type:"text",className:"form-control",id:"name",name:"name",value:i.name,onChange:v,required:!0})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"adhar_num",className:"form-label",children:"Aadhaar Number"}),a.jsx("input",{type:"text",className:"form-control",id:"adhar_num",name:"adhar_num",value:i.adhar_num,onChange:v,required:!0}),d.adhar&&a.jsx("span",{className:"text-danger",children:d.adhar})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"mobile_num",className:"form-label",children:"Mobile Number"}),a.jsx("input",{type:"text",className:"form-control",id:"mobile_num",name:"mobile_num",value:i.mobile_num,onChange:v,required:!0}),d.mobile&&a.jsx("span",{className:"text-danger",children:d.mobile})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"status",className:"form-label",children:"Status"}),a.jsxs("select",{className:"form-select",id:"status",name:"status",value:i.status,onChange:v,required:!0,children:[a.jsx("option",{value:"",disabled:!0,children:"Choose..."}),a.jsx("option",{value:"Joined",className:"badge text-bg-success",children:"Joined"}),a.jsx("option",{value:"Vacated",className:"badge text-bg-danger",children:"Vacated"}),a.jsx("option",{value:"Under Maintenance",className:"badge text-bg-warning",children:"Under Maintenance"})]})]})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"room_number",className:"form-label",children:"Room Number"}),a.jsx("input",{type:"text",className:"form-control",id:"room_number",name:"room_number",value:i.room_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"floor_number",className:"form-label",children:"Floor Number"}),a.jsx("input",{type:"text",className:"form-control",id:"floor_number",name:"floor_number",value:i.floor_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"price",className:"form-label",children:"Price"}),a.jsx("input",{type:"number",className:"form-control",id:"price",name:"price",value:i.price,onChange:v,required:!0})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Tenent_img"}),a.jsx("input",{type:"file",name:"student_img",onChange:m=>c(m.target.files[0])})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save Changes"})]})})]})})})]})}function bA(){const[t,e]=w.useState({}),[n,r]=w.useState(""),s=he(),[i,o]=w.useState({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:"",due_date:""}),[l,c]=w.useState(null),[h,p]=w.useState(null);w.useEffect(()=>((()=>{T.child("A5").on("value",u=>{u.val()&&e(u.val())})})(),()=>T.child("A5").off()),[]);const f=async m=>{if(!m)return;const u=Ae(Oe,`file/${Me()}`);return await Pe(u,m),await De(u)},[d,g]=w.useState({adhar:"",mobile:""}),y=/^\d{12}$/,N=/^[6-9]\d{9}$/,E=async m=>{if(m.preventDefault(),i.adhar_num.trim()===""){g({...d,adhar:"Enter Aadhaar Number"});return}else if(y.test(i.adhar_num))g({...d,adhar:""});else{g({...d,adhar:"Enter valid Aadhaar Number"});return}if(i.mobile_num.trim()===""){g({...d,mobile:"Enter Mobile Number"});return}else if(N.test(i.mobile_num))g({...d,mobile:""});else{g({...d,mobile:"Enter valid Mobile Number"});return}try{const u=await T.child("A5").get();if(u.exists()&&Object.keys(u.val()).length>=3){alert("You cannot add more than 3 records. because this room contains 3 Beds only so please check the Beds.");return}const j=await f(l),W={...i,student_img:j};await T.child("A5").push(W),alert("Data saved successfully!"),o({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:""}),c(null)}catch(u){console.error("Error saving data:",u)}},b=async m=>{if(m.preventDefault(),i.adhar_num.trim()===""){g({...d,adhar:"Enter Aadhaar Number"});return}else if(y.test(i.adhar_num))g({...d,adhar:""});else{g({...d,adhar:"Enter valid Aadhaar Number"});return}if(i.mobile_num.trim()===""){g({...d,mobile:"Enter Mobile Number"});return}else if(N.test(i.mobile_num))g({...d,mobile:""});else{g({...d,mobile:"Enter valid Mobile Number"});return}try{let u={...i};if(l){const j=await f(l);u.student_img=j}await T.child(`A5/${h}`).update(u),alert("Data updated successfully!"),o({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:""}),p(null),c(null)}catch(u){console.error("Error updating data:",u)}},_=m=>{p(m),o(t[m])},x=m=>{if(window.confirm("Do you want to delete?"))try{T.child(`A5/${m}`).remove(),alert("Row deleted successfully!")}catch(u){console.error("Error deleting row:",u)}},C=m=>{const u=new Date(m);return u.setDate(u.getDate()+30),u.toISOString().split("T")[0]},v=m=>{const{name:u,value:j}=m.target;o(u==="date"?{...i,[u]:j,due_date:C(j)}:{...i,[u]:j})},k=m=>{r(m.target.value)},R=new Date,P=new Date(i.due_date),L=Math.floor((P-R)/(1e3*60*60*24));let D="badge bg-success";L<3&&(D="badge bg-danger");const M=Object.keys(t).filter(m=>{const u=t[m];return u.room_number.toLowerCase().includes(n.toLowerCase())||u.status.toLowerCase().includes(n.toLowerCase())||u.floor_number.toString().includes(n)||u.price.toString().includes(n)});return a.jsxs("div",{className:"container mt-3",children:[a.jsxs("div",{className:"row justify-content-end p-4",children:[a.jsx("div",{className:"col-auto",children:a.jsx("button",{type:"button",className:"btn badge text-bg-primary me-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"Add Tenent"})}),a.jsx("div",{className:"col-auto",children:a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>s(-1),children:"Back"})})]}),a.jsx("div",{className:"col-6 mb-4",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"Search",onChange:k})}),a.jsx("div",{className:"container",children:a.jsx("div",{className:"row",children:M&&M.map(m=>{const u=t[m];return a.jsx("div",{className:"col-sm-6 col-md-4",children:a.jsxs("div",{className:"card shadow-lg mb-5 bg-body rounded border-0",children:[a.jsx("img",{src:u.student_img,className:"card-img-top fixed-size-img",style:{height:"30vh",width:"30vh",display:"flex",justifyContent:"center",alignItems:"center",objectFit:"cover",margin:"auto"},alt:"Room"}),a.jsxs("div",{className:"card-body",children:[a.jsxs("ul",{className:"list-group list-group-flush",children:[a.jsxs("li",{className:"list-group-item",children:["Tenant Name:",a.jsx("span",{className:"badge bg-secondary",children:u.name})]}),a.jsxs("li",{className:"list-group-item",children:["Adhar Number:",a.jsx("span",{className:"badge bg-info",children:u.adhar_num})]}),a.jsxs("li",{className:"list-group-item",children:["Mobile Number:",a.jsxs("span",{className:"badge bg-light text-dark",children:[a.jsx("a",{href:`tel:${u.mobile_num}`,children:u.mobile_num})," | ",a.jsx("a",{href:`https://wa.me/${u.mobile_num}?text=Hello%20${u.name},%20I%20would%20like%20to%20discuss%20your%20room%20details%20Please%20Pay%20The%20Room%20Rent.`,target:"_blank",rel:"noopener noreferrer",children:"WhatsApp"})]})]}),a.jsxs("li",{className:"list-group-item",children:["Room Number:",a.jsx("span",{className:"badge bg-primary",children:u.room_number})]}),a.jsxs("li",{className:"list-group-item",children:["Status:",a.jsx("span",{className:`badge ${u.status==="Joined"?"text-bg-success":u.status==="Vacated"?"text-bg-danger":u.status==="Under Maintenance"?"text-bg-warning":""}`,children:u.status})]}),a.jsxs("li",{className:"list-group-item",children:["Floor:",a.jsx("span",{className:"badge bg-warning",children:u.floor_number})]}),a.jsxs("li",{className:"list-group-item",children:["Price:",a.jsxs("span",{className:"badge bg-primary",children:["$",u.price]})]}),a.jsxs("li",{className:"list-group-item",children:["Joining Date:",a.jsx("span",{className:"badge bg-info",children:u.date})]}),a.jsxs("li",{className:"list-group-item",children:["Due Date:",a.jsx("span",{className:D,children:u.due_date})]})]}),a.jsxs("div",{className:"card-body",children:[a.jsx("button",{className:"btn badge text-bg-primary ms-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal1",onClick:()=>_(m),children:a.jsx("i",{className:"fa-solid fa-pen-to-square"})}),a.jsx("button",{className:"btn badge text-bg-danger ",onClick:()=>x(m),children:a.jsx("i",{className:"fa-solid fa-trash"})})]})]})]})},m)})})}),a.jsx("div",{className:"modal fade",id:"exampleModal","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h1",{className:"modal-title fs-5",id:"exampleModalLabel",children:"Add Tenent"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:E,children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Date"}),a.jsx("input",{type:"date",className:"form-control",name:"date",value:i.date,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Student_name"}),a.jsx("input",{type:"text",className:"form-control",name:"name",value:i.name,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Adhar_num"}),a.jsx("input",{type:"text",className:"form-control",id:"adhar_num",name:"adhar_num",value:i.adhar_num,onChange:v,required:!0}),d.adhar&&a.jsx("span",{className:"text-danger",children:d.adhar})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Mobile_num"}),a.jsx("input",{type:"text",className:"form-control",name:"mobile_num",value:i.mobile_num,onChange:v,required:!0}),d.mobile&&a.jsx("span",{className:"text-danger",children:d.mobile})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Status"}),a.jsxs("select",{className:"form-select",name:"status",value:i.status,onChange:v,required:!0,children:[a.jsx("option",{value:"",disabled:!0,children:"Choose..."}),a.jsx("option",{className:"badge text-bg-success",value:"Joined",children:"Joined"}),a.jsx("option",{className:"badge text-bg-danger",value:"Vacated",children:"Vacated"}),a.jsx("option",{className:"badge text-bg-warning",value:"Under Maintenance",children:"Under Maintenance"})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Room Number"}),a.jsx("input",{type:"text",className:"form-control",name:"room_number",value:i.room_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Floor"}),a.jsx("input",{type:"text",className:"form-control",name:"floor_number",value:i.floor_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Price"}),a.jsxs("div",{className:"input-group",children:[a.jsx("span",{className:"input-group-text",children:"$"}),a.jsx("input",{type:"number",className:"form-control",name:"price",value:i.price,onChange:v,placeholder:"0.00",step:"0.01",min:"0",required:!0})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Tenent_img"}),a.jsx("input",{type:"file",name:"student_img",onChange:m=>c(m.target.files[0])})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})]})})}),a.jsx("div",{className:"modal fade",id:"exampleModal1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"exampleModalLabel",children:"Edit PG Students Record"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:b,children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Date"}),a.jsx("input",{type:"date",className:"form-control",id:"date",name:"date",value:i.date,onChange:v,required:!0})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"name",className:"form-label",children:"Student Name"}),a.jsx("input",{type:"text",className:"form-control",id:"name",name:"name",value:i.name,onChange:v,required:!0})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"adhar_num",className:"form-label",children:"Aadhaar Number"}),a.jsx("input",{type:"text",className:"form-control",id:"adhar_num",name:"adhar_num",value:i.adhar_num,onChange:v,required:!0}),d.adhar&&a.jsx("span",{className:"text-danger",children:d.adhar})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"mobile_num",className:"form-label",children:"Mobile Number"}),a.jsx("input",{type:"text",className:"form-control",id:"mobile_num",name:"mobile_num",value:i.mobile_num,onChange:v,required:!0}),d.mobile&&a.jsx("span",{className:"text-danger",children:d.mobile})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"status",className:"form-label",children:"Status"}),a.jsxs("select",{className:"form-select",id:"status",name:"status",value:i.status,onChange:v,required:!0,children:[a.jsx("option",{value:"",disabled:!0,children:"Choose..."}),a.jsx("option",{value:"Joined",className:"badge text-bg-success",children:"Joined"}),a.jsx("option",{value:"Vacated",className:"badge text-bg-danger",children:"Vacated"}),a.jsx("option",{value:"Under Maintenance",className:"badge text-bg-warning",children:"Under Maintenance"})]})]})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"room_number",className:"form-label",children:"Room Number"}),a.jsx("input",{type:"text",className:"form-control",id:"room_number",name:"room_number",value:i.room_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"floor_number",className:"form-label",children:"Floor Number"}),a.jsx("input",{type:"text",className:"form-control",id:"floor_number",name:"floor_number",value:i.floor_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"price",className:"form-label",children:"Price"}),a.jsx("input",{type:"number",className:"form-control",id:"price",name:"price",value:i.price,onChange:v,required:!0})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Tenent_img"}),a.jsx("input",{type:"file",name:"student_img",onChange:m=>c(m.target.files[0])})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save Changes"})]})})]})})})]})}function yA(){const[t,e]=w.useState({}),[n,r]=w.useState(""),s=he(),[i,o]=w.useState({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:"",due_date:""}),[l,c]=w.useState(null),[h,p]=w.useState(null);w.useEffect(()=>((()=>{T.child("A6").on("value",u=>{u.val()&&e(u.val())})})(),()=>T.child("A6").off()),[]);const f=async m=>{if(!m)return;const u=Ae(Oe,`file/${Me()}`);return await Pe(u,m),await De(u)},[d,g]=w.useState({adhar:"",mobile:""}),y=/^\d{12}$/,N=/^[6-9]\d{9}$/,E=async m=>{if(m.preventDefault(),i.adhar_num.trim()===""){g({...d,adhar:"Enter Aadhaar Number"});return}else if(y.test(i.adhar_num))g({...d,adhar:""});else{g({...d,adhar:"Enter valid Aadhaar Number"});return}if(i.mobile_num.trim()===""){g({...d,mobile:"Enter Mobile Number"});return}else if(N.test(i.mobile_num))g({...d,mobile:""});else{g({...d,mobile:"Enter valid Mobile Number"});return}try{const u=await T.child("A6").get();if(u.exists()&&Object.keys(u.val()).length>=1){alert("You cannot add more than 1 records. because this room contains 1 Beds only so please check the Beds.");return}const j=await f(l),W={...i,student_img:j};await T.child("A6").push(W),alert("Data saved successfully!"),o({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:""}),c(null)}catch(u){console.error("Error saving data:",u)}},b=async m=>{if(m.preventDefault(),i.adhar_num.trim()===""){g({...d,adhar:"Enter Aadhaar Number"});return}else if(y.test(i.adhar_num))g({...d,adhar:""});else{g({...d,adhar:"Enter valid Aadhaar Number"});return}if(i.mobile_num.trim()===""){g({...d,mobile:"Enter Mobile Number"});return}else if(N.test(i.mobile_num))g({...d,mobile:""});else{g({...d,mobile:"Enter valid Mobile Number"});return}try{let u={...i};if(l){const j=await f(l);u.student_img=j}await T.child(`A6/${h}`).update(u),alert("Data updated successfully!"),o({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:""}),p(null),c(null)}catch(u){console.error("Error updating data:",u)}},_=m=>{p(m),o(t[m])},x=m=>{if(window.confirm("Do you want to delete?"))try{T.child(`A6/${m}`).remove(),alert("Row deleted successfully!")}catch(u){console.error("Error deleting row:",u)}},C=m=>{const u=new Date(m);return u.setDate(u.getDate()+30),u.toISOString().split("T")[0]},v=m=>{const{name:u,value:j}=m.target;o(u==="date"?{...i,[u]:j,due_date:C(j)}:{...i,[u]:j})},k=m=>{r(m.target.value)},R=new Date,P=new Date(i.due_date),L=Math.floor((P-R)/(1e3*60*60*24));let D="badge bg-success";L<3&&(D="badge bg-danger");const M=Object.keys(t).filter(m=>{const u=t[m];return u.room_number.toLowerCase().includes(n.toLowerCase())||u.status.toLowerCase().includes(n.toLowerCase())||u.floor_number.toString().includes(n)||u.price.toString().includes(n)});return a.jsxs("div",{className:"container mt-3",children:[a.jsxs("div",{className:"row justify-content-end p-4",children:[a.jsx("div",{className:"col-auto",children:a.jsx("button",{type:"button",className:"btn badge text-bg-primary me-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"Add Tenent"})}),a.jsx("div",{className:"col-auto",children:a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>s(-1),children:"Back"})})]}),a.jsx("div",{className:"col-6 mb-4",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"Search",onChange:k})}),a.jsx("div",{className:"container",children:a.jsx("div",{className:"row",children:M&&M.map(m=>{const u=t[m];return a.jsx("div",{className:"col-sm-6 col-md-4",children:a.jsxs("div",{className:"card shadow-lg mb-5 bg-body rounded border-0",children:[a.jsx("img",{src:u.student_img,className:"card-img-top fixed-size-img",style:{height:"30vh",width:"30vh",display:"flex",justifyContent:"center",alignItems:"center",objectFit:"cover",margin:"auto"},alt:"Room"}),a.jsxs("div",{className:"card-body",children:[a.jsxs("ul",{className:"list-group list-group-flush",children:[a.jsxs("li",{className:"list-group-item",children:["Tenant Name:",a.jsx("span",{className:"badge bg-secondary",children:u.name})]}),a.jsxs("li",{className:"list-group-item",children:["Adhar Number:",a.jsx("span",{className:"badge bg-info",children:u.adhar_num})]}),a.jsxs("li",{className:"list-group-item",children:["Mobile Number:",a.jsxs("span",{className:"badge bg-light text-dark",children:[a.jsx("a",{href:`tel:${u.mobile_num}`,children:u.mobile_num})," | ",a.jsx("a",{href:`https://wa.me/${u.mobile_num}?text=Hello%20${u.name},%20I%20would%20like%20to%20discuss%20your%20room%20details%20Please%20Pay%20The%20Room%20Rent.`,target:"_blank",rel:"noopener noreferrer",children:"WhatsApp"})]})]}),a.jsxs("li",{className:"list-group-item",children:["Room Number:",a.jsx("span",{className:"badge bg-primary",children:u.room_number})]}),a.jsxs("li",{className:"list-group-item",children:["Status:",a.jsx("span",{className:`badge ${u.status==="Joined"?"text-bg-success":u.status==="Vacated"?"text-bg-danger":u.status==="Under Maintenance"?"text-bg-warning":""}`,children:u.status})]}),a.jsxs("li",{className:"list-group-item",children:["Floor:",a.jsx("span",{className:"badge bg-warning",children:u.floor_number})]}),a.jsxs("li",{className:"list-group-item",children:["Price:",a.jsxs("span",{className:"badge bg-primary",children:["$",u.price]})]}),a.jsxs("li",{className:"list-group-item",children:["Joining Date:",a.jsx("span",{className:"badge bg-info",children:u.date})]}),a.jsxs("li",{className:"list-group-item",children:["Due Date:",a.jsx("span",{className:D,children:u.due_date})]})]}),a.jsxs("div",{className:"card-body",children:[a.jsx("button",{className:"btn badge text-bg-primary ms-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal1",onClick:()=>_(m),children:a.jsx("i",{className:"fa-solid fa-pen-to-square"})}),a.jsx("button",{className:"btn badge text-bg-danger ",onClick:()=>x(m),children:a.jsx("i",{className:"fa-solid fa-trash"})})]})]})]})},m)})})}),a.jsx("div",{className:"modal fade",id:"exampleModal","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h1",{className:"modal-title fs-5",id:"exampleModalLabel",children:"Add Tenent"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:E,children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Date"}),a.jsx("input",{type:"date",className:"form-control",name:"date",value:i.date,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Student_name"}),a.jsx("input",{type:"text",className:"form-control",name:"name",value:i.name,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Adhar_num"}),a.jsx("input",{type:"text",className:"form-control",id:"adhar_num",name:"adhar_num",value:i.adhar_num,onChange:v,required:!0}),d.adhar&&a.jsx("span",{className:"text-danger",children:d.adhar})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Mobile_num"}),a.jsx("input",{type:"text",className:"form-control",name:"mobile_num",value:i.mobile_num,onChange:v,required:!0}),d.mobile&&a.jsx("span",{className:"text-danger",children:d.mobile})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Status"}),a.jsxs("select",{className:"form-select",name:"status",value:i.status,onChange:v,required:!0,children:[a.jsx("option",{value:"",disabled:!0,children:"Choose..."}),a.jsx("option",{className:"badge text-bg-success",value:"Joined",children:"Joined"}),a.jsx("option",{className:"badge text-bg-danger",value:"Vacated",children:"Vacated"}),a.jsx("option",{className:"badge text-bg-warning",value:"Under Maintenance",children:"Under Maintenance"})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Room Number"}),a.jsx("input",{type:"text",className:"form-control",name:"room_number",value:i.room_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Floor"}),a.jsx("input",{type:"text",className:"form-control",name:"floor_number",value:i.floor_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Price"}),a.jsxs("div",{className:"input-group",children:[a.jsx("span",{className:"input-group-text",children:"$"}),a.jsx("input",{type:"number",className:"form-control",name:"price",value:i.price,onChange:v,placeholder:"0.00",step:"0.01",min:"0",required:!0})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Tenent_img"}),a.jsx("input",{type:"file",name:"student_img",onChange:m=>c(m.target.files[0])})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})]})})}),a.jsx("div",{className:"modal fade",id:"exampleModal1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"exampleModalLabel",children:"Edit PG Students Record"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:b,children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Date"}),a.jsx("input",{type:"date",className:"form-control",id:"date",name:"date",value:i.date,onChange:v,required:!0})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"name",className:"form-label",children:"Student Name"}),a.jsx("input",{type:"text",className:"form-control",id:"name",name:"name",value:i.name,onChange:v,required:!0})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"adhar_num",className:"form-label",children:"Aadhaar Number"}),a.jsx("input",{type:"text",className:"form-control",id:"adhar_num",name:"adhar_num",value:i.adhar_num,onChange:v,required:!0}),d.adhar&&a.jsx("span",{className:"text-danger",children:d.adhar})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"mobile_num",className:"form-label",children:"Mobile Number"}),a.jsx("input",{type:"text",className:"form-control",id:"mobile_num",name:"mobile_num",value:i.mobile_num,onChange:v,required:!0}),d.mobile&&a.jsx("span",{className:"text-danger",children:d.mobile})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"status",className:"form-label",children:"Status"}),a.jsxs("select",{className:"form-select",id:"status",name:"status",value:i.status,onChange:v,required:!0,children:[a.jsx("option",{value:"",disabled:!0,children:"Choose..."}),a.jsx("option",{value:"Joined",className:"badge text-bg-success",children:"Joined"}),a.jsx("option",{value:"Vacated",className:"badge text-bg-danger",children:"Vacated"}),a.jsx("option",{value:"Under Maintenance",className:"badge text-bg-warning",children:"Under Maintenance"})]})]})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"room_number",className:"form-label",children:"Room Number"}),a.jsx("input",{type:"text",className:"form-control",id:"room_number",name:"room_number",value:i.room_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"floor_number",className:"form-label",children:"Floor Number"}),a.jsx("input",{type:"text",className:"form-control",id:"floor_number",name:"floor_number",value:i.floor_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"price",className:"form-label",children:"Price"}),a.jsx("input",{type:"number",className:"form-control",id:"price",name:"price",value:i.price,onChange:v,required:!0})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Tenent_img"}),a.jsx("input",{type:"file",name:"student_img",onChange:m=>c(m.target.files[0])})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save Changes"})]})})]})})})]})}function xA(){const[t,e]=w.useState({}),[n,r]=w.useState(""),s=he(),[i,o]=w.useState({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:"",due_date:""}),[l,c]=w.useState(null),[h,p]=w.useState(null);w.useEffect(()=>((()=>{T.child("A7").on("value",u=>{u.val()&&e(u.val())})})(),()=>T.child("A7").off()),[]);const f=async m=>{if(!m)return;const u=Ae(Oe,`file/${Me()}`);return await Pe(u,m),await De(u)},[d,g]=w.useState({adhar:"",mobile:""}),y=/^\d{12}$/,N=/^[6-9]\d{9}$/,E=async m=>{if(m.preventDefault(),i.adhar_num.trim()===""){g({...d,adhar:"Enter Aadhaar Number"});return}else if(y.test(i.adhar_num))g({...d,adhar:""});else{g({...d,adhar:"Enter valid Aadhaar Number"});return}if(i.mobile_num.trim()===""){g({...d,mobile:"Enter Mobile Number"});return}else if(N.test(i.mobile_num))g({...d,mobile:""});else{g({...d,mobile:"Enter valid Mobile Number"});return}try{const u=await T.child("A7").get();if(u.exists()&&Object.keys(u.val()).length>=2){alert("You cannot add more than 2 records. because this room contains 2 Beds only so please check the Beds.");return}const j=await f(l),W={...i,student_img:j};await T.child("A7").push(W),alert("Data saved successfully!"),o({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:""}),c(null)}catch(u){console.error("Error saving data:",u)}},b=async m=>{if(m.preventDefault(),i.adhar_num.trim()===""){g({...d,adhar:"Enter Aadhaar Number"});return}else if(y.test(i.adhar_num))g({...d,adhar:""});else{g({...d,adhar:"Enter valid Aadhaar Number"});return}if(i.mobile_num.trim()===""){g({...d,mobile:"Enter Mobile Number"});return}else if(N.test(i.mobile_num))g({...d,mobile:""});else{g({...d,mobile:"Enter valid Mobile Number"});return}try{let u={...i};if(l){const j=await f(l);u.student_img=j}await T.child(`A7/${h}`).update(u),alert("Data updated successfully!"),o({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:""}),p(null),c(null)}catch(u){console.error("Error updating data:",u)}},_=m=>{p(m),o(t[m])},x=m=>{if(window.confirm("Do you want to delete?"))try{T.child(`A7/${m}`).remove(),alert("Row deleted successfully!")}catch(u){console.error("Error deleting row:",u)}},C=m=>{const u=new Date(m);return u.setDate(u.getDate()+30),u.toISOString().split("T")[0]},v=m=>{const{name:u,value:j}=m.target;o(u==="date"?{...i,[u]:j,due_date:C(j)}:{...i,[u]:j})},k=m=>{r(m.target.value)},R=new Date,P=new Date(i.due_date),L=Math.floor((P-R)/(1e3*60*60*24));let D="badge bg-success";L<3&&(D="badge bg-danger");const M=Object.keys(t).filter(m=>{const u=t[m];return u.room_number.toLowerCase().includes(n.toLowerCase())||u.status.toLowerCase().includes(n.toLowerCase())||u.floor_number.toString().includes(n)||u.price.toString().includes(n)});return a.jsxs("div",{className:"container mt-3",children:[a.jsxs("div",{className:"row justify-content-end p-4",children:[a.jsx("div",{className:"col-auto",children:a.jsx("button",{type:"button",className:"btn badge text-bg-primary me-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"Add Tenent"})}),a.jsx("div",{className:"col-auto",children:a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>s(-1),children:"Back"})})]}),a.jsx("div",{className:"col-6 mb-4",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"Search",onChange:k})}),a.jsx("div",{className:"container",children:a.jsx("div",{className:"row",children:M&&M.map(m=>{const u=t[m];return a.jsx("div",{className:"col-sm-6 col-md-4",children:a.jsxs("div",{className:"card shadow-lg mb-5 bg-body rounded border-0",children:[a.jsx("img",{src:u.student_img,className:"card-img-top fixed-size-img",style:{height:"30vh",width:"30vh",display:"flex",justifyContent:"center",alignItems:"center",objectFit:"cover",margin:"auto"},alt:"Room"}),a.jsxs("div",{className:"card-body",children:[a.jsxs("ul",{className:"list-group list-group-flush",children:[a.jsxs("li",{className:"list-group-item",children:["Tenant Name:",a.jsx("span",{className:"badge bg-secondary",children:u.name})]}),a.jsxs("li",{className:"list-group-item",children:["Adhar Number:",a.jsx("span",{className:"badge bg-info",children:u.adhar_num})]}),a.jsxs("li",{className:"list-group-item",children:["Mobile Number:",a.jsxs("span",{className:"badge bg-light text-dark",children:[a.jsx("a",{href:`tel:${u.mobile_num}`,children:u.mobile_num})," | ",a.jsx("a",{href:`https://wa.me/${u.mobile_num}?text=Hello%20${u.name},%20I%20would%20like%20to%20discuss%20your%20room%20details%20Please%20Pay%20The%20Room%20Rent.`,target:"_blank",rel:"noopener noreferrer",children:"WhatsApp"})]})]}),a.jsxs("li",{className:"list-group-item",children:["Room Number:",a.jsx("span",{className:"badge bg-primary",children:u.room_number})]}),a.jsxs("li",{className:"list-group-item",children:["Status:",a.jsx("span",{className:`badge ${u.status==="Joined"?"text-bg-success":u.status==="Vacated"?"text-bg-danger":u.status==="Under Maintenance"?"text-bg-warning":""}`,children:u.status})]}),a.jsxs("li",{className:"list-group-item",children:["Floor:",a.jsx("span",{className:"badge bg-warning",children:u.floor_number})]}),a.jsxs("li",{className:"list-group-item",children:["Price:",a.jsxs("span",{className:"badge bg-primary",children:["$",u.price]})]}),a.jsxs("li",{className:"list-group-item",children:["Joining Date:",a.jsx("span",{className:"badge bg-info",children:u.date})]}),a.jsxs("li",{className:"list-group-item",children:["Due Date:",a.jsx("span",{className:D,children:u.due_date})]})]}),a.jsxs("div",{className:"card-body",children:[a.jsx("button",{className:"btn badge text-bg-primary ms-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal1",onClick:()=>_(m),children:a.jsx("i",{className:"fa-solid fa-pen-to-square"})}),a.jsx("button",{className:"btn badge text-bg-danger ",onClick:()=>x(m),children:a.jsx("i",{className:"fa-solid fa-trash"})})]})]})]})},m)})})}),a.jsx("div",{className:"modal fade",id:"exampleModal","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h1",{className:"modal-title fs-5",id:"exampleModalLabel",children:"Add Tenent"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:E,children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Date"}),a.jsx("input",{type:"date",className:"form-control",name:"date",value:i.date,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Student_name"}),a.jsx("input",{type:"text",className:"form-control",name:"name",value:i.name,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Adhar_num"}),a.jsx("input",{type:"text",className:"form-control",id:"adhar_num",name:"adhar_num",value:i.adhar_num,onChange:v,required:!0}),d.adhar&&a.jsx("span",{className:"text-danger",children:d.adhar})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Mobile_num"}),a.jsx("input",{type:"text",className:"form-control",name:"mobile_num",value:i.mobile_num,onChange:v,required:!0}),d.mobile&&a.jsx("span",{className:"text-danger",children:d.mobile})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Status"}),a.jsxs("select",{className:"form-select",name:"status",value:i.status,onChange:v,required:!0,children:[a.jsx("option",{value:"",disabled:!0,children:"Choose..."}),a.jsx("option",{className:"badge text-bg-success",value:"Joined",children:"Joined"}),a.jsx("option",{className:"badge text-bg-danger",value:"Vacated",children:"Vacated"}),a.jsx("option",{className:"badge text-bg-warning",value:"Under Maintenance",children:"Under Maintenance"})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Room Number"}),a.jsx("input",{type:"text",className:"form-control",name:"room_number",value:i.room_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Floor"}),a.jsx("input",{type:"text",className:"form-control",name:"floor_number",value:i.floor_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Price"}),a.jsxs("div",{className:"input-group",children:[a.jsx("span",{className:"input-group-text",children:"$"}),a.jsx("input",{type:"number",className:"form-control",name:"price",value:i.price,onChange:v,placeholder:"0.00",step:"0.01",min:"0",required:!0})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Tenent"}),a.jsx("input",{type:"file",name:"student_img",onChange:m=>c(m.target.files[0])})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})]})})}),a.jsx("div",{className:"modal fade",id:"exampleModal1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"exampleModalLabel",children:"Edit PG Students Record"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:b,children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Date"}),a.jsx("input",{type:"date",className:"form-control",id:"date",name:"date",value:i.date,onChange:v,required:!0})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"name",className:"form-label",children:"Student Name"}),a.jsx("input",{type:"text",className:"form-control",id:"name",name:"name",value:i.name,onChange:v,required:!0})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"adhar_num",className:"form-label",children:"Aadhaar Number"}),a.jsx("input",{type:"text",className:"form-control",id:"adhar_num",name:"adhar_num",value:i.adhar_num,onChange:v,required:!0}),d.adhar&&a.jsx("span",{className:"text-danger",children:d.adhar})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"mobile_num",className:"form-label",children:"Mobile Number"}),a.jsx("input",{type:"text",className:"form-control",id:"mobile_num",name:"mobile_num",value:i.mobile_num,onChange:v,required:!0}),d.mobile&&a.jsx("span",{className:"text-danger",children:d.mobile})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"status",className:"form-label",children:"Status"}),a.jsxs("select",{className:"form-select",id:"status",name:"status",value:i.status,onChange:v,required:!0,children:[a.jsx("option",{value:"",disabled:!0,children:"Choose..."}),a.jsx("option",{value:"Joined",className:"badge text-bg-success",children:"Joined"}),a.jsx("option",{value:"Vacated",className:"badge text-bg-danger",children:"Vacated"}),a.jsx("option",{value:"Under Maintenance",className:"badge text-bg-warning",children:"Under Maintenance"})]})]})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"room_number",className:"form-label",children:"Room Number"}),a.jsx("input",{type:"text",className:"form-control",id:"room_number",name:"room_number",value:i.room_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"floor_number",className:"form-label",children:"Floor Number"}),a.jsx("input",{type:"text",className:"form-control",id:"floor_number",name:"floor_number",value:i.floor_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"price",className:"form-label",children:"Price"}),a.jsx("input",{type:"number",className:"form-control",id:"price",name:"price",value:i.price,onChange:v,required:!0})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Tenent"}),a.jsx("input",{type:"file",name:"student_img",onChange:m=>c(m.target.files[0])})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save Changes"})]})})]})})})]})}function NA(){const[t,e]=w.useState({}),[n,r]=w.useState(""),s=he(),[i,o]=w.useState({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:"",due_date:""}),[l,c]=w.useState(null),[h,p]=w.useState(null);w.useEffect(()=>((()=>{T.child("B1").on("value",u=>{u.val()&&e(u.val())})})(),()=>T.child("B1").off()),[]);const f=async m=>{if(!m)return;const u=Ae(Oe,`file/${Me()}`);return await Pe(u,m),await De(u)},[d,g]=w.useState({adhar:"",mobile:""}),y=/^\d{12}$/,N=/^[6-9]\d{9}$/,E=async m=>{if(m.preventDefault(),i.adhar_num.trim()===""){g({...d,adhar:"Enter Aadhaar Number"});return}else if(y.test(i.adhar_num))g({...d,adhar:""});else{g({...d,adhar:"Enter valid Aadhaar Number"});return}if(i.mobile_num.trim()===""){g({...d,mobile:"Enter Mobile Number"});return}else if(N.test(i.mobile_num))g({...d,mobile:""});else{g({...d,mobile:"Enter valid Mobile Number"});return}try{const u=await T.child("B1").get();if(u.exists()&&Object.keys(u.val()).length>=6){alert("You cannot add more than 6 records. because this room contains 6 Beds only so please check the Beds.");return}const j=await f(l),W={...i,student_img:j};await T.child("B1").push(W),alert("Data saved successfully!"),o({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:""}),c(null)}catch(u){console.error("Error saving data:",u)}},b=async m=>{if(m.preventDefault(),i.adhar_num.trim()===""){g({...d,adhar:"Enter Aadhaar Number"});return}else if(y.test(i.adhar_num))g({...d,adhar:""});else{g({...d,adhar:"Enter valid Aadhaar Number"});return}if(i.mobile_num.trim()===""){g({...d,mobile:"Enter Mobile Number"});return}else if(N.test(i.mobile_num))g({...d,mobile:""});else{g({...d,mobile:"Enter valid Mobile Number"});return}try{let u={...i};if(l){const j=await f(l);u.student_img=j}await T.child(`B1/${h}`).update(u),alert("Data updated successfully!"),o({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:""}),p(null),c(null)}catch(u){console.error("Error updating data:",u)}},_=m=>{p(m),o(t[m])},x=m=>{if(window.confirm("Do you want to delete?"))try{T.child(`B1/${m}`).remove(),alert("Row deleted successfully!")}catch(u){console.error("Error deleting row:",u)}},C=m=>{const u=new Date(m);return u.setDate(u.getDate()+30),u.toISOString().split("T")[0]},v=m=>{const{name:u,value:j}=m.target;o(u==="date"?{...i,[u]:j,due_date:C(j)}:{...i,[u]:j})},k=m=>{r(m.target.value)},R=new Date,P=new Date(i.due_date),L=Math.floor((P-R)/(1e3*60*60*24));let D="badge bg-success";L<3&&(D="badge bg-danger");const M=Object.keys(t).filter(m=>{const u=t[m];return u.room_number.toLowerCase().includes(n.toLowerCase())||u.status.toLowerCase().includes(n.toLowerCase())||u.floor_number.toString().includes(n)||u.price.toString().includes(n)});return a.jsxs("div",{className:"container mt-3",children:[a.jsxs("div",{className:"row justify-content-end p-4",children:[a.jsx("div",{className:"col-auto",children:a.jsx("button",{type:"button",className:"btn badge text-bg-primary me-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"Add Tenent"})}),a.jsx("div",{className:"col-auto",children:a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>s(-1),children:"Back"})})]}),a.jsx("div",{className:"col-6 mb-4",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"Search",onChange:k})}),a.jsx("div",{className:"container",children:a.jsx("div",{className:"row",children:M&&M.map(m=>{const u=t[m];return a.jsx("div",{className:"col-sm-6 col-md-4",children:a.jsxs("div",{className:"card shadow-lg mb-5 bg-body rounded border-0",children:[a.jsx("img",{src:u.student_img,className:"card-img-top fixed-size-img",style:{height:"30vh",width:"30vh",display:"flex",justifyContent:"center",alignItems:"center",objectFit:"cover",margin:"auto"},alt:"Room"}),a.jsxs("div",{className:"card-body",children:[a.jsxs("ul",{className:"list-group list-group-flush",children:[a.jsxs("li",{className:"list-group-item",children:["Tenant Name:",a.jsx("span",{className:"badge bg-secondary",children:u.name})]}),a.jsxs("li",{className:"list-group-item",children:["Adhar Number:",a.jsx("span",{className:"badge bg-info",children:u.adhar_num})]}),a.jsxs("li",{className:"list-group-item",children:["Mobile Number:",a.jsxs("span",{className:"badge bg-light text-dark",children:[a.jsx("a",{href:`tel:${u.mobile_num}`,children:u.mobile_num})," | ",a.jsx("a",{href:`https://wa.me/${u.mobile_num}?text=Hello%20${u.name},%20I%20would%20like%20to%20discuss%20your%20room%20details%20Please%20Pay%20The%20Room%20Rent.`,target:"_blank",rel:"noopener noreferrer",children:"WhatsApp"})]})]}),a.jsxs("li",{className:"list-group-item",children:["Room Number:",a.jsx("span",{className:"badge bg-primary",children:u.room_number})]}),a.jsxs("li",{className:"list-group-item",children:["Status:",a.jsx("span",{className:`badge ${u.status==="Joined"?"text-bg-success":u.status==="Vacated"?"text-bg-danger":u.status==="Under Maintenance"?"text-bg-warning":""}`,children:u.status})]}),a.jsxs("li",{className:"list-group-item",children:["Floor:",a.jsx("span",{className:"badge bg-warning",children:u.floor_number})]}),a.jsxs("li",{className:"list-group-item",children:["Price:",a.jsxs("span",{className:"badge bg-primary",children:["$",u.price]})]}),a.jsxs("li",{className:"list-group-item",children:["Joining Date:",a.jsx("span",{className:"badge bg-info",children:u.date})]}),a.jsxs("li",{className:"list-group-item",children:["Due Date:",a.jsx("span",{className:D,children:u.due_date})]})]}),a.jsxs("div",{className:"card-body",children:[a.jsx("button",{className:"btn badge text-bg-primary ms-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal1",onClick:()=>_(m),children:a.jsx("i",{className:"fa-solid fa-pen-to-square"})}),a.jsx("button",{className:"btn badge text-bg-danger ",onClick:()=>x(m),children:a.jsx("i",{className:"fa-solid fa-trash"})})]})]})]})},m)})})}),a.jsx("div",{className:"modal fade",id:"exampleModal","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h1",{className:"modal-title fs-5",id:"exampleModalLabel",children:"Add Tenent"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:E,children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Date"}),a.jsx("input",{type:"date",className:"form-control",name:"date",value:i.date,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Student_name"}),a.jsx("input",{type:"text",className:"form-control",name:"name",value:i.name,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Adhar_num"}),a.jsx("input",{type:"text",className:"form-control",id:"adhar_num",name:"adhar_num",value:i.adhar_num,onChange:v,required:!0}),d.adhar&&a.jsx("span",{className:"text-danger",children:d.adhar})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Mobile_num"}),a.jsx("input",{type:"text",className:"form-control",name:"mobile_num",value:i.mobile_num,onChange:v,required:!0}),d.mobile&&a.jsx("span",{className:"text-danger",children:d.mobile})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Status"}),a.jsxs("select",{className:"form-select",name:"status",value:i.status,onChange:v,required:!0,children:[a.jsx("option",{value:"",disabled:!0,children:"Choose..."}),a.jsx("option",{className:"badge text-bg-success",value:"Joined",children:"Joined"}),a.jsx("option",{className:"badge text-bg-danger",value:"Vacated",children:"Vacated"}),a.jsx("option",{className:"badge text-bg-warning",value:"Under Maintenance",children:"Under Maintenance"})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Room Number"}),a.jsx("input",{type:"text",className:"form-control",name:"room_number",value:i.room_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Floor"}),a.jsx("input",{type:"text",className:"form-control",name:"floor_number",value:i.floor_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Price"}),a.jsxs("div",{className:"input-group",children:[a.jsx("span",{className:"input-group-text",children:"$"}),a.jsx("input",{type:"number",className:"form-control",name:"price",value:i.price,onChange:v,placeholder:"0.00",step:"0.01",min:"0",required:!0})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Tenent"}),a.jsx("input",{type:"file",name:"student_img",onChange:m=>c(m.target.files[0])})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})]})})}),a.jsx("div",{className:"modal fade",id:"exampleModal1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"exampleModalLabel",children:"Edit PG Students Record"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:b,children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Date"}),a.jsx("input",{type:"date",className:"form-control",id:"date",name:"date",value:i.date,onChange:v,required:!0})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"name",className:"form-label",children:"Student Name"}),a.jsx("input",{type:"text",className:"form-control",id:"name",name:"name",value:i.name,onChange:v,required:!0})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"adhar_num",className:"form-label",children:"Aadhaar Number"}),a.jsx("input",{type:"text",className:"form-control",id:"adhar_num",name:"adhar_num",value:i.adhar_num,onChange:v,required:!0}),d.adhar&&a.jsx("span",{className:"text-danger",children:d.adhar})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"mobile_num",className:"form-label",children:"Mobile Number"}),a.jsx("input",{type:"text",className:"form-control",id:"mobile_num",name:"mobile_num",value:i.mobile_num,onChange:v,required:!0}),d.mobile&&a.jsx("span",{className:"text-danger",children:d.mobile})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"status",className:"form-label",children:"Status"}),a.jsxs("select",{className:"form-select",id:"status",name:"status",value:i.status,onChange:v,required:!0,children:[a.jsx("option",{value:"",disabled:!0,children:"Choose..."}),a.jsx("option",{value:"Joined",className:"badge text-bg-success",children:"Joined"}),a.jsx("option",{value:"Vacated",className:"badge text-bg-danger",children:"Vacated"}),a.jsx("option",{value:"Under Maintenance",className:"badge text-bg-warning",children:"Under Maintenance"})]})]})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"room_number",className:"form-label",children:"Room Number"}),a.jsx("input",{type:"text",className:"form-control",id:"room_number",name:"room_number",value:i.room_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"floor_number",className:"form-label",children:"Floor Number"}),a.jsx("input",{type:"text",className:"form-control",id:"floor_number",name:"floor_number",value:i.floor_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"price",className:"form-label",children:"Price"}),a.jsx("input",{type:"number",className:"form-control",id:"price",name:"price",value:i.price,onChange:v,required:!0})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Tenent"}),a.jsx("input",{type:"file",name:"student_img",onChange:m=>c(m.target.files[0])})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save Changes"})]})})]})})})]})}function wA(){const[t,e]=w.useState({}),[n,r]=w.useState(""),s=he(),[i,o]=w.useState({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:"",due_date:""}),[l,c]=w.useState(null),[h,p]=w.useState(null);w.useEffect(()=>((()=>{T.child("B2").on("value",u=>{u.val()&&e(u.val())})})(),()=>T.child("B2").off()),[]);const f=async m=>{if(!m)return;const u=Ae(Oe,`file/${Me()}`);return await Pe(u,m),await De(u)},[d,g]=w.useState({adhar:"",mobile:""}),y=/^\d{12}$/,N=/^[6-9]\d{9}$/,E=async m=>{if(m.preventDefault(),i.adhar_num.trim()===""){g({...d,adhar:"Enter Aadhaar Number"});return}else if(y.test(i.adhar_num))g({...d,adhar:""});else{g({...d,adhar:"Enter valid Aadhaar Number"});return}if(i.mobile_num.trim()===""){g({...d,mobile:"Enter Mobile Number"});return}else if(N.test(i.mobile_num))g({...d,mobile:""});else{g({...d,mobile:"Enter valid Mobile Number"});return}try{const u=await T.child("B2").get();if(u.exists()&&Object.keys(u.val()).length>=6){alert("You cannot add more than 6 records. because this room contains 6 Beds only so please check the Beds.");return}const j=await f(l),W={...i,student_img:j};await T.child("B2").push(W),alert("Data saved successfully!"),o({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:""}),c(null)}catch(u){console.error("Error saving data:",u)}},b=async m=>{if(m.preventDefault(),i.adhar_num.trim()===""){g({...d,adhar:"Enter Aadhaar Number"});return}else if(y.test(i.adhar_num))g({...d,adhar:""});else{g({...d,adhar:"Enter valid Aadhaar Number"});return}if(i.mobile_num.trim()===""){g({...d,mobile:"Enter Mobile Number"});return}else if(N.test(i.mobile_num))g({...d,mobile:""});else{g({...d,mobile:"Enter valid Mobile Number"});return}try{let u={...i};if(l){const j=await f(l);u.student_img=j}await T.child(`B2/${h}`).update(u),alert("Data updated successfully!"),o({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:""}),p(null),c(null)}catch(u){console.error("Error updating data:",u)}},_=m=>{p(m),o(t[m])},x=m=>{if(window.confirm("Do you want to delete?"))try{T.child(`B2/${m}`).remove(),alert("Row deleted successfully!")}catch(u){console.error("Error deleting row:",u)}},C=m=>{const u=new Date(m);return u.setDate(u.getDate()+30),u.toISOString().split("T")[0]},v=m=>{const{name:u,value:j}=m.target;o(u==="date"?{...i,[u]:j,due_date:C(j)}:{...i,[u]:j})},k=m=>{r(m.target.value)},R=new Date,P=new Date(i.due_date),L=Math.floor((P-R)/(1e3*60*60*24));let D="badge bg-success";L<3&&(D="badge bg-danger");const M=Object.keys(t).filter(m=>{const u=t[m];return u.room_number.toLowerCase().includes(n.toLowerCase())||u.status.toLowerCase().includes(n.toLowerCase())||u.floor_number.toString().includes(n)||u.price.toString().includes(n)});return a.jsxs("div",{className:"container mt-3",children:[a.jsxs("div",{className:"row justify-content-end p-4",children:[a.jsx("div",{className:"col-auto",children:a.jsx("button",{type:"button",className:"btn badge text-bg-primary me-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"Add Tenent"})}),a.jsx("div",{className:"col-auto",children:a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>s(-1),children:"Back"})})]}),a.jsx("div",{className:"col-6 mb-4",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"Search",onChange:k})}),a.jsx("div",{className:"container",children:a.jsx("div",{className:"row",children:M&&M.map(m=>{const u=t[m];return a.jsx("div",{className:"col-sm-6 col-md-4",children:a.jsxs("div",{className:"card shadow-lg mb-5 bg-body rounded border-0",children:[a.jsx("img",{src:u.student_img,className:"card-img-top fixed-size-img",style:{height:"30vh",width:"30vh",display:"flex",justifyContent:"center",alignItems:"center",objectFit:"cover",margin:"auto"},alt:"Room"}),a.jsxs("div",{className:"card-body",children:[a.jsxs("ul",{className:"list-group list-group-flush",children:[a.jsxs("li",{className:"list-group-item",children:["Tenant Name:",a.jsx("span",{className:"badge bg-secondary",children:u.name})]}),a.jsxs("li",{className:"list-group-item",children:["Adhar Number:",a.jsx("span",{className:"badge bg-info",children:u.adhar_num})]}),a.jsxs("li",{className:"list-group-item",children:["Mobile Number:",a.jsxs("span",{className:"badge bg-light text-dark",children:[a.jsx("a",{href:`tel:${u.mobile_num}`,children:u.mobile_num})," | ",a.jsx("a",{href:`https://wa.me/${u.mobile_num}?text=Hello%20${u.name},%20I%20would%20like%20to%20discuss%20your%20room%20details%20Please%20Pay%20The%20Room%20Rent.`,target:"_blank",rel:"noopener noreferrer",children:"WhatsApp"})]})]}),a.jsxs("li",{className:"list-group-item",children:["Room Number:",a.jsx("span",{className:"badge bg-primary",children:u.room_number})]}),a.jsxs("li",{className:"list-group-item",children:["Status:",a.jsx("span",{className:`badge ${u.status==="Joined"?"text-bg-success":u.status==="Vacated"?"text-bg-danger":u.status==="Under Maintenance"?"text-bg-warning":""}`,children:u.status})]}),a.jsxs("li",{className:"list-group-item",children:["Floor:",a.jsx("span",{className:"badge bg-warning",children:u.floor_number})]}),a.jsxs("li",{className:"list-group-item",children:["Price:",a.jsxs("span",{className:"badge bg-primary",children:["$",u.price]})]}),a.jsxs("li",{className:"list-group-item",children:["Joining Date:",a.jsx("span",{className:"badge bg-info",children:u.date})]}),a.jsxs("li",{className:"list-group-item",children:["Due Date:",a.jsx("span",{className:D,children:u.due_date})]})]}),a.jsxs("div",{className:"card-body",children:[a.jsx("button",{className:"btn badge text-bg-primary ms-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal1",onClick:()=>_(m),children:a.jsx("i",{className:"fa-solid fa-pen-to-square"})}),a.jsx("button",{className:"btn badge text-bg-danger ",onClick:()=>x(m),children:a.jsx("i",{className:"fa-solid fa-trash"})})]})]})]})},m)})})}),a.jsx("div",{className:"modal fade",id:"exampleModal","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h1",{className:"modal-title fs-5",id:"exampleModalLabel",children:"Add Tenent"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:E,children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Date"}),a.jsx("input",{type:"date",className:"form-control",name:"date",value:i.date,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Student_name"}),a.jsx("input",{type:"text",className:"form-control",name:"name",value:i.name,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Adhar_num"}),a.jsx("input",{type:"text",className:"form-control",id:"adhar_num",name:"adhar_num",value:i.adhar_num,onChange:v,required:!0}),d.adhar&&a.jsx("span",{className:"text-danger",children:d.adhar})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Mobile_num"}),a.jsx("input",{type:"text",className:"form-control",name:"mobile_num",value:i.mobile_num,onChange:v,required:!0}),d.mobile&&a.jsx("span",{className:"text-danger",children:d.mobile})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Status"}),a.jsxs("select",{className:"form-select",name:"status",value:i.status,onChange:v,required:!0,children:[a.jsx("option",{value:"",disabled:!0,children:"Choose..."}),a.jsx("option",{className:"badge text-bg-success",value:"Joined",children:"Joined"}),a.jsx("option",{className:"badge text-bg-danger",value:"Vacated",children:"Vacated"}),a.jsx("option",{className:"badge text-bg-warning",value:"Under Maintenance",children:"Under Maintenance"})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Room Number"}),a.jsx("input",{type:"text",className:"form-control",name:"room_number",value:i.room_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Floor"}),a.jsx("input",{type:"text",className:"form-control",name:"floor_number",value:i.floor_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Price"}),a.jsxs("div",{className:"input-group",children:[a.jsx("span",{className:"input-group-text",children:"$"}),a.jsx("input",{type:"number",className:"form-control",name:"price",value:i.price,onChange:v,placeholder:"0.00",step:"0.01",min:"0",required:!0})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Tenent"}),a.jsx("input",{type:"file",name:"student_img",onChange:m=>c(m.target.files[0])})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})]})})}),a.jsx("div",{className:"modal fade",id:"exampleModal1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"exampleModalLabel",children:"Edit PG Students Record"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:b,children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Date"}),a.jsx("input",{type:"date",className:"form-control",id:"date",name:"date",value:i.date,onChange:v,required:!0})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"name",className:"form-label",children:"Student Name"}),a.jsx("input",{type:"text",className:"form-control",id:"name",name:"name",value:i.name,onChange:v,required:!0})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"adhar_num",className:"form-label",children:"Aadhaar Number"}),a.jsx("input",{type:"text",className:"form-control",id:"adhar_num",name:"adhar_num",value:i.adhar_num,onChange:v,required:!0}),d.adhar&&a.jsx("span",{className:"text-danger",children:d.adhar})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"mobile_num",className:"form-label",children:"Mobile Number"}),a.jsx("input",{type:"text",className:"form-control",id:"mobile_num",name:"mobile_num",value:i.mobile_num,onChange:v,required:!0}),d.mobile&&a.jsx("span",{className:"text-danger",children:d.mobile})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"status",className:"form-label",children:"Status"}),a.jsxs("select",{className:"form-select",id:"status",name:"status",value:i.status,onChange:v,required:!0,children:[a.jsx("option",{value:"",disabled:!0,children:"Choose..."}),a.jsx("option",{value:"Joined",className:"badge text-bg-success",children:"Joined"}),a.jsx("option",{value:"Vacated",className:"badge text-bg-danger",children:"Vacated"}),a.jsx("option",{value:"Under Maintenance",className:"badge text-bg-warning",children:"Under Maintenance"})]})]})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"room_number",className:"form-label",children:"Room Number"}),a.jsx("input",{type:"text",className:"form-control",id:"room_number",name:"room_number",value:i.room_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"floor_number",className:"form-label",children:"Floor Number"}),a.jsx("input",{type:"text",className:"form-control",id:"floor_number",name:"floor_number",value:i.floor_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"price",className:"form-label",children:"Price"}),a.jsx("input",{type:"number",className:"form-control",id:"price",name:"price",value:i.price,onChange:v,required:!0})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Tenent"}),a.jsx("input",{type:"file",name:"student_img",onChange:m=>c(m.target.files[0])})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save Changes"})]})})]})})})]})}function jA(){const[t,e]=w.useState({}),[n,r]=w.useState(""),s=he(),[i,o]=w.useState({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:"",due_date:""}),[l,c]=w.useState(null),[h,p]=w.useState(null);w.useEffect(()=>((()=>{T.child("B3").on("value",u=>{u.val()&&e(u.val())})})(),()=>T.child("B3").off()),[]);const f=async m=>{if(!m)return;const u=Ae(Oe,`file/${Me()}`);return await Pe(u,m),await De(u)},[d,g]=w.useState({adhar:"",mobile:""}),y=/^\d{12}$/,N=/^[6-9]\d{9}$/,E=async m=>{if(m.preventDefault(),i.adhar_num.trim()===""){g({...d,adhar:"Enter Aadhaar Number"});return}else if(y.test(i.adhar_num))g({...d,adhar:""});else{g({...d,adhar:"Enter valid Aadhaar Number"});return}if(i.mobile_num.trim()===""){g({...d,mobile:"Enter Mobile Number"});return}else if(N.test(i.mobile_num))g({...d,mobile:""});else{g({...d,mobile:"Enter valid Mobile Number"});return}try{const u=await T.child("B3").get();if(u.exists()&&Object.keys(u.val()).length>=3){alert("You cannot add more than 3 records. because this room contains 3 Beds only so please check the Beds.");return}const j=await f(l),W={...i,student_img:j};await T.child("B3").push(W),alert("Data saved successfully!"),o({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:""}),c(null)}catch(u){console.error("Error saving data:",u)}},b=async m=>{if(m.preventDefault(),i.adhar_num.trim()===""){g({...d,adhar:"Enter Aadhaar Number"});return}else if(y.test(i.adhar_num))g({...d,adhar:""});else{g({...d,adhar:"Enter valid Aadhaar Number"});return}if(i.mobile_num.trim()===""){g({...d,mobile:"Enter Mobile Number"});return}else if(N.test(i.mobile_num))g({...d,mobile:""});else{g({...d,mobile:"Enter valid Mobile Number"});return}try{let u={...i};if(l){const j=await f(l);u.student_img=j}await T.child(`B3/${h}`).update(u),alert("Data updated successfully!"),o({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:""}),p(null),c(null)}catch(u){console.error("Error updating data:",u)}},_=m=>{p(m),o(t[m])},x=m=>{if(window.confirm("Do you want to delete?"))try{T.child(`B3/${m}`).remove(),alert("Row deleted successfully!")}catch(u){console.error("Error deleting row:",u)}},C=m=>{const u=new Date(m);return u.setDate(u.getDate()+30),u.toISOString().split("T")[0]},v=m=>{const{name:u,value:j}=m.target;o(u==="date"?{...i,[u]:j,due_date:C(j)}:{...i,[u]:j})},k=m=>{r(m.target.value)},R=new Date,P=new Date(i.due_date),L=Math.floor((P-R)/(1e3*60*60*24));let D="badge bg-success";L<3&&(D="badge bg-danger");const M=Object.keys(t).filter(m=>{const u=t[m];return u.room_number.toLowerCase().includes(n.toLowerCase())||u.status.toLowerCase().includes(n.toLowerCase())||u.floor_number.toString().includes(n)||u.price.toString().includes(n)});return a.jsxs("div",{className:"container mt-3",children:[a.jsxs("div",{className:"row justify-content-end p-4",children:[a.jsx("div",{className:"col-auto",children:a.jsx("button",{type:"button",className:"btn badge text-bg-primary me-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"Add Tenent"})}),a.jsx("div",{className:"col-auto",children:a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>s(-1),children:"Back"})})]}),a.jsx("div",{className:"col-6 mb-4",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"Search",onChange:k})}),a.jsx("div",{className:"container",children:a.jsx("div",{className:"row",children:M&&M.map(m=>{const u=t[m];return a.jsx("div",{className:"col-sm-6 col-md-4",children:a.jsxs("div",{className:"card shadow-lg mb-5 bg-body rounded border-0",children:[a.jsx("img",{src:u.student_img,className:"card-img-top fixed-size-img",style:{height:"30vh",width:"30vh",display:"flex",justifyContent:"center",alignItems:"center",objectFit:"cover",margin:"auto"},alt:"Room"}),a.jsxs("div",{className:"card-body",children:[a.jsxs("ul",{className:"list-group list-group-flush",children:[a.jsxs("li",{className:"list-group-item",children:["Tenant Name:",a.jsx("span",{className:"badge bg-secondary",children:u.name})]}),a.jsxs("li",{className:"list-group-item",children:["Adhar Number:",a.jsx("span",{className:"badge bg-info",children:u.adhar_num})]}),a.jsxs("li",{className:"list-group-item",children:["Mobile Number:",a.jsxs("span",{className:"badge bg-light text-dark",children:[a.jsx("a",{href:`tel:${u.mobile_num}`,children:u.mobile_num})," | ",a.jsx("a",{href:`https://wa.me/${u.mobile_num}?text=Hello%20${u.name},%20I%20would%20like%20to%20discuss%20your%20room%20details%20Please%20Pay%20The%20Room%20Rent.`,target:"_blank",rel:"noopener noreferrer",children:"WhatsApp"})]})]}),a.jsxs("li",{className:"list-group-item",children:["Room Number:",a.jsx("span",{className:"badge bg-primary",children:u.room_number})]}),a.jsxs("li",{className:"list-group-item",children:["Status:",a.jsx("span",{className:`badge ${u.status==="Joined"?"text-bg-success":u.status==="Vacated"?"text-bg-danger":u.status==="Under Maintenance"?"text-bg-warning":""}`,children:u.status})]}),a.jsxs("li",{className:"list-group-item",children:["Floor:",a.jsx("span",{className:"badge bg-warning",children:u.floor_number})]}),a.jsxs("li",{className:"list-group-item",children:["Price:",a.jsxs("span",{className:"badge bg-primary",children:["$",u.price]})]}),a.jsxs("li",{className:"list-group-item",children:["Joining Date:",a.jsx("span",{className:"badge bg-info",children:u.date})]}),a.jsxs("li",{className:"list-group-item",children:["Due Date:",a.jsx("span",{className:D,children:u.due_date})]})]}),a.jsxs("div",{className:"card-body",children:[a.jsx("button",{className:"btn badge text-bg-primary ms-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal1",onClick:()=>_(m),children:a.jsx("i",{className:"fa-solid fa-pen-to-square"})}),a.jsx("button",{className:"btn badge text-bg-danger ",onClick:()=>x(m),children:a.jsx("i",{className:"fa-solid fa-trash"})})]})]})]})},m)})})}),a.jsx("div",{className:"modal fade",id:"exampleModal","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h1",{className:"modal-title fs-5",id:"exampleModalLabel",children:"Add Tenent"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:E,children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Date"}),a.jsx("input",{type:"date",className:"form-control",name:"date",value:i.date,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Student_name"}),a.jsx("input",{type:"text",className:"form-control",name:"name",value:i.name,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Adhar_num"}),a.jsx("input",{type:"text",className:"form-control",id:"adhar_num",name:"adhar_num",value:i.adhar_num,onChange:v,required:!0}),d.adhar&&a.jsx("span",{className:"text-danger",children:d.adhar})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Mobile_num"}),a.jsx("input",{type:"text",className:"form-control",name:"mobile_num",value:i.mobile_num,onChange:v,required:!0}),d.mobile&&a.jsx("span",{className:"text-danger",children:d.mobile})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Status"}),a.jsxs("select",{className:"form-select",name:"status",value:i.status,onChange:v,required:!0,children:[a.jsx("option",{value:"",disabled:!0,children:"Choose..."}),a.jsx("option",{className:"badge text-bg-success",value:"Joined",children:"Joined"}),a.jsx("option",{className:"badge text-bg-danger",value:"Vacated",children:"Vacated"}),a.jsx("option",{className:"badge text-bg-warning",value:"Under Maintenance",children:"Under Maintenance"})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Room Number"}),a.jsx("input",{type:"text",className:"form-control",name:"room_number",value:i.room_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Floor"}),a.jsx("input",{type:"text",className:"form-control",name:"floor_number",value:i.floor_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Price"}),a.jsxs("div",{className:"input-group",children:[a.jsx("span",{className:"input-group-text",children:"$"}),a.jsx("input",{type:"number",className:"form-control",name:"price",value:i.price,onChange:v,placeholder:"0.00",step:"0.01",min:"0",required:!0})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Tenent"}),a.jsx("input",{type:"file",name:"student_img",onChange:m=>c(m.target.files[0])})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})]})})}),a.jsx("div",{className:"modal fade",id:"exampleModal1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"exampleModalLabel",children:"Edit PG Students Record"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:b,children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Date"}),a.jsx("input",{type:"date",className:"form-control",id:"date",name:"date",value:i.date,onChange:v,required:!0})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"name",className:"form-label",children:"Student Name"}),a.jsx("input",{type:"text",className:"form-control",id:"name",name:"name",value:i.name,onChange:v,required:!0})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"adhar_num",className:"form-label",children:"Aadhaar Number"}),a.jsx("input",{type:"text",className:"form-control",id:"adhar_num",name:"adhar_num",value:i.adhar_num,onChange:v,required:!0}),d.adhar&&a.jsx("span",{className:"text-danger",children:d.adhar})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"mobile_num",className:"form-label",children:"Mobile Number"}),a.jsx("input",{type:"text",className:"form-control",id:"mobile_num",name:"mobile_num",value:i.mobile_num,onChange:v,required:!0}),d.mobile&&a.jsx("span",{className:"text-danger",children:d.mobile})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"status",className:"form-label",children:"Status"}),a.jsxs("select",{className:"form-select",id:"status",name:"status",value:i.status,onChange:v,required:!0,children:[a.jsx("option",{value:"",disabled:!0,children:"Choose..."}),a.jsx("option",{value:"Joined",className:"badge text-bg-success",children:"Joined"}),a.jsx("option",{value:"Vacated",className:"badge text-bg-danger",children:"Vacated"}),a.jsx("option",{value:"Under Maintenance",className:"badge text-bg-warning",children:"Under Maintenance"})]})]})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"room_number",className:"form-label",children:"Room Number"}),a.jsx("input",{type:"text",className:"form-control",id:"room_number",name:"room_number",value:i.room_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"floor_number",className:"form-label",children:"Floor Number"}),a.jsx("input",{type:"text",className:"form-control",id:"floor_number",name:"floor_number",value:i.floor_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"price",className:"form-label",children:"Price"}),a.jsx("input",{type:"number",className:"form-control",id:"price",name:"price",value:i.price,onChange:v,required:!0})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Tenent"}),a.jsx("input",{type:"file",name:"student_img",onChange:m=>c(m.target.files[0])})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save Changes"})]})})]})})})]})}function CA(){const[t,e]=w.useState({}),[n,r]=w.useState(""),s=he(),[i,o]=w.useState({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:"",due_date:""}),[l,c]=w.useState(null),[h,p]=w.useState(null);w.useEffect(()=>((()=>{T.child("B4").on("value",u=>{u.val()&&e(u.val())})})(),()=>T.child("B4").off()),[]);const f=async m=>{if(!m)return;const u=Ae(Oe,`file/${Me()}`);return await Pe(u,m),await De(u)},[d,g]=w.useState({adhar:"",mobile:""}),y=/^\d{12}$/,N=/^[6-9]\d{9}$/,E=async m=>{if(m.preventDefault(),i.adhar_num.trim()===""){g({...d,adhar:"Enter Aadhaar Number"});return}else if(y.test(i.adhar_num))g({...d,adhar:""});else{g({...d,adhar:"Enter valid Aadhaar Number"});return}if(i.mobile_num.trim()===""){g({...d,mobile:"Enter Mobile Number"});return}else if(N.test(i.mobile_num))g({...d,mobile:""});else{g({...d,mobile:"Enter valid Mobile Number"});return}try{const u=await T.child("B4").get();if(u.exists()&&Object.keys(u.val()).length>=4){alert("You cannot add more than 4 records. because this room contains 4 Beds only so please check the Beds.");return}const j=await f(l),W={...i,student_img:j};await T.child("B4").push(W),alert("Data saved successfully!"),o({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:""}),c(null)}catch(u){console.error("Error saving data:",u)}},b=async m=>{if(m.preventDefault(),i.adhar_num.trim()===""){g({...d,adhar:"Enter Aadhaar Number"});return}else if(y.test(i.adhar_num))g({...d,adhar:""});else{g({...d,adhar:"Enter valid Aadhaar Number"});return}if(i.mobile_num.trim()===""){g({...d,mobile:"Enter Mobile Number"});return}else if(N.test(i.mobile_num))g({...d,mobile:""});else{g({...d,mobile:"Enter valid Mobile Number"});return}try{let u={...i};if(l){const j=await f(l);u.student_img=j}await T.child(`B4/${h}`).update(u),alert("Data updated successfully!"),o({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:""}),p(null),c(null)}catch(u){console.error("Error updating data:",u)}},_=m=>{p(m),o(t[m])},x=m=>{if(window.confirm("Do you want to delete?"))try{T.child(`B4/${m}`).remove(),alert("Row deleted successfully!")}catch(u){console.error("Error deleting row:",u)}},C=m=>{const u=new Date(m);return u.setDate(u.getDate()+30),u.toISOString().split("T")[0]},v=m=>{const{name:u,value:j}=m.target;o(u==="date"?{...i,[u]:j,due_date:C(j)}:{...i,[u]:j})},k=m=>{r(m.target.value)},R=new Date,P=new Date(i.due_date),L=Math.floor((P-R)/(1e3*60*60*24));let D="badge bg-success";L<3&&(D="badge bg-danger");const M=Object.keys(t).filter(m=>{const u=t[m];return u.room_number.toLowerCase().includes(n.toLowerCase())||u.status.toLowerCase().includes(n.toLowerCase())||u.floor_number.toString().includes(n)||u.price.toString().includes(n)});return a.jsxs("div",{className:"container mt-3",children:[a.jsxs("div",{className:"row justify-content-end p-4",children:[a.jsx("div",{className:"col-auto",children:a.jsx("button",{type:"button",className:"btn badge text-bg-primary me-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"Add Tenent"})}),a.jsx("div",{className:"col-auto",children:a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>s(-1),children:"Back"})})]}),a.jsx("div",{className:"col-6 mb-4",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"Search",onChange:k})}),a.jsx("div",{className:"container",children:a.jsx("div",{className:"row",children:M&&M.map(m=>{const u=t[m];return a.jsx("div",{className:"col-sm-6 col-md-4",children:a.jsxs("div",{className:"card shadow-lg mb-5 bg-body rounded border-0",children:[a.jsx("img",{src:u.student_img,className:"card-img-top fixed-size-img",style:{height:"30vh",width:"30vh",display:"flex",justifyContent:"center",alignItems:"center",objectFit:"cover",margin:"auto"},alt:"Room"}),a.jsxs("div",{className:"card-body",children:[a.jsxs("ul",{className:"list-group list-group-flush",children:[a.jsxs("li",{className:"list-group-item",children:["Tenant Name:",a.jsx("span",{className:"badge bg-secondary",children:u.name})]}),a.jsxs("li",{className:"list-group-item",children:["Adhar Number:",a.jsx("span",{className:"badge bg-info",children:u.adhar_num})]}),a.jsxs("li",{className:"list-group-item",children:["Mobile Number:",a.jsxs("span",{className:"badge bg-light text-dark",children:[a.jsx("a",{href:`tel:${u.mobile_num}`,children:u.mobile_num})," | ",a.jsx("a",{href:`https://wa.me/${u.mobile_num}?text=Hello%20${u.name},%20I%20would%20like%20to%20discuss%20your%20room%20details%20Please%20Pay%20The%20Room%20Rent.`,target:"_blank",rel:"noopener noreferrer",children:"WhatsApp"})]})]}),a.jsxs("li",{className:"list-group-item",children:["Room Number:",a.jsx("span",{className:"badge bg-primary",children:u.room_number})]}),a.jsxs("li",{className:"list-group-item",children:["Status:",a.jsx("span",{className:`badge ${u.status==="Joined"?"text-bg-success":u.status==="Vacated"?"text-bg-danger":u.status==="Under Maintenance"?"text-bg-warning":""}`,children:u.status})]}),a.jsxs("li",{className:"list-group-item",children:["Floor:",a.jsx("span",{className:"badge bg-warning",children:u.floor_number})]}),a.jsxs("li",{className:"list-group-item",children:["Price:",a.jsxs("span",{className:"badge bg-primary",children:["$",u.price]})]}),a.jsxs("li",{className:"list-group-item",children:["Joining Date:",a.jsx("span",{className:"badge bg-info",children:u.date})]}),a.jsxs("li",{className:"list-group-item",children:["Due Date:",a.jsx("span",{className:D,children:u.due_date})]})]}),a.jsxs("div",{className:"card-body",children:[a.jsx("button",{className:"btn badge text-bg-primary ms-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal1",onClick:()=>_(m),children:a.jsx("i",{className:"fa-solid fa-pen-to-square"})}),a.jsx("button",{className:"btn badge text-bg-danger ",onClick:()=>x(m),children:a.jsx("i",{className:"fa-solid fa-trash"})})]})]})]})},m)})})}),a.jsx("div",{className:"modal fade",id:"exampleModal","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h1",{className:"modal-title fs-5",id:"exampleModalLabel",children:"Add Tenent"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:E,children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Date"}),a.jsx("input",{type:"date",className:"form-control",name:"date",value:i.date,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Student_name"}),a.jsx("input",{type:"text",className:"form-control",name:"name",value:i.name,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Adhar_num"}),a.jsx("input",{type:"text",className:"form-control",id:"adhar_num",name:"adhar_num",value:i.adhar_num,onChange:v,required:!0}),d.adhar&&a.jsx("span",{className:"text-danger",children:d.adhar})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Mobile_num"}),a.jsx("input",{type:"text",className:"form-control",name:"mobile_num",value:i.mobile_num,onChange:v,required:!0}),d.mobile&&a.jsx("span",{className:"text-danger",children:d.mobile})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Status"}),a.jsxs("select",{className:"form-select",name:"status",value:i.status,onChange:v,required:!0,children:[a.jsx("option",{value:"",disabled:!0,children:"Choose..."}),a.jsx("option",{className:"badge text-bg-success",value:"Joined",children:"Joined"}),a.jsx("option",{className:"badge text-bg-danger",value:"Vacated",children:"Vacated"}),a.jsx("option",{className:"badge text-bg-warning",value:"Under Maintenance",children:"Under Maintenance"})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Room Number"}),a.jsx("input",{type:"text",className:"form-control",name:"room_number",value:i.room_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Floor"}),a.jsx("input",{type:"text",className:"form-control",name:"floor_number",value:i.floor_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Price"}),a.jsxs("div",{className:"input-group",children:[a.jsx("span",{className:"input-group-text",children:"$"}),a.jsx("input",{type:"number",className:"form-control",name:"price",value:i.price,onChange:v,placeholder:"0.00",step:"0.01",min:"0",required:!0})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Tenent"}),a.jsx("input",{type:"file",name:"student_img",onChange:m=>c(m.target.files[0])})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})]})})}),a.jsx("div",{className:"modal fade",id:"exampleModal1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"exampleModalLabel",children:"Edit PG Students Record"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:b,children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Date"}),a.jsx("input",{type:"date",className:"form-control",id:"date",name:"date",value:i.date,onChange:v,required:!0})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"name",className:"form-label",children:"Student Name"}),a.jsx("input",{type:"text",className:"form-control",id:"name",name:"name",value:i.name,onChange:v,required:!0})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"adhar_num",className:"form-label",children:"Aadhaar Number"}),a.jsx("input",{type:"text",className:"form-control",id:"adhar_num",name:"adhar_num",value:i.adhar_num,onChange:v,required:!0}),d.adhar&&a.jsx("span",{className:"text-danger",children:d.adhar})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"mobile_num",className:"form-label",children:"Mobile Number"}),a.jsx("input",{type:"text",className:"form-control",id:"mobile_num",name:"mobile_num",value:i.mobile_num,onChange:v,required:!0}),d.mobile&&a.jsx("span",{className:"text-danger",children:d.mobile})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"status",className:"form-label",children:"Status"}),a.jsxs("select",{className:"form-select",id:"status",name:"status",value:i.status,onChange:v,required:!0,children:[a.jsx("option",{value:"",disabled:!0,children:"Choose..."}),a.jsx("option",{value:"Joined",className:"badge text-bg-success",children:"Joined"}),a.jsx("option",{value:"Vacated",className:"badge text-bg-danger",children:"Vacated"}),a.jsx("option",{value:"Under Maintenance",className:"badge text-bg-warning",children:"Under Maintenance"})]})]})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"room_number",className:"form-label",children:"Room Number"}),a.jsx("input",{type:"text",className:"form-control",id:"room_number",name:"room_number",value:i.room_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"floor_number",className:"form-label",children:"Floor Number"}),a.jsx("input",{type:"text",className:"form-control",id:"floor_number",name:"floor_number",value:i.floor_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"price",className:"form-label",children:"Price"}),a.jsx("input",{type:"number",className:"form-control",id:"price",name:"price",value:i.price,onChange:v,required:!0})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Tenent"}),a.jsx("input",{type:"file",name:"student_img",onChange:m=>c(m.target.files[0])})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save Changes"})]})})]})})})]})}function EA(){const[t,e]=w.useState({}),[n,r]=w.useState(""),s=he(),[i,o]=w.useState({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:"",due_date:""}),[l,c]=w.useState(null),[h,p]=w.useState(null);w.useEffect(()=>((()=>{T.child("B5").on("value",u=>{u.val()&&e(u.val())})})(),()=>T.child("B5").off()),[]);const f=async m=>{if(!m)return;const u=Ae(Oe,`file/${Me()}`);return await Pe(u,m),await De(u)},[d,g]=w.useState({adhar:"",mobile:""}),y=/^\d{12}$/,N=/^[6-9]\d{9}$/,E=async m=>{if(m.preventDefault(),i.adhar_num.trim()===""){g({...d,adhar:"Enter Aadhaar Number"});return}else if(y.test(i.adhar_num))g({...d,adhar:""});else{g({...d,adhar:"Enter valid Aadhaar Number"});return}if(i.mobile_num.trim()===""){g({...d,mobile:"Enter Mobile Number"});return}else if(N.test(i.mobile_num))g({...d,mobile:""});else{g({...d,mobile:"Enter valid Mobile Number"});return}try{const u=await T.child("B5").get();if(u.exists()&&Object.keys(u.val()).length>=6){alert("You cannot add more than 6 records. because this room contains 6 Beds only so please check the Beds.");return}const j=await f(l),W={...i,student_img:j};await T.child("B5").push(W),alert("Data saved successfully!"),o({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:""}),c(null)}catch(u){console.error("Error saving data:",u)}},b=async m=>{if(m.preventDefault(),i.adhar_num.trim()===""){g({...d,adhar:"Enter Aadhaar Number"});return}else if(y.test(i.adhar_num))g({...d,adhar:""});else{g({...d,adhar:"Enter valid Aadhaar Number"});return}if(i.mobile_num.trim()===""){g({...d,mobile:"Enter Mobile Number"});return}else if(N.test(i.mobile_num))g({...d,mobile:""});else{g({...d,mobile:"Enter valid Mobile Number"});return}try{let u={...i};if(l){const j=await f(l);u.student_img=j}await T.child(`B5/${h}`).update(u),alert("Data updated successfully!"),o({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:""}),p(null),c(null)}catch(u){console.error("Error updating data:",u)}},_=m=>{p(m),o(t[m])},x=m=>{if(window.confirm("Do you want to delete?"))try{T.child(`B5/${m}`).remove(),alert("Row deleted successfully!")}catch(u){console.error("Error deleting row:",u)}},C=m=>{const u=new Date(m);return u.setDate(u.getDate()+30),u.toISOString().split("T")[0]},v=m=>{const{name:u,value:j}=m.target;o(u==="date"?{...i,[u]:j,due_date:C(j)}:{...i,[u]:j})},k=m=>{r(m.target.value)},R=new Date,P=new Date(i.due_date),L=Math.floor((P-R)/(1e3*60*60*24));let D="badge bg-success";L<3&&(D="badge bg-danger");const M=Object.keys(t).filter(m=>{const u=t[m];return u.room_number.toLowerCase().includes(n.toLowerCase())||u.status.toLowerCase().includes(n.toLowerCase())||u.floor_number.toString().includes(n)||u.price.toString().includes(n)});return a.jsxs("div",{className:"container mt-3",children:[a.jsxs("div",{className:"row justify-content-end p-4",children:[a.jsx("div",{className:"col-auto",children:a.jsx("button",{type:"button",className:"btn badge text-bg-primary me-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"Add Tenent"})}),a.jsx("div",{className:"col-auto",children:a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>s(-1),children:"Back"})})]}),a.jsx("div",{className:"col-6 mb-4",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"Search",onChange:k})}),a.jsx("div",{className:"container",children:a.jsx("div",{className:"row",children:M&&M.map(m=>{const u=t[m];return a.jsx("div",{className:"col-sm-6 col-md-4",children:a.jsxs("div",{className:"card shadow-lg mb-5 bg-body rounded border-0",children:[a.jsx("img",{src:u.student_img,className:"card-img-top fixed-size-img",style:{height:"30vh",width:"30vh",display:"flex",justifyContent:"center",alignItems:"center",objectFit:"cover",margin:"auto"},alt:"Room"}),a.jsxs("div",{className:"card-body",children:[a.jsxs("ul",{className:"list-group list-group-flush",children:[a.jsxs("li",{className:"list-group-item",children:["Tenant Name:",a.jsx("span",{className:"badge bg-secondary",children:u.name})]}),a.jsxs("li",{className:"list-group-item",children:["Adhar Number:",a.jsx("span",{className:"badge bg-info",children:u.adhar_num})]}),a.jsxs("li",{className:"list-group-item",children:["Mobile Number:",a.jsxs("span",{className:"badge bg-light text-dark",children:[a.jsx("a",{href:`tel:${u.mobile_num}`,children:u.mobile_num})," | ",a.jsx("a",{href:`https://wa.me/${u.mobile_num}?text=Hello%20${u.name},%20I%20would%20like%20to%20discuss%20your%20room%20details%20Please%20Pay%20The%20Room%20Rent.`,target:"_blank",rel:"noopener noreferrer",children:"WhatsApp"})]})]}),a.jsxs("li",{className:"list-group-item",children:["Room Number:",a.jsx("span",{className:"badge bg-primary",children:u.room_number})]}),a.jsxs("li",{className:"list-group-item",children:["Status:",a.jsx("span",{className:`badge ${u.status==="Joined"?"text-bg-success":u.status==="Vacated"?"text-bg-danger":u.status==="Under Maintenance"?"text-bg-warning":""}`,children:u.status})]}),a.jsxs("li",{className:"list-group-item",children:["Floor:",a.jsx("span",{className:"badge bg-warning",children:u.floor_number})]}),a.jsxs("li",{className:"list-group-item",children:["Price:",a.jsxs("span",{className:"badge bg-primary",children:["$",u.price]})]}),a.jsxs("li",{className:"list-group-item",children:["Joining Date:",a.jsx("span",{className:"badge bg-info",children:u.date})]}),a.jsxs("li",{className:"list-group-item",children:["Due Date:",a.jsx("span",{className:D,children:u.due_date})]})]}),a.jsxs("div",{className:"card-body",children:[a.jsx("button",{className:"btn badge text-bg-primary ms-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal1",onClick:()=>_(m),children:a.jsx("i",{className:"fa-solid fa-pen-to-square"})}),a.jsx("button",{className:"btn badge text-bg-danger ",onClick:()=>x(m),children:a.jsx("i",{className:"fa-solid fa-trash"})})]})]})]})},m)})})}),a.jsx("div",{className:"modal fade",id:"exampleModal","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h1",{className:"modal-title fs-5",id:"exampleModalLabel",children:"Add Tenent"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:E,children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Date"}),a.jsx("input",{type:"date",className:"form-control",name:"date",value:i.date,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Student_name"}),a.jsx("input",{type:"text",className:"form-control",name:"name",value:i.name,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Adhar_num"}),a.jsx("input",{type:"text",className:"form-control",id:"adhar_num",name:"adhar_num",value:i.adhar_num,onChange:v,required:!0}),d.adhar&&a.jsx("span",{className:"text-danger",children:d.adhar})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Mobile_num"}),a.jsx("input",{type:"text",className:"form-control",name:"mobile_num",value:i.mobile_num,onChange:v,required:!0}),d.mobile&&a.jsx("span",{className:"text-danger",children:d.mobile})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Status"}),a.jsxs("select",{className:"form-select",name:"status",value:i.status,onChange:v,required:!0,children:[a.jsx("option",{value:"",disabled:!0,children:"Choose..."}),a.jsx("option",{className:"badge text-bg-success",value:"Joined",children:"Joined"}),a.jsx("option",{className:"badge text-bg-danger",value:"Vacated",children:"Vacated"}),a.jsx("option",{className:"badge text-bg-warning",value:"Under Maintenance",children:"Under Maintenance"})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Room Number"}),a.jsx("input",{type:"text",className:"form-control",name:"room_number",value:i.room_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Floor"}),a.jsx("input",{type:"text",className:"form-control",name:"floor_number",value:i.floor_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Price"}),a.jsxs("div",{className:"input-group",children:[a.jsx("span",{className:"input-group-text",children:"$"}),a.jsx("input",{type:"number",className:"form-control",name:"price",value:i.price,onChange:v,placeholder:"0.00",step:"0.01",min:"0",required:!0})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Tenent"}),a.jsx("input",{type:"file",name:"student_img",onChange:m=>c(m.target.files[0])})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})]})})}),a.jsx("div",{className:"modal fade",id:"exampleModal1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"exampleModalLabel",children:"Edit PG Students Record"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:b,children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Date"}),a.jsx("input",{type:"date",className:"form-control",id:"date",name:"date",value:i.date,onChange:v,required:!0})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"name",className:"form-label",children:"Student Name"}),a.jsx("input",{type:"text",className:"form-control",id:"name",name:"name",value:i.name,onChange:v,required:!0})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"adhar_num",className:"form-label",children:"Aadhaar Number"}),a.jsx("input",{type:"text",className:"form-control",id:"adhar_num",name:"adhar_num",value:i.adhar_num,onChange:v,required:!0}),d.adhar&&a.jsx("span",{className:"text-danger",children:d.adhar})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"mobile_num",className:"form-label",children:"Mobile Number"}),a.jsx("input",{type:"text",className:"form-control",id:"mobile_num",name:"mobile_num",value:i.mobile_num,onChange:v,required:!0}),d.mobile&&a.jsx("span",{className:"text-danger",children:d.mobile})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"status",className:"form-label",children:"Status"}),a.jsxs("select",{className:"form-select",id:"status",name:"status",value:i.status,onChange:v,required:!0,children:[a.jsx("option",{value:"",disabled:!0,children:"Choose..."}),a.jsx("option",{value:"Joined",className:"badge text-bg-success",children:"Joined"}),a.jsx("option",{value:"Vacated",className:"badge text-bg-danger",children:"Vacated"}),a.jsx("option",{value:"Under Maintenance",className:"badge text-bg-warning",children:"Under Maintenance"})]})]})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"room_number",className:"form-label",children:"Room Number"}),a.jsx("input",{type:"text",className:"form-control",id:"room_number",name:"room_number",value:i.room_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"floor_number",className:"form-label",children:"Floor Number"}),a.jsx("input",{type:"text",className:"form-control",id:"floor_number",name:"floor_number",value:i.floor_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"price",className:"form-label",children:"Price"}),a.jsx("input",{type:"number",className:"form-control",id:"price",name:"price",value:i.price,onChange:v,required:!0})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Tenent"}),a.jsx("input",{type:"file",name:"student_img",onChange:m=>c(m.target.files[0])})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save Changes"})]})})]})})})]})}function SA(){const[t,e]=w.useState({}),[n,r]=w.useState(""),s=he(),[i,o]=w.useState({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:"",due_date:""}),[l,c]=w.useState(null),[h,p]=w.useState(null);w.useEffect(()=>((()=>{T.child("B6").on("value",u=>{u.val()&&e(u.val())})})(),()=>T.child("B6").off()),[]);const f=async m=>{if(!m)return;const u=Ae(Oe,`file/${Me()}`);return await Pe(u,m),await De(u)},[d,g]=w.useState({adhar:"",mobile:""}),y=/^\d{12}$/,N=/^[6-9]\d{9}$/,E=async m=>{if(m.preventDefault(),i.adhar_num.trim()===""){g({...d,adhar:"Enter Aadhaar Number"});return}else if(y.test(i.adhar_num))g({...d,adhar:""});else{g({...d,adhar:"Enter valid Aadhaar Number"});return}if(i.mobile_num.trim()===""){g({...d,mobile:"Enter Mobile Number"});return}else if(N.test(i.mobile_num))g({...d,mobile:""});else{g({...d,mobile:"Enter valid Mobile Number"});return}try{const u=await T.child("B6").get();if(u.exists()&&Object.keys(u.val()).length>=1){alert("You cannot add more than 1 records. because this room contains 1 Beds only so please check the Beds.");return}const j=await f(l),W={...i,student_img:j};await T.child("B6").push(W),alert("Data saved successfully!"),o({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:""}),c(null)}catch(u){console.error("Error saving data:",u)}},b=async m=>{if(m.preventDefault(),i.adhar_num.trim()===""){g({...d,adhar:"Enter Aadhaar Number"});return}else if(y.test(i.adhar_num))g({...d,adhar:""});else{g({...d,adhar:"Enter valid Aadhaar Number"});return}if(i.mobile_num.trim()===""){g({...d,mobile:"Enter Mobile Number"});return}else if(N.test(i.mobile_num))g({...d,mobile:""});else{g({...d,mobile:"Enter valid Mobile Number"});return}try{let u={...i};if(l){const j=await f(l);u.student_img=j}await T.child(`B6/${h}`).update(u),alert("Data updated successfully!"),o({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:""}),p(null),c(null)}catch(u){console.error("Error updating data:",u)}},_=m=>{p(m),o(t[m])},x=m=>{if(window.confirm("Do you want to delete?"))try{T.child(`B6/${m}`).remove(),alert("Row deleted successfully!")}catch(u){console.error("Error deleting row:",u)}},C=m=>{const u=new Date(m);return u.setDate(u.getDate()+30),u.toISOString().split("T")[0]},v=m=>{const{name:u,value:j}=m.target;o(u==="date"?{...i,[u]:j,due_date:C(j)}:{...i,[u]:j})},k=m=>{r(m.target.value)},R=new Date,P=new Date(i.due_date),L=Math.floor((P-R)/(1e3*60*60*24));let D="badge bg-success";L<3&&(D="badge bg-danger");const M=Object.keys(t).filter(m=>{const u=t[m];return u.room_number.toLowerCase().includes(n.toLowerCase())||u.status.toLowerCase().includes(n.toLowerCase())||u.floor_number.toString().includes(n)||u.price.toString().includes(n)});return a.jsxs("div",{className:"container mt-3",children:[a.jsxs("div",{className:"row justify-content-end p-4",children:[a.jsx("div",{className:"col-auto",children:a.jsx("button",{type:"button",className:"btn badge text-bg-primary me-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"Add Tenent"})}),a.jsx("div",{className:"col-auto",children:a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>s(-1),children:"Back"})})]}),a.jsx("div",{className:"col-6 mb-4",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"Search",onChange:k})}),a.jsx("div",{className:"container",children:a.jsx("div",{className:"row",children:M&&M.map(m=>{const u=t[m];return a.jsx("div",{className:"col-sm-6 col-md-4",children:a.jsxs("div",{className:"card shadow-lg mb-5 bg-body rounded border-0",children:[a.jsx("img",{src:u.student_img,className:"card-img-top fixed-size-img",style:{height:"30vh",width:"30vh",display:"flex",justifyContent:"center",alignItems:"center",objectFit:"cover",margin:"auto"},alt:"Room"}),a.jsxs("div",{className:"card-body",children:[a.jsxs("ul",{className:"list-group list-group-flush",children:[a.jsxs("li",{className:"list-group-item",children:["Tenant Name:",a.jsx("span",{className:"badge bg-secondary",children:u.name})]}),a.jsxs("li",{className:"list-group-item",children:["Adhar Number:",a.jsx("span",{className:"badge bg-info",children:u.adhar_num})]}),a.jsxs("li",{className:"list-group-item",children:["Mobile Number:",a.jsxs("span",{className:"badge bg-light text-dark",children:[a.jsx("a",{href:`tel:${u.mobile_num}`,children:u.mobile_num})," | ",a.jsx("a",{href:`https://wa.me/${u.mobile_num}?text=Hello%20${u.name},%20I%20would%20like%20to%20discuss%20your%20room%20details%20Please%20Pay%20The%20Room%20Rent.`,target:"_blank",rel:"noopener noreferrer",children:"WhatsApp"})]})]}),a.jsxs("li",{className:"list-group-item",children:["Room Number:",a.jsx("span",{className:"badge bg-primary",children:u.room_number})]}),a.jsxs("li",{className:"list-group-item",children:["Status:",a.jsx("span",{className:`badge ${u.status==="Joined"?"text-bg-success":u.status==="Vacated"?"text-bg-danger":u.status==="Under Maintenance"?"text-bg-warning":""}`,children:u.status})]}),a.jsxs("li",{className:"list-group-item",children:["Floor:",a.jsx("span",{className:"badge bg-warning",children:u.floor_number})]}),a.jsxs("li",{className:"list-group-item",children:["Price:",a.jsxs("span",{className:"badge bg-primary",children:["$",u.price]})]}),a.jsxs("li",{className:"list-group-item",children:["Joining Date:",a.jsx("span",{className:"badge bg-info",children:u.date})]}),a.jsxs("li",{className:"list-group-item",children:["Due Date:",a.jsx("span",{className:D,children:u.due_date})]})]}),a.jsxs("div",{className:"card-body",children:[a.jsx("button",{className:"btn badge text-bg-primary ms-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal1",onClick:()=>_(m),children:a.jsx("i",{className:"fa-solid fa-pen-to-square"})}),a.jsx("button",{className:"btn badge text-bg-danger ",onClick:()=>x(m),children:a.jsx("i",{className:"fa-solid fa-trash"})})]})]})]})},m)})})}),a.jsx("div",{className:"modal fade",id:"exampleModal","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h1",{className:"modal-title fs-5",id:"exampleModalLabel",children:"Add Tenent"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:E,children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Date"}),a.jsx("input",{type:"date",className:"form-control",name:"date",value:i.date,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Student_name"}),a.jsx("input",{type:"text",className:"form-control",name:"name",value:i.name,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Adhar_num"}),a.jsx("input",{type:"text",className:"form-control",id:"adhar_num",name:"adhar_num",value:i.adhar_num,onChange:v,required:!0}),d.adhar&&a.jsx("span",{className:"text-danger",children:d.adhar})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Mobile_num"}),a.jsx("input",{type:"text",className:"form-control",name:"mobile_num",value:i.mobile_num,onChange:v,required:!0}),d.mobile&&a.jsx("span",{className:"text-danger",children:d.mobile})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Status"}),a.jsxs("select",{className:"form-select",name:"status",value:i.status,onChange:v,required:!0,children:[a.jsx("option",{value:"",disabled:!0,children:"Choose..."}),a.jsx("option",{className:"badge text-bg-success",value:"Joined",children:"Joined"}),a.jsx("option",{className:"badge text-bg-danger",value:"Vacated",children:"Vacated"}),a.jsx("option",{className:"badge text-bg-warning",value:"Under Maintenance",children:"Under Maintenance"})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Room Number"}),a.jsx("input",{type:"text",className:"form-control",name:"room_number",value:i.room_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Floor"}),a.jsx("input",{type:"text",className:"form-control",name:"floor_number",value:i.floor_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Price"}),a.jsxs("div",{className:"input-group",children:[a.jsx("span",{className:"input-group-text",children:"$"}),a.jsx("input",{type:"number",className:"form-control",name:"price",value:i.price,onChange:v,placeholder:"0.00",step:"0.01",min:"0",required:!0})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Tenent"}),a.jsx("input",{type:"file",name:"student_img",onChange:m=>c(m.target.files[0])})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})]})})}),a.jsx("div",{className:"modal fade",id:"exampleModal1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"exampleModalLabel",children:"Edit PG Students Record"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:b,children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Date"}),a.jsx("input",{type:"date",className:"form-control",id:"date",name:"date",value:i.date,onChange:v,required:!0})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"name",className:"form-label",children:"Student Name"}),a.jsx("input",{type:"text",className:"form-control",id:"name",name:"name",value:i.name,onChange:v,required:!0})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"adhar_num",className:"form-label",children:"Aadhaar Number"}),a.jsx("input",{type:"text",className:"form-control",id:"adhar_num",name:"adhar_num",value:i.adhar_num,onChange:v,required:!0}),d.adhar&&a.jsx("span",{className:"text-danger",children:d.adhar})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"mobile_num",className:"form-label",children:"Mobile Number"}),a.jsx("input",{type:"text",className:"form-control",id:"mobile_num",name:"mobile_num",value:i.mobile_num,onChange:v,required:!0}),d.mobile&&a.jsx("span",{className:"text-danger",children:d.mobile})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"status",className:"form-label",children:"Status"}),a.jsxs("select",{className:"form-select",id:"status",name:"status",value:i.status,onChange:v,required:!0,children:[a.jsx("option",{value:"",disabled:!0,children:"Choose..."}),a.jsx("option",{value:"Joined",className:"badge text-bg-success",children:"Joined"}),a.jsx("option",{value:"Vacated",className:"badge text-bg-danger",children:"Vacated"}),a.jsx("option",{value:"Under Maintenance",className:"badge text-bg-warning",children:"Under Maintenance"})]})]})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"room_number",className:"form-label",children:"Room Number"}),a.jsx("input",{type:"text",className:"form-control",id:"room_number",name:"room_number",value:i.room_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"floor_number",className:"form-label",children:"Floor Number"}),a.jsx("input",{type:"text",className:"form-control",id:"floor_number",name:"floor_number",value:i.floor_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"price",className:"form-label",children:"Price"}),a.jsx("input",{type:"number",className:"form-control",id:"price",name:"price",value:i.price,onChange:v,required:!0})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Tenent"}),a.jsx("input",{type:"file",name:"student_img",onChange:m=>c(m.target.files[0])})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save Changes"})]})})]})})})]})}function IA(){const[t,e]=w.useState({}),[n,r]=w.useState(""),s=he(),[i,o]=w.useState({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:"",due_date:""}),[l,c]=w.useState(null),[h,p]=w.useState(null);w.useEffect(()=>((()=>{T.child("C1").on("value",u=>{u.val()&&e(u.val())})})(),()=>T.child("C1").off()),[]);const f=async m=>{if(!m)return;const u=Ae(Oe,`file/${Me()}`);return await Pe(u,m),await De(u)},[d,g]=w.useState({adhar:"",mobile:""}),y=/^\d{12}$/,N=/^[6-9]\d{9}$/,E=async m=>{if(m.preventDefault(),i.adhar_num.trim()===""){g({...d,adhar:"Enter Aadhaar Number"});return}else if(y.test(i.adhar_num))g({...d,adhar:""});else{g({...d,adhar:"Enter valid Aadhaar Number"});return}if(i.mobile_num.trim()===""){g({...d,mobile:"Enter Mobile Number"});return}else if(N.test(i.mobile_num))g({...d,mobile:""});else{g({...d,mobile:"Enter valid Mobile Number"});return}try{const u=await T.child("C1").get();if(u.exists()&&Object.keys(u.val()).length>=1){alert("You cannot add more than 1 records. because this room contains 1 Beds only so please check the Beds.");return}const j=await f(l),W={...i,student_img:j};await T.child("C1").push(W),alert("Data saved successfully!"),o({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:""}),c(null)}catch(u){console.error("Error saving data:",u)}},b=async m=>{if(m.preventDefault(),i.adhar_num.trim()===""){g({...d,adhar:"Enter Aadhaar Number"});return}else if(y.test(i.adhar_num))g({...d,adhar:""});else{g({...d,adhar:"Enter valid Aadhaar Number"});return}if(i.mobile_num.trim()===""){g({...d,mobile:"Enter Mobile Number"});return}else if(N.test(i.mobile_num))g({...d,mobile:""});else{g({...d,mobile:"Enter valid Mobile Number"});return}try{let u={...i};if(l){const j=await f(l);u.student_img=j}await T.child(`C1/${h}`).update(u),alert("Data updated successfully!"),o({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:""}),p(null),c(null)}catch(u){console.error("Error updating data:",u)}},_=m=>{p(m),o(t[m])},x=m=>{if(window.confirm("Do you want to delete?"))try{T.child(`C1/${m}`).remove(),alert("Row deleted successfully!")}catch(u){console.error("Error deleting row:",u)}},C=m=>{const u=new Date(m);return u.setDate(u.getDate()+30),u.toISOString().split("T")[0]},v=m=>{const{name:u,value:j}=m.target;o(u==="date"?{...i,[u]:j,due_date:C(j)}:{...i,[u]:j})},k=m=>{r(m.target.value)},R=new Date,P=new Date(i.due_date),L=Math.floor((P-R)/(1e3*60*60*24));let D="badge bg-success";L<3&&(D="badge bg-danger");const M=Object.keys(t).filter(m=>{const u=t[m];return u.room_number.toLowerCase().includes(n.toLowerCase())||u.status.toLowerCase().includes(n.toLowerCase())||u.floor_number.toString().includes(n)||u.price.toString().includes(n)});return a.jsxs("div",{className:"container mt-3",children:[a.jsxs("div",{className:"row justify-content-end p-4",children:[a.jsx("div",{className:"col-auto",children:a.jsx("button",{type:"button",className:"btn badge text-bg-primary me-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"Add Tenent"})}),a.jsx("div",{className:"col-auto",children:a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>s(-1),children:"Back"})})]}),a.jsx("div",{className:"col-6 mb-4",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"Search",onChange:k})}),a.jsx("div",{className:"container",children:a.jsx("div",{className:"row",children:M&&M.map(m=>{const u=t[m];return a.jsx("div",{className:"col-sm-6 col-md-4",children:a.jsxs("div",{className:"card shadow-lg mb-5 bg-body rounded border-0",children:[a.jsx("img",{src:u.student_img,className:"card-img-top fixed-size-img",style:{height:"30vh",width:"30vh",display:"flex",justifyContent:"center",alignItems:"center",objectFit:"cover",margin:"auto"},alt:"Room"}),a.jsxs("div",{className:"card-body",children:[a.jsxs("ul",{className:"list-group list-group-flush",children:[a.jsxs("li",{className:"list-group-item",children:["Tenant Name:",a.jsx("span",{className:"badge bg-secondary",children:u.name})]}),a.jsxs("li",{className:"list-group-item",children:["Adhar Number:",a.jsx("span",{className:"badge bg-info",children:u.adhar_num})]}),a.jsxs("li",{className:"list-group-item",children:["Mobile Number:",a.jsxs("span",{className:"badge bg-light text-dark",children:[a.jsx("a",{href:`tel:${u.mobile_num}`,children:u.mobile_num})," | ",a.jsx("a",{href:`https://wa.me/${u.mobile_num}?text=Hello%20${u.name},%20I%20would%20like%20to%20discuss%20your%20room%20details%20Please%20Pay%20The%20Room%20Rent.`,target:"_blank",rel:"noopener noreferrer",children:"WhatsApp"})]})]}),a.jsxs("li",{className:"list-group-item",children:["Room Number:",a.jsx("span",{className:"badge bg-primary",children:u.room_number})]}),a.jsxs("li",{className:"list-group-item",children:["Status:",a.jsx("span",{className:`badge ${u.status==="Joined"?"text-bg-success":u.status==="Vacated"?"text-bg-danger":u.status==="Under Maintenance"?"text-bg-warning":""}`,children:u.status})]}),a.jsxs("li",{className:"list-group-item",children:["Floor:",a.jsx("span",{className:"badge bg-warning",children:u.floor_number})]}),a.jsxs("li",{className:"list-group-item",children:["Price:",a.jsxs("span",{className:"badge bg-primary",children:["$",u.price]})]}),a.jsxs("li",{className:"list-group-item",children:["Joining Date:",a.jsx("span",{className:"badge bg-info",children:u.date})]}),a.jsxs("li",{className:"list-group-item",children:["Due Date:",a.jsx("span",{className:D,children:u.due_date})]})]}),a.jsxs("div",{className:"card-body",children:[a.jsx("button",{className:"btn badge text-bg-primary ms-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal1",onClick:()=>_(m),children:a.jsx("i",{className:"fa-solid fa-pen-to-square"})}),a.jsx("button",{className:"btn badge text-bg-danger ",onClick:()=>x(m),children:a.jsx("i",{className:"fa-solid fa-trash"})})]})]})]})},m)})})}),a.jsx("div",{className:"modal fade",id:"exampleModal","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h1",{className:"modal-title fs-5",id:"exampleModalLabel",children:"Add Tenent"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:E,children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Date"}),a.jsx("input",{type:"date",className:"form-control",name:"date",value:i.date,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Student_name"}),a.jsx("input",{type:"text",className:"form-control",name:"name",value:i.name,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Adhar_num"}),a.jsx("input",{type:"text",className:"form-control",id:"adhar_num",name:"adhar_num",value:i.adhar_num,onChange:v,required:!0}),d.adhar&&a.jsx("span",{className:"text-danger",children:d.adhar})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Mobile_num"}),a.jsx("input",{type:"text",className:"form-control",name:"mobile_num",value:i.mobile_num,onChange:v,required:!0}),d.mobile&&a.jsx("span",{className:"text-danger",children:d.mobile})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Status"}),a.jsxs("select",{className:"form-select",name:"status",value:i.status,onChange:v,required:!0,children:[a.jsx("option",{value:"",disabled:!0,children:"Choose..."}),a.jsx("option",{className:"badge text-bg-success",value:"Joined",children:"Joined"}),a.jsx("option",{className:"badge text-bg-danger",value:"Vacated",children:"Vacated"}),a.jsx("option",{className:"badge text-bg-warning",value:"Under Maintenance",children:"Under Maintenance"})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Room Number"}),a.jsx("input",{type:"text",className:"form-control",name:"room_number",value:i.room_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Floor"}),a.jsx("input",{type:"text",className:"form-control",name:"floor_number",value:i.floor_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Price"}),a.jsxs("div",{className:"input-group",children:[a.jsx("span",{className:"input-group-text",children:"$"}),a.jsx("input",{type:"number",className:"form-control",name:"price",value:i.price,onChange:v,placeholder:"0.00",step:"0.01",min:"0",required:!0})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Tenent"}),a.jsx("input",{type:"file",name:"student_img",onChange:m=>c(m.target.files[0])})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})]})})}),a.jsx("div",{className:"modal fade",id:"exampleModal1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"exampleModalLabel",children:"Edit PG Students Record"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:b,children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Date"}),a.jsx("input",{type:"date",className:"form-control",id:"date",name:"date",value:i.date,onChange:v,required:!0})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"name",className:"form-label",children:"Student Name"}),a.jsx("input",{type:"text",className:"form-control",id:"name",name:"name",value:i.name,onChange:v,required:!0})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"adhar_num",className:"form-label",children:"Aadhaar Number"}),a.jsx("input",{type:"text",className:"form-control",id:"adhar_num",name:"adhar_num",value:i.adhar_num,onChange:v,required:!0}),d.adhar&&a.jsx("span",{className:"text-danger",children:d.adhar})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"mobile_num",className:"form-label",children:"Mobile Number"}),a.jsx("input",{type:"text",className:"form-control",id:"mobile_num",name:"mobile_num",value:i.mobile_num,onChange:v,required:!0}),d.mobile&&a.jsx("span",{className:"text-danger",children:d.mobile})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"status",className:"form-label",children:"Status"}),a.jsxs("select",{className:"form-select",id:"status",name:"status",value:i.status,onChange:v,required:!0,children:[a.jsx("option",{value:"",disabled:!0,children:"Choose..."}),a.jsx("option",{value:"Joined",className:"badge text-bg-success",children:"Joined"}),a.jsx("option",{value:"Vacated",className:"badge text-bg-danger",children:"Vacated"}),a.jsx("option",{value:"Under Maintenance",className:"badge text-bg-warning",children:"Under Maintenance"})]})]})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"room_number",className:"form-label",children:"Room Number"}),a.jsx("input",{type:"text",className:"form-control",id:"room_number",name:"room_number",value:i.room_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"floor_number",className:"form-label",children:"Floor Number"}),a.jsx("input",{type:"text",className:"form-control",id:"floor_number",name:"floor_number",value:i.floor_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"price",className:"form-label",children:"Price"}),a.jsx("input",{type:"number",className:"form-control",id:"price",name:"price",value:i.price,onChange:v,required:!0})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Tenent"}),a.jsx("input",{type:"file",name:"student_img",onChange:m=>c(m.target.files[0])})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save Changes"})]})})]})})})]})}function TA(){const[t,e]=w.useState({}),[n,r]=w.useState(""),s=he(),[i,o]=w.useState({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:"",due_date:""}),[l,c]=w.useState(null),[h,p]=w.useState(null);w.useEffect(()=>((()=>{T.child("C2").on("value",u=>{u.val()&&e(u.val())})})(),()=>T.child("C2").off()),[]);const f=async m=>{if(!m)return;const u=Ae(Oe,`file/${Me()}`);return await Pe(u,m),await De(u)},[d,g]=w.useState({adhar:"",mobile:""}),y=/^\d{12}$/,N=/^[6-9]\d{9}$/,E=async m=>{if(m.preventDefault(),i.adhar_num.trim()===""){g({...d,adhar:"Enter Aadhaar Number"});return}else if(y.test(i.adhar_num))g({...d,adhar:""});else{g({...d,adhar:"Enter valid Aadhaar Number"});return}if(i.mobile_num.trim()===""){g({...d,mobile:"Enter Mobile Number"});return}else if(N.test(i.mobile_num))g({...d,mobile:""});else{g({...d,mobile:"Enter valid Mobile Number"});return}try{const u=await T.child("C2").get();if(u.exists()&&Object.keys(u.val()).length>=1){alert("You cannot add more than 1 records. because this room contains 1 Beds only so please check the Beds.");return}const j=await f(l),W={...i,student_img:j};await T.child("C2").push(W),alert("Data saved successfully!"),o({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:""}),c(null)}catch(u){console.error("Error saving data:",u)}},b=async m=>{if(m.preventDefault(),i.adhar_num.trim()===""){g({...d,adhar:"Enter Aadhaar Number"});return}else if(y.test(i.adhar_num))g({...d,adhar:""});else{g({...d,adhar:"Enter valid Aadhaar Number"});return}if(i.mobile_num.trim()===""){g({...d,mobile:"Enter Mobile Number"});return}else if(N.test(i.mobile_num))g({...d,mobile:""});else{g({...d,mobile:"Enter valid Mobile Number"});return}try{let u={...i};if(l){const j=await f(l);u.student_img=j}await T.child(`C2/${h}`).update(u),alert("Data updated successfully!"),o({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:""}),p(null),c(null)}catch(u){console.error("Error updating data:",u)}},_=m=>{p(m),o(t[m])},x=m=>{if(window.confirm("Do you want to delete?"))try{T.child(`C2/${m}`).remove(),alert("Row deleted successfully!")}catch(u){console.error("Error deleting row:",u)}},C=m=>{const u=new Date(m);return u.setDate(u.getDate()+30),u.toISOString().split("T")[0]},v=m=>{const{name:u,value:j}=m.target;o(u==="date"?{...i,[u]:j,due_date:C(j)}:{...i,[u]:j})},k=m=>{r(m.target.value)},R=new Date,P=new Date(i.due_date),L=Math.floor((P-R)/(1e3*60*60*24));let D="badge bg-success";L<3&&(D="badge bg-danger");const M=Object.keys(t).filter(m=>{const u=t[m];return u.room_number.toLowerCase().includes(n.toLowerCase())||u.status.toLowerCase().includes(n.toLowerCase())||u.floor_number.toString().includes(n)||u.price.toString().includes(n)});return a.jsxs("div",{className:"container mt-3",children:[a.jsxs("div",{className:"row justify-content-end p-4",children:[a.jsx("div",{className:"col-auto",children:a.jsx("button",{type:"button",className:"btn badge text-bg-primary me-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"Add Tenent"})}),a.jsx("div",{className:"col-auto",children:a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>s(-1),children:"Back"})})]}),a.jsx("div",{className:"col-6 mb-4",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"Search",onChange:k})}),a.jsx("div",{className:"container",children:a.jsx("div",{className:"row",children:M&&M.map(m=>{const u=t[m];return a.jsx("div",{className:"col-sm-6 col-md-4",children:a.jsxs("div",{className:"card shadow-lg mb-5 bg-body rounded border-0",children:[a.jsx("img",{src:u.student_img,className:"card-img-top fixed-size-img",style:{height:"30vh",width:"30vh",display:"flex",justifyContent:"center",alignItems:"center",objectFit:"cover",margin:"auto"},alt:"Room"}),a.jsxs("div",{className:"card-body",children:[a.jsxs("ul",{className:"list-group list-group-flush",children:[a.jsxs("li",{className:"list-group-item",children:["Tenant Name:",a.jsx("span",{className:"badge bg-secondary",children:u.name})]}),a.jsxs("li",{className:"list-group-item",children:["Adhar Number:",a.jsx("span",{className:"badge bg-info",children:u.adhar_num})]}),a.jsxs("li",{className:"list-group-item",children:["Mobile Number:",a.jsxs("span",{className:"badge bg-light text-dark",children:[a.jsx("a",{href:`tel:${u.mobile_num}`,children:u.mobile_num})," | ",a.jsx("a",{href:`https://wa.me/${u.mobile_num}?text=Hello%20${u.name},%20I%20would%20like%20to%20discuss%20your%20room%20details%20Please%20Pay%20The%20Room%20Rent.`,target:"_blank",rel:"noopener noreferrer",children:"WhatsApp"})]})]}),a.jsxs("li",{className:"list-group-item",children:["Room Number:",a.jsx("span",{className:"badge bg-primary",children:u.room_number})]}),a.jsxs("li",{className:"list-group-item",children:["Status:",a.jsx("span",{className:`badge ${u.status==="Joined"?"text-bg-success":u.status==="Vacated"?"text-bg-danger":u.status==="Under Maintenance"?"text-bg-warning":""}`,children:u.status})]}),a.jsxs("li",{className:"list-group-item",children:["Floor:",a.jsx("span",{className:"badge bg-warning",children:u.floor_number})]}),a.jsxs("li",{className:"list-group-item",children:["Price:",a.jsxs("span",{className:"badge bg-primary",children:["$",u.price]})]}),a.jsxs("li",{className:"list-group-item",children:["Joining Date:",a.jsx("span",{className:"badge bg-info",children:u.date})]}),a.jsxs("li",{className:"list-group-item",children:["Due Date:",a.jsx("span",{className:D,children:u.due_date})]})]}),a.jsxs("div",{className:"card-body",children:[a.jsx("button",{className:"btn badge text-bg-primary ms-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal1",onClick:()=>_(m),children:a.jsx("i",{className:"fa-solid fa-pen-to-square"})}),a.jsx("button",{className:"btn badge text-bg-danger ",onClick:()=>x(m),children:a.jsx("i",{className:"fa-solid fa-trash"})})]})]})]})},m)})})}),a.jsx("div",{className:"modal fade",id:"exampleModal","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h1",{className:"modal-title fs-5",id:"exampleModalLabel",children:"Add Tenent"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:E,children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Date"}),a.jsx("input",{type:"date",className:"form-control",name:"date",value:i.date,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Student_name"}),a.jsx("input",{type:"text",className:"form-control",name:"name",value:i.name,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Adhar_num"}),a.jsx("input",{type:"text",className:"form-control",id:"adhar_num",name:"adhar_num",value:i.adhar_num,onChange:v,required:!0}),d.adhar&&a.jsx("span",{className:"text-danger",children:d.adhar})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Mobile_num"}),a.jsx("input",{type:"text",className:"form-control",name:"mobile_num",value:i.mobile_num,onChange:v,required:!0}),d.mobile&&a.jsx("span",{className:"text-danger",children:d.mobile})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Status"}),a.jsxs("select",{className:"form-select",name:"status",value:i.status,onChange:v,required:!0,children:[a.jsx("option",{value:"",disabled:!0,children:"Choose..."}),a.jsx("option",{className:"badge text-bg-success",value:"Joined",children:"Joined"}),a.jsx("option",{className:"badge text-bg-danger",value:"Vacated",children:"Vacated"}),a.jsx("option",{className:"badge text-bg-warning",value:"Under Maintenance",children:"Under Maintenance"})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Room Number"}),a.jsx("input",{type:"text",className:"form-control",name:"room_number",value:i.room_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Floor"}),a.jsx("input",{type:"text",className:"form-control",name:"floor_number",value:i.floor_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Price"}),a.jsxs("div",{className:"input-group",children:[a.jsx("span",{className:"input-group-text",children:"$"}),a.jsx("input",{type:"number",className:"form-control",name:"price",value:i.price,onChange:v,placeholder:"0.00",step:"0.01",min:"0",required:!0})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Tenent"}),a.jsx("input",{type:"file",name:"student_img",onChange:m=>c(m.target.files[0])})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})]})})}),a.jsx("div",{className:"modal fade",id:"exampleModal1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"exampleModalLabel",children:"Edit PG Students Record"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:b,children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Date"}),a.jsx("input",{type:"date",className:"form-control",id:"date",name:"date",value:i.date,onChange:v,required:!0})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"name",className:"form-label",children:"Student Name"}),a.jsx("input",{type:"text",className:"form-control",id:"name",name:"name",value:i.name,onChange:v,required:!0})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"adhar_num",className:"form-label",children:"Aadhaar Number"}),a.jsx("input",{type:"text",className:"form-control",id:"adhar_num",name:"adhar_num",value:i.adhar_num,onChange:v,required:!0}),d.adhar&&a.jsx("span",{className:"text-danger",children:d.adhar})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"mobile_num",className:"form-label",children:"Mobile Number"}),a.jsx("input",{type:"text",className:"form-control",id:"mobile_num",name:"mobile_num",value:i.mobile_num,onChange:v,required:!0}),d.mobile&&a.jsx("span",{className:"text-danger",children:d.mobile})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"status",className:"form-label",children:"Status"}),a.jsxs("select",{className:"form-select",id:"status",name:"status",value:i.status,onChange:v,required:!0,children:[a.jsx("option",{value:"",disabled:!0,children:"Choose..."}),a.jsx("option",{value:"Joined",className:"badge text-bg-success",children:"Joined"}),a.jsx("option",{value:"Vacated",className:"badge text-bg-danger",children:"Vacated"}),a.jsx("option",{value:"Under Maintenance",className:"badge text-bg-warning",children:"Under Maintenance"})]})]})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"room_number",className:"form-label",children:"Room Number"}),a.jsx("input",{type:"text",className:"form-control",id:"room_number",name:"room_number",value:i.room_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"floor_number",className:"form-label",children:"Floor Number"}),a.jsx("input",{type:"text",className:"form-control",id:"floor_number",name:"floor_number",value:i.floor_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"price",className:"form-label",children:"Price"}),a.jsx("input",{type:"number",className:"form-control",id:"price",name:"price",value:i.price,onChange:v,required:!0})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Tenent"}),a.jsx("input",{type:"file",name:"student_img",onChange:m=>c(m.target.files[0])})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save Changes"})]})})]})})})]})}function kA(){const[t,e]=w.useState({}),[n,r]=w.useState(""),s=he(),[i,o]=w.useState({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:"",due_date:""}),[l,c]=w.useState(null),[h,p]=w.useState(null);w.useEffect(()=>((()=>{T.child("C3").on("value",u=>{u.val()&&e(u.val())})})(),()=>T.child("C3").off()),[]);const f=async m=>{if(!m)return;const u=Ae(Oe,`file/${Me()}`);return await Pe(u,m),await De(u)},[d,g]=w.useState({adhar:"",mobile:""}),y=/^\d{12}$/,N=/^[6-9]\d{9}$/,E=async m=>{if(m.preventDefault(),i.adhar_num.trim()===""){g({...d,adhar:"Enter Aadhaar Number"});return}else if(y.test(i.adhar_num))g({...d,adhar:""});else{g({...d,adhar:"Enter valid Aadhaar Number"});return}if(i.mobile_num.trim()===""){g({...d,mobile:"Enter Mobile Number"});return}else if(N.test(i.mobile_num))g({...d,mobile:""});else{g({...d,mobile:"Enter valid Mobile Number"});return}try{const u=await T.child("C3").get();if(u.exists()&&Object.keys(u.val()).length>=1){alert("You cannot add more than 1 records. because this room contains 1 Beds only so please check the Beds.");return}const j=await f(l),W={...i,student_img:j};await T.child("C3").push(W),alert("Data saved successfully!"),o({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:""}),c(null)}catch(u){console.error("Error saving data:",u)}},b=async m=>{if(m.preventDefault(),i.adhar_num.trim()===""){g({...d,adhar:"Enter Aadhaar Number"});return}else if(y.test(i.adhar_num))g({...d,adhar:""});else{g({...d,adhar:"Enter valid Aadhaar Number"});return}if(i.mobile_num.trim()===""){g({...d,mobile:"Enter Mobile Number"});return}else if(N.test(i.mobile_num))g({...d,mobile:""});else{g({...d,mobile:"Enter valid Mobile Number"});return}try{let u={...i};if(l){const j=await f(l);u.student_img=j}await T.child(`C3/${h}`).update(u),alert("Data updated successfully!"),o({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:""}),p(null),c(null)}catch(u){console.error("Error updating data:",u)}},_=m=>{p(m),o(t[m])},x=m=>{if(window.confirm("Do you want to delete?"))try{T.child(`C3/${m}`).remove(),alert("Row deleted successfully!")}catch(u){console.error("Error deleting row:",u)}},C=m=>{const u=new Date(m);return u.setDate(u.getDate()+30),u.toISOString().split("T")[0]},v=m=>{const{name:u,value:j}=m.target;o(u==="date"?{...i,[u]:j,due_date:C(j)}:{...i,[u]:j})},k=m=>{r(m.target.value)},R=new Date,P=new Date(i.due_date),L=Math.floor((P-R)/(1e3*60*60*24));let D="badge bg-success";L<3&&(D="badge bg-danger");const M=Object.keys(t).filter(m=>{const u=t[m];return u.room_number.toLowerCase().includes(n.toLowerCase())||u.status.toLowerCase().includes(n.toLowerCase())||u.floor_number.toString().includes(n)||u.price.toString().includes(n)});return a.jsxs("div",{className:"container mt-3",children:[a.jsxs("div",{className:"row justify-content-end p-4",children:[a.jsx("div",{className:"col-auto",children:a.jsx("button",{type:"button",className:"btn badge text-bg-primary me-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"Add Tenent"})}),a.jsx("div",{className:"col-auto",children:a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>s(-1),children:"Back"})})]}),a.jsx("div",{className:"col-6 mb-4",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"Search",onChange:k})}),a.jsx("div",{className:"container",children:a.jsx("div",{className:"row",children:M&&M.map(m=>{const u=t[m];return a.jsx("div",{className:"col-sm-6 col-md-4",children:a.jsxs("div",{className:"card shadow-lg mb-5 bg-body rounded border-0",children:[a.jsx("img",{src:u.student_img,className:"card-img-top fixed-size-img",style:{height:"30vh",width:"30vh",display:"flex",justifyContent:"center",alignItems:"center",objectFit:"cover",margin:"auto"},alt:"Room"}),a.jsxs("div",{className:"card-body",children:[a.jsxs("ul",{className:"list-group list-group-flush",children:[a.jsxs("li",{className:"list-group-item",children:["Tenant Name:",a.jsx("span",{className:"badge bg-secondary",children:u.name})]}),a.jsxs("li",{className:"list-group-item",children:["Adhar Number:",a.jsx("span",{className:"badge bg-info",children:u.adhar_num})]}),a.jsxs("li",{className:"list-group-item",children:["Mobile Number:",a.jsxs("span",{className:"badge bg-light text-dark",children:[a.jsx("a",{href:`tel:${u.mobile_num}`,children:u.mobile_num})," | ",a.jsx("a",{href:`https://wa.me/${u.mobile_num}?text=Hello%20${u.name},%20I%20would%20like%20to%20discuss%20your%20room%20details%20Please%20Pay%20The%20Room%20Rent.`,target:"_blank",rel:"noopener noreferrer",children:"WhatsApp"})]})]}),a.jsxs("li",{className:"list-group-item",children:["Room Number:",a.jsx("span",{className:"badge bg-primary",children:u.room_number})]}),a.jsxs("li",{className:"list-group-item",children:["Status:",a.jsx("span",{className:`badge ${u.status==="Joined"?"text-bg-success":u.status==="Vacated"?"text-bg-danger":u.status==="Under Maintenance"?"text-bg-warning":""}`,children:u.status})]}),a.jsxs("li",{className:"list-group-item",children:["Floor:",a.jsx("span",{className:"badge bg-warning",children:u.floor_number})]}),a.jsxs("li",{className:"list-group-item",children:["Price:",a.jsxs("span",{className:"badge bg-primary",children:["$",u.price]})]}),a.jsxs("li",{className:"list-group-item",children:["Joining Date:",a.jsx("span",{className:"badge bg-info",children:u.date})]}),a.jsxs("li",{className:"list-group-item",children:["Due Date:",a.jsx("span",{className:D,children:u.due_date})]})]}),a.jsxs("div",{className:"card-body",children:[a.jsx("button",{className:"btn badge text-bg-primary ms-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal1",onClick:()=>_(m),children:a.jsx("i",{className:"fa-solid fa-pen-to-square"})}),a.jsx("button",{className:"btn badge text-bg-danger ",onClick:()=>x(m),children:a.jsx("i",{className:"fa-solid fa-trash"})})]})]})]})},m)})})}),a.jsx("div",{className:"modal fade",id:"exampleModal","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h1",{className:"modal-title fs-5",id:"exampleModalLabel",children:"Add Tenent"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:E,children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Date"}),a.jsx("input",{type:"date",className:"form-control",name:"date",value:i.date,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Student_name"}),a.jsx("input",{type:"text",className:"form-control",name:"name",value:i.name,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Adhar_num"}),a.jsx("input",{type:"text",className:"form-control",id:"adhar_num",name:"adhar_num",value:i.adhar_num,onChange:v,required:!0}),d.adhar&&a.jsx("span",{className:"text-danger",children:d.adhar})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Mobile_num"}),a.jsx("input",{type:"text",className:"form-control",name:"mobile_num",value:i.mobile_num,onChange:v,required:!0}),d.mobile&&a.jsx("span",{className:"text-danger",children:d.mobile})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Status"}),a.jsxs("select",{className:"form-select",name:"status",value:i.status,onChange:v,required:!0,children:[a.jsx("option",{value:"",disabled:!0,children:"Choose..."}),a.jsx("option",{className:"badge text-bg-success",value:"Joined",children:"Joined"}),a.jsx("option",{className:"badge text-bg-danger",value:"Vacated",children:"Vacated"}),a.jsx("option",{className:"badge text-bg-warning",value:"Under Maintenance",children:"Under Maintenance"})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Room Number"}),a.jsx("input",{type:"text",className:"form-control",name:"room_number",value:i.room_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Floor"}),a.jsx("input",{type:"text",className:"form-control",name:"floor_number",value:i.floor_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Price"}),a.jsxs("div",{className:"input-group",children:[a.jsx("span",{className:"input-group-text",children:"$"}),a.jsx("input",{type:"number",className:"form-control",name:"price",value:i.price,onChange:v,placeholder:"0.00",step:"0.01",min:"0",required:!0})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Tenent"}),a.jsx("input",{type:"file",name:"student_img",onChange:m=>c(m.target.files[0])})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})]})})}),a.jsx("div",{className:"modal fade",id:"exampleModal1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"exampleModalLabel",children:"Edit PG Students Record"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:b,children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Date"}),a.jsx("input",{type:"date",className:"form-control",id:"date",name:"date",value:i.date,onChange:v,required:!0})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"name",className:"form-label",children:"Student Name"}),a.jsx("input",{type:"text",className:"form-control",id:"name",name:"name",value:i.name,onChange:v,required:!0})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"adhar_num",className:"form-label",children:"Aadhaar Number"}),a.jsx("input",{type:"text",className:"form-control",id:"adhar_num",name:"adhar_num",value:i.adhar_num,onChange:v,required:!0}),d.adhar&&a.jsx("span",{className:"text-danger",children:d.adhar})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"mobile_num",className:"form-label",children:"Mobile Number"}),a.jsx("input",{type:"text",className:"form-control",id:"mobile_num",name:"mobile_num",value:i.mobile_num,onChange:v,required:!0}),d.mobile&&a.jsx("span",{className:"text-danger",children:d.mobile})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"status",className:"form-label",children:"Status"}),a.jsxs("select",{className:"form-select",id:"status",name:"status",value:i.status,onChange:v,required:!0,children:[a.jsx("option",{value:"",disabled:!0,children:"Choose..."}),a.jsx("option",{value:"Joined",className:"badge text-bg-success",children:"Joined"}),a.jsx("option",{value:"Vacated",className:"badge text-bg-danger",children:"Vacated"}),a.jsx("option",{value:"Under Maintenance",className:"badge text-bg-warning",children:"Under Maintenance"})]})]})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"room_number",className:"form-label",children:"Room Number"}),a.jsx("input",{type:"text",className:"form-control",id:"room_number",name:"room_number",value:i.room_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"floor_number",className:"form-label",children:"Floor Number"}),a.jsx("input",{type:"text",className:"form-control",id:"floor_number",name:"floor_number",value:i.floor_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"price",className:"form-label",children:"Price"}),a.jsx("input",{type:"number",className:"form-control",id:"price",name:"price",value:i.price,onChange:v,required:!0})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Tenent"}),a.jsx("input",{type:"file",name:"student_img",onChange:m=>c(m.target.files[0])})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save Changes"})]})})]})})})]})}function RA(){const[t,e]=w.useState({}),[n,r]=w.useState(""),s=he(),[i,o]=w.useState({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:"",due_date:""}),[l,c]=w.useState(null),[h,p]=w.useState(null);w.useEffect(()=>((()=>{T.child("C4").on("value",u=>{u.val()&&e(u.val())})})(),()=>T.child("C4").off()),[]);const f=async m=>{if(!m)return;const u=Ae(Oe,`file/${Me()}`);return await Pe(u,m),await De(u)},[d,g]=w.useState({adhar:"",mobile:""}),y=/^\d{12}$/,N=/^[6-9]\d{9}$/,E=async m=>{if(m.preventDefault(),i.adhar_num.trim()===""){g({...d,adhar:"Enter Aadhaar Number"});return}else if(y.test(i.adhar_num))g({...d,adhar:""});else{g({...d,adhar:"Enter valid Aadhaar Number"});return}if(i.mobile_num.trim()===""){g({...d,mobile:"Enter Mobile Number"});return}else if(N.test(i.mobile_num))g({...d,mobile:""});else{g({...d,mobile:"Enter valid Mobile Number"});return}try{const u=await T.child("C4").get();if(u.exists()&&Object.keys(u.val()).length>=1){alert("You cannot add more than 1 records. because this room contains 1 Beds only so please check the Beds.");return}const j=await f(l),W={...i,student_img:j};await T.child("C4").push(W),alert("Data saved successfully!"),o({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:""}),c(null)}catch(u){console.error("Error saving data:",u)}},b=async m=>{if(m.preventDefault(),i.adhar_num.trim()===""){g({...d,adhar:"Enter Aadhaar Number"});return}else if(y.test(i.adhar_num))g({...d,adhar:""});else{g({...d,adhar:"Enter valid Aadhaar Number"});return}if(i.mobile_num.trim()===""){g({...d,mobile:"Enter Mobile Number"});return}else if(N.test(i.mobile_num))g({...d,mobile:""});else{g({...d,mobile:"Enter valid Mobile Number"});return}try{let u={...i};if(l){const j=await f(l);u.student_img=j}await T.child(`C4/${h}`).update(u),alert("Data updated successfully!"),o({date:"",name:"",adhar_num:"",mobile_num:"",status:"",room_number:"",floor_number:"",price:"",student_img:""}),p(null),c(null)}catch(u){console.error("Error updating data:",u)}},_=m=>{p(m),o(t[m])},x=m=>{if(window.confirm("Do you want to delete?"))try{T.child(`C4/${m}`).remove(),alert("Row deleted successfully!")}catch(u){console.error("Error deleting row:",u)}},C=m=>{const u=new Date(m);return u.setDate(u.getDate()+30),u.toISOString().split("T")[0]},v=m=>{const{name:u,value:j}=m.target;o(u==="date"?{...i,[u]:j,due_date:C(j)}:{...i,[u]:j})},k=m=>{r(m.target.value)},R=new Date,P=new Date(i.due_date),L=Math.floor((P-R)/(1e3*60*60*24));let D="badge bg-success";L<3&&(D="badge bg-danger");const M=Object.keys(t).filter(m=>{const u=t[m];return u.room_number.toLowerCase().includes(n.toLowerCase())||u.status.toLowerCase().includes(n.toLowerCase())||u.floor_number.toString().includes(n)||u.price.toString().includes(n)});return a.jsxs("div",{className:"container mt-3",children:[a.jsxs("div",{className:"row justify-content-end p-4",children:[a.jsx("div",{className:"col-auto",children:a.jsx("button",{type:"button",className:"btn badge text-bg-primary me-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"Add Tenent"})}),a.jsx("div",{className:"col-auto",children:a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>s(-1),children:"Back"})})]}),a.jsx("div",{className:"col-6 mb-4",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"Search",onChange:k})}),a.jsx("div",{className:"container",children:a.jsx("div",{className:"row",children:M&&M.map(m=>{const u=t[m];return a.jsx("div",{className:"col-sm-6 col-md-4",children:a.jsxs("div",{className:"card shadow-lg mb-5 bg-body rounded border-0",children:[a.jsx("img",{src:u.student_img,className:"card-img-top fixed-size-img",style:{height:"30vh",width:"30vh",display:"flex",justifyContent:"center",alignItems:"center",objectFit:"cover",margin:"auto"},alt:"Room"}),a.jsxs("div",{className:"card-body",children:[a.jsxs("ul",{className:"list-group list-group-flush",children:[a.jsxs("li",{className:"list-group-item",children:["Tenant Name:",a.jsx("span",{className:"badge bg-secondary",children:u.name})]}),a.jsxs("li",{className:"list-group-item",children:["Adhar Number:",a.jsx("span",{className:"badge bg-info",children:u.adhar_num})]}),a.jsxs("li",{className:"list-group-item",children:["Mobile Number:",a.jsxs("span",{className:"badge bg-light text-dark",children:[a.jsx("a",{href:`tel:${u.mobile_num}`,children:u.mobile_num})," | ",a.jsx("a",{href:`https://wa.me/${u.mobile_num}?text=Hello%20${u.name},%20I%20would%20like%20to%20discuss%20your%20room%20details%20Please%20Pay%20The%20Room%20Rent.`,target:"_blank",rel:"noopener noreferrer",children:"WhatsApp"})]})]}),a.jsxs("li",{className:"list-group-item",children:["Room Number:",a.jsx("span",{className:"badge bg-primary",children:u.room_number})]}),a.jsxs("li",{className:"list-group-item",children:["Status:",a.jsx("span",{className:`badge ${u.status==="Joined"?"text-bg-success":u.status==="Vacated"?"text-bg-danger":u.status==="Under Maintenance"?"text-bg-warning":""}`,children:u.status})]}),a.jsxs("li",{className:"list-group-item",children:["Floor:",a.jsx("span",{className:"badge bg-warning",children:u.floor_number})]}),a.jsxs("li",{className:"list-group-item",children:["Price:",a.jsxs("span",{className:"badge bg-primary",children:["$",u.price]})]}),a.jsxs("li",{className:"list-group-item",children:["Joining Date:",a.jsx("span",{className:"badge bg-info",children:u.date})]}),a.jsxs("li",{className:"list-group-item",children:["Due Date:",a.jsx("span",{className:D,children:u.due_date})]})]}),a.jsxs("div",{className:"card-body",children:[a.jsx("button",{className:"btn badge text-bg-primary ms-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal1",onClick:()=>_(m),children:a.jsx("i",{className:"fa-solid fa-pen-to-square"})}),a.jsx("button",{className:"btn badge text-bg-danger ",onClick:()=>x(m),children:a.jsx("i",{className:"fa-solid fa-trash"})})]})]})]})},m)})})}),a.jsx("div",{className:"modal fade",id:"exampleModal","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h1",{className:"modal-title fs-5",id:"exampleModalLabel",children:"Add Tenent"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:E,children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Date"}),a.jsx("input",{type:"date",className:"form-control",name:"date",value:i.date,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Student_name"}),a.jsx("input",{type:"text",className:"form-control",name:"name",value:i.name,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Adhar_num"}),a.jsx("input",{type:"text",className:"form-control",id:"adhar_num",name:"adhar_num",value:i.adhar_num,onChange:v,required:!0}),d.adhar&&a.jsx("span",{className:"text-danger",children:d.adhar})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Mobile_num"}),a.jsx("input",{type:"text",className:"form-control",name:"mobile_num",value:i.mobile_num,onChange:v,required:!0}),d.mobile&&a.jsx("span",{className:"text-danger",children:d.mobile})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Status"}),a.jsxs("select",{className:"form-select",name:"status",value:i.status,onChange:v,required:!0,children:[a.jsx("option",{value:"",disabled:!0,children:"Choose..."}),a.jsx("option",{className:"badge text-bg-success",value:"Joined",children:"Joined"}),a.jsx("option",{className:"badge text-bg-danger",value:"Vacated",children:"Vacated"}),a.jsx("option",{className:"badge text-bg-warning",value:"Under Maintenance",children:"Under Maintenance"})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Room Number"}),a.jsx("input",{type:"text",className:"form-control",name:"room_number",value:i.room_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Floor"}),a.jsx("input",{type:"text",className:"form-control",name:"floor_number",value:i.floor_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Price"}),a.jsxs("div",{className:"input-group",children:[a.jsx("span",{className:"input-group-text",children:"$"}),a.jsx("input",{type:"number",className:"form-control",name:"price",value:i.price,onChange:v,placeholder:"0.00",step:"0.01",min:"0",required:!0})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Tenent"}),a.jsx("input",{type:"file",name:"student_img",onChange:m=>c(m.target.files[0])})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})]})})}),a.jsx("div",{className:"modal fade",id:"exampleModal1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"exampleModalLabel",children:"Edit PG Students Record"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:b,children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Date"}),a.jsx("input",{type:"date",className:"form-control",id:"date",name:"date",value:i.date,onChange:v,required:!0})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"name",className:"form-label",children:"Student Name"}),a.jsx("input",{type:"text",className:"form-control",id:"name",name:"name",value:i.name,onChange:v,required:!0})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"adhar_num",className:"form-label",children:"Aadhaar Number"}),a.jsx("input",{type:"text",className:"form-control",id:"adhar_num",name:"adhar_num",value:i.adhar_num,onChange:v,required:!0}),d.adhar&&a.jsx("span",{className:"text-danger",children:d.adhar})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"mobile_num",className:"form-label",children:"Mobile Number"}),a.jsx("input",{type:"text",className:"form-control",id:"mobile_num",name:"mobile_num",value:i.mobile_num,onChange:v,required:!0}),d.mobile&&a.jsx("span",{className:"text-danger",children:d.mobile})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"status",className:"form-label",children:"Status"}),a.jsxs("select",{className:"form-select",id:"status",name:"status",value:i.status,onChange:v,required:!0,children:[a.jsx("option",{value:"",disabled:!0,children:"Choose..."}),a.jsx("option",{value:"Joined",className:"badge text-bg-success",children:"Joined"}),a.jsx("option",{value:"Vacated",className:"badge text-bg-danger",children:"Vacated"}),a.jsx("option",{value:"Under Maintenance",className:"badge text-bg-warning",children:"Under Maintenance"})]})]})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"room_number",className:"form-label",children:"Room Number"}),a.jsx("input",{type:"text",className:"form-control",id:"room_number",name:"room_number",value:i.room_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"floor_number",className:"form-label",children:"Floor Number"}),a.jsx("input",{type:"text",className:"form-control",id:"floor_number",name:"floor_number",value:i.floor_number,onChange:v,required:!0})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"price",className:"form-label",children:"Price"}),a.jsx("input",{type:"number",className:"form-control",id:"price",name:"price",value:i.price,onChange:v,required:!0})]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{className:"form-label",children:"Tenent"}),a.jsx("input",{type:"file",name:"student_img",onChange:m=>c(m.target.files[0])})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save Changes"})]})})]})})})]})}const PA=()=>{const[t,e]=w.useState(""),n=he(),r=async i=>{i.preventDefault();try{await yS(Dl),aA(),n("/login",{replace:!0})}catch(o){console.error("Logout error:",o.message)}},s=i=>{e(i)};return a.jsx("nav",{className:"navbar navbar-expand-lg bg-dark",children:a.jsxs("div",{className:"container-fluid",children:[a.jsx("a",{className:"navbar-brand text-white badge text-bg-dark",href:"#",children:"HOSTEL MANAGMENT"}),a.jsx("button",{className:"navbar-toggler text-bg-secondary",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:a.jsx("span",{className:"navbar-toggler-icon"})}),a.jsxs("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[a.jsxs("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0 mt-4 ms-5",children:[a.jsx("li",{className:"nav-item",children:a.jsx("a",{id:"dashboard",className:`nav-link badge ${t==="dashboard"?"active bg-secondary text-white":"text-white"}`,"aria-current":"page",href:"/dashboard",onClick:()=>s("dashboard"),children:"DASHBOARD"})}),a.jsx("li",{className:"nav-item",children:a.jsx("a",{id:"rooms",className:`nav-link badge ${t==="rooms"?" bg-secondary text-white":"text-white"}`,"aria-current":"page",href:"/room_no",onClick:()=>s("rooms"),children:"ROOMS"})})]}),a.jsx("form",{className:"d-flex",role:"search",children:a.jsx("button",{className:"btn badge text-bg-success",onClick:r,children:"Logout"})})]})]})})},DA=()=>{const t=he();return a.jsx(a.Fragment,{children:a.jsx("nav",{className:"navbar navbar-dark bg-body fixed-bottom",children:a.jsx("div",{className:"container-fluid justify-content-center",children:a.jsxs("ul",{className:"navbar-nav d-flex flex-row mb-2 mb-lg-0 justify-content-center w-100 ",children:[a.jsx("li",{className:"nav-item mx-3 badge bg-dark ",children:a.jsx("button",{className:"nav-link ",onClick:()=>t(-1),children:a.jsx("i",{className:"fa-solid fa-arrow-left "})})}),a.jsx("li",{className:"nav-item mx-3 badge bg-dark",children:a.jsx("button",{className:"nav-link",onClick:()=>t(1),children:a.jsx("i",{className:"fa-solid fa-arrow-right"})})})]})})})})};function AA(){return a.jsxs(Uj,{children:[a.jsx(PA,{}),a.jsxs(Pj,{children:[a.jsx(ce,{path:"/",element:a.jsx(bu,{component:sv})}),a.jsx(ce,{path:"/login",element:a.jsx(bu,{component:sv})}),a.jsx(ce,{path:"/signup",element:a.jsx(bu,{component:sA})}),a.jsx(ce,{path:"/dashboard",element:a.jsx(Ce,{component:oA})}),a.jsx(ce,{path:"/room_no",element:a.jsx(Ce,{component:lA})}),a.jsx(ce,{path:"/g1",element:a.jsx(Ce,{component:mA})}),a.jsx(ce,{path:"/g2",element:a.jsx(Ce,{component:fA})}),a.jsx(ce,{path:"/a1",element:a.jsx(Ce,{component:pA})}),a.jsx(ce,{path:"/a2",element:a.jsx(Ce,{component:gA})}),a.jsx(ce,{path:"/a3",element:a.jsx(Ce,{component:vA})}),a.jsx(ce,{path:"/a4",element:a.jsx(Ce,{component:_A})}),a.jsx(ce,{path:"/a5",element:a.jsx(Ce,{component:bA})}),a.jsx(ce,{path:"/a6",element:a.jsx(Ce,{component:yA})}),a.jsx(ce,{path:"/a7",element:a.jsx(Ce,{component:xA})}),a.jsx(ce,{path:"/b1",element:a.jsx(Ce,{component:NA})}),a.jsx(ce,{path:"/b2",element:a.jsx(Ce,{component:wA})}),a.jsx(ce,{path:"/b3",element:a.jsx(Ce,{component:jA})}),a.jsx(ce,{path:"/b4",element:a.jsx(Ce,{component:CA})}),a.jsx(ce,{path:"/b5",element:a.jsx(Ce,{component:EA})}),a.jsx(ce,{path:"/b6",element:a.jsx(Ce,{component:SA})}),a.jsx(ce,{path:"/c1",element:a.jsx(Ce,{component:IA})}),a.jsx(ce,{path:"/c2",element:a.jsx(Ce,{component:TA})}),a.jsx(ce,{path:"/c3",element:a.jsx(Ce,{component:kA})}),a.jsx(ce,{path:"/c4",element:a.jsx(Ce,{component:RA})})]}),a.jsx(DA,{})]})}xu.createRoot(document.getElementById("root")).render(a.jsx(gv.StrictMode,{children:a.jsx(AA,{})}));
